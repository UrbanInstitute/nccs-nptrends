[
  {
    "objectID": "30-YEAR-THREE.html",
    "href": "30-YEAR-THREE.html",
    "title": "YEAR THREE DATA",
    "section": "",
    "text": "Required R Packages\nThis chapter will utilize the following packages:\nlibrary( haven )\nlibrary( dplyr )\nlibrary( tidyr )\nlibrary( epoxy )\nlibrary( memisc )\nlibrary( labelled )",
    "crumbs": [
      "YEAR THREE DATA"
    ]
  },
  {
    "objectID": "30-YEAR-THREE.html#renaming-columns",
    "href": "30-YEAR-THREE.html#renaming-columns",
    "title": "YEAR THREE DATA",
    "section": "Renaming Columns",
    "text": "Renaming Columns\nColumns referencing survey questions are renamed with the help of a data dictionary to improve readability.\n\ntorename &lt;- \n  dd %&gt;% \n  dplyr::select( vname, vname_raw ) %&gt;% \n  tidyr::drop_na()\n\ntorename &lt;- dplyr::filter( torename, vname_raw != \"Q10.2_4\" )\n\n# torename$vname_raw %&gt;% setdiff( names(survey_df) )\n\nExamples:\n\n\n[1] \"Q4.1#1_1_1\" \"Q4.1#1_2_1\" \"Q4.1#2_1_1\" \"Q4.1#2_2_1\"\n\n\nGive the data meaningful names so that it is easier to work with.\n\n# USE RAW VNAME IF VNAME IS EMPTY:\ndd$vname[ is.na(dd$vname) ] &lt;- dd$vname_raw[ is.na(dd$vname) ]\n\nsurvey_df &lt;- \n  survey_df %&gt;% \n  dplyr::rename_at(\n     vars( torename$vname_raw ), \n     ~ torename$vname )\n\nExamples:\n\n\n[1] \"PplSrv_NumServed\"      \"PplSrv_NumWait\"        \"PplSrv_NumServed_NA_X\"\n[4] \"PplSrv_NumWait_NA_X\"  \n\n\nAdd survey questions as an attribute in the data frame:\n\ntemp          &lt;- readr::read_csv( paste0( fpath, fname ) )\nquestion.txt  &lt;- as.character( temp[ 1, ] )\nrm( temp )\n\nnames( question.txt ) &lt;- names( survey_df )\nattr( survey_df, \"question_txt\" ) &lt;- question.txt",
    "crumbs": [
      "YEAR THREE DATA"
    ]
  },
  {
    "objectID": "30-YEAR-THREE.html#drop-nuisance-fields",
    "href": "30-YEAR-THREE.html#drop-nuisance-fields",
    "title": "YEAR THREE DATA",
    "section": "Drop Nuisance Fields",
    "text": "Drop Nuisance Fields\nMany of the exported qualtrics fields contain non-useful metadata or are empty. These have been labeled as “DROP” in the group field. Remove these for convenience.\n\n# SELECT COLUMNS TO DROP: \nDROP_THESE &lt;- dd$vname[ dd$group == \"DROP\" ] |&gt; na.omit()\n\nsurvey_df &lt;- \n  survey_df %&gt;% \n  dplyr::select( -any_of( DROP_THESE ) )",
    "crumbs": [
      "YEAR THREE DATA"
    ]
  }
]