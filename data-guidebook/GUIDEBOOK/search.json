[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "NP Trends Survey Data Preparation Guide",
    "section": "",
    "text": "Preface\nThis is a Guide Book for preparing survey data from the Nonprofit Trends project.",
    "crumbs": [
      "Preface"
    ]
  },
  {
    "objectID": "0_01-r-setup.html",
    "href": "0_01-r-setup.html",
    "title": "1  R Setup",
    "section": "",
    "text": "The following R packages are used throughout the data preparation guide:\n\nhaven: import data from Stata and SAS\ndplyr: data wrangling\ntidyr: data wrangling\nepoxy: quarto document text\nmemisc: survey data tools\n\nlabelled: memisc helper package\n\n\nlibrary( haven )\nlibrary( dplyr )\n\n\nAttaching package: 'dplyr'\n\n\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n\n\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n\nlibrary( tidyr )\nlibrary( epoxy )\nlibrary( memisc )\n\nLoading required package: lattice\n\n\nLoading required package: MASS\n\n\n\nAttaching package: 'MASS'\n\n\nThe following object is masked from 'package:dplyr':\n\n    select\n\n\n\nAttaching package: 'memisc'\n\n\nThe following objects are masked from 'package:dplyr':\n\n    collect, recode, rename, syms\n\n\nThe following objects are masked from 'package:stats':\n\n    contr.sum, contr.treatment, contrasts\n\n\nThe following object is masked from 'package:base':\n\n    as.array\n\nlibrary( labelled )",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>R Setup</span>"
    ]
  },
  {
    "objectID": "0_02-create-dd-files.html",
    "href": "0_02-create-dd-files.html",
    "title": "2  Generating Qualtrics Dictionaries",
    "section": "",
    "text": "2.1 Qualtrics File to Crosswalk\n# source( \"../data-dictionaries/R/00-data-processing-utils.R\" )\n\nURL &lt;- \"https://raw.githubusercontent.com/UrbanInstitute/nccs-nptrends/main/data-dictionaries/R/00-data-processing-utils.R\"\nsource( URL )\n\n###########\n###########   DATA DICTIONARY\n###########\n\n# USE LEGACY = TRUE\n# FOR THE YEAR 2 DATA DICTIONARY,\n# FALSE FOR SUBSEQUENT YEARS \n\nd &lt;- \n  read_survey( \n    \"data-raw/wave-02-qualtrics-download-29mar23.csv\", \n    legacy = T )\n\nhead( as.data.frame(d) )\n\n# exports data dictionary \n\ndd &lt;- extract_colmap( d )  \n\n# add group variables\n# and factor labels \n\ndd &lt;- \n  dd %&gt;% \n  mutate( group_name = append_groups(qname) ) %&gt;%\n  group_by( group_name ) %&gt;% \n  mutate( group_n = n(),\n          group_name = ifelse( group_n &gt; 1, group_name, \"\" ),\n          is_group = ifelse( group_n &gt; 1, \"1\", \"0\" ),\n          group_levels = ifelse( group_n &gt; 1, get_categories(description), \"\" ) ) %&gt;%\n  ungroup() %&gt;% \n  mutate( type = ifelse( group_n &gt; 1, \"factor\", \"\" ) ) %&gt;% \n  select( qname, is_group, group_name, group_n, group_levels, \n          description, main, sub )\n\n\nwrite.csv( dd, \"../data-dictionaries/dd-nptrends-wave-02.csv\" )",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Generating Qualtrics Dictionaries</span>"
    ]
  },
  {
    "objectID": "0_02-create-dd-files.html#dictionary-files",
    "href": "0_02-create-dd-files.html#dictionary-files",
    "title": "2  Generating Qualtrics Dictionaries",
    "section": "2.2 Dictionary Files",
    "text": "2.2 Dictionary Files\nAfter generating the skeleton of the crosswalk file from the script, it would be completed by a research assistant by providing information for fields marked user in the table:\n\n\n\n\n\n\n\n\nDD VARIABLE\nDESCRIPTION\nSOURCE\n\n\n\n\nq\nquestion number (order)\nqualtrix\n\n\nvname_raw\nvariable name (from qualtrix export)\nqualtrix\n\n\nvname\nvariable name (final)\nuser\n\n\nvlabel\nvariable label\nuser\n\n\ntype\ndata type (numeric, character, factor, logical, date)\nuser\n\n\ngroup\ngroup name\nr script\n\n\ngroup_lev1\nfactor levels\nuser\n\n\ngroup_lev2\nsecond factor level for double-grouped variables (e.g. finances_1_1)\nuser\n\n\ngroup_lev_draft\nparsed categories (clean up and use as group_lev labels)\nr script\n\n\nadd_noise\nadd noise to this variable to anonymize?\nuser\n\n\ndescription\nsurvey question full\nqualtrix\n\n\nmain\nsurvey question sub\nqualtrix\n\n\nsub\nsurvey question response categories (kindof)\nqualtrix\n\n\n\nThese steps need to be completed each year. Most of the completed dictionaries can be reused if questions are not changing, but note that changes to the order of the questions in the survey can change the qualtrics naming conventions, and any new questions added would need documentation.\nThese dictionary crosswalk files are utilized in subsequent steps.\n\n2.2.1 Preview\n\ndd &lt;- readxl::read_xlsx( \"../data-dictionaries/dd-nptrends-wave-02.xlsx\", sheet = \"data dictionary\" )\n\nhead( dd[30:50,] ) \n\n# A tibble: 6 × 13\n      q vname vname_raw vlabel type  group group_lev1 group_lev2 group_lev_draft\n  &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;     &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;          \n1    30 Addr… MainAddr… Nonpr… char… Main… address    &lt;NA&gt;       City and State \n2    31 Addr… MainAddr… Nonpr… char… Main… address    &lt;NA&gt;       ZIP Code       \n3    32 PrgS… ProgChan… Indic… bool… Prog… number of… increase   Increased the …\n4    33 PrgS… ProgChan… indic… bool… Prog… number of… decrease   Dcrsuced the n…\n5    34 PrgS… ProgChan… indic… bool… Prog… services   suspend    Suspended or p…\n6    35 PrgS… ProgChan… Indic… bool… Prog… people se… increase   Increased the …\n# ℹ 4 more variables: add_noise &lt;chr&gt;, description &lt;chr&gt;, main &lt;chr&gt;, sub &lt;chr&gt;",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Generating Qualtrics Dictionaries</span>"
    ]
  },
  {
    "objectID": "2_00-YEAR-TWO.html",
    "href": "2_00-YEAR-TWO.html",
    "title": "YEAR TWO DATA",
    "section": "",
    "text": "Required R Packages\nThis chapter will utilize the following packages:\nlibrary( haven )\nlibrary( dplyr )\nlibrary( tidyr )\nlibrary( epoxy )\nlibrary( memisc )\nlibrary( labelled )",
    "crumbs": [
      "YEAR TWO DATA"
    ]
  },
  {
    "objectID": "2_00-YEAR-TWO.html#renaming-columns",
    "href": "2_00-YEAR-TWO.html#renaming-columns",
    "title": "YEAR TWO DATA",
    "section": "Renaming Columns",
    "text": "Renaming Columns\nColumns referencing survey questions are renamed with the help of a data dictionary to improve readability.\n\ntorename &lt;- \n  dd %&gt;% \n  dplyr::select( vname, vname_raw ) %&gt;% \n  tidyr::drop_na()\n\nExamples:\n\n\n[1] \"DemandNextYear\" \"Staff#1_1_1\"    \"Staff#1_2_1\"    \"Staff#1_3_1\"   \n\n\nGive the data meaningful names so that it is easier to work with.\n\nsurvey_df &lt;- \n  survey_df %&gt;% \n  dplyr::rename_at(\n     vars( torename$vname_raw ), \n     ~ torename$vname )\n\nExamples:\n\n\n[1] \"Dmnd_NxtYear\"         \"Staff_Fulltime_2021\"  \"Staff_Parttime_2021\" \n[4] \"Staff_Boardmmbr_2021\"",
    "crumbs": [
      "YEAR TWO DATA"
    ]
  },
  {
    "objectID": "2_00-YEAR-TWO.html#drop-nuisance-fields",
    "href": "2_00-YEAR-TWO.html#drop-nuisance-fields",
    "title": "YEAR TWO DATA",
    "section": "Drop Nuisance Fields",
    "text": "Drop Nuisance Fields\nMany of the exported qualtrics fields contain non-useful metadata or are empty. These have been labeled as “DROP” in the group field. Remove these for convenience.\n\n# SELECT COLUMNS TO DROP: \nDROP_THESE &lt;- dd$vname[ dd$group == \"DROP\" ] |&gt; na.omit()\n\nsurvey_df &lt;- \n  survey_df %&gt;% \n  dplyr::select( -any_of( DROP_THESE ) )",
    "crumbs": [
      "YEAR TWO DATA"
    ]
  },
  {
    "objectID": "2_01-recoding-rules-y2.html",
    "href": "2_01-recoding-rules-y2.html",
    "title": "3  Relabeling Qualtrics Variables",
    "section": "",
    "text": "4 Yes/No Questions\n# APPLY TO COLUMNS K:\nbool_qns &lt;- \n  c( program_change_qns_bool, \n     fundraise_qns_bool, \n     cares_qns_bool, \n     finance_chng_qns_bool, \n     leadership_chng_qns_bool )\n\nCOLUMNS &lt;-  bool_qns\n\n# VALUES THAT NEED RECODING\nRULES &lt;- c(\n  \n           \"  Yes    =&gt;&gt;    1    \", \n           \"  No     =&gt;&gt;    0    \", \n           \"  Unsure =&gt;&gt;    97   \", \n           \"  N/A    =&gt;&gt;    98   \", \n           \"  -99    =&gt;&gt;    99   \"   )\n\nrules &lt;- parse_rules( RULES )          \npattern &lt;- rules[[ \"pattern\" ]]\nreplace &lt;- rules[[ \"replace\" ]]\n\n\n# MEMISC LABELS AND MISSING VALUE CODES\nvalues  &lt;- c( 0, 1, 97, 98, 99 )\nlabels  &lt;- c( \"No\", \"Yes\", \"Unsure\", \"Not Applicable\", \"N/A\" )\nmissing &lt;- c( 97, 98, 99 )\n\n# RECODE VARIABLES \nsurvey_df &lt;- \n  survey_df %&gt;% \n  recode_columns( k=COLUMNS, pattern, replace, values, labels, missing )\nExample:",
    "crumbs": [
      "YEAR TWO DATA",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Relabeling Qualtrics Variables</span>"
    ]
  },
  {
    "objectID": "2_01-recoding-rules-y2.html#seek-or-receive-fundraising-questions",
    "href": "2_01-recoding-rules-y2.html#seek-or-receive-fundraising-questions",
    "title": "3  Relabeling Qualtrics Variables",
    "section": "5.1 Seek or Receive Fundraising Questions",
    "text": "5.1 Seek or Receive Fundraising Questions\nThese checkboxes are ticked by the respondent to indicate if they have sought or received funding from a specific source.\n\n\n\n\n\n\n\n\n\n\nOriginal Value\nDescription\nRecode Label\nRecode Value\nCode as Missing?\n\n\n\n\n(select all that apply)\nCheckbox Checked\nYes\n1\nNo\n\n\n-99\nCheckbox Unchecked\nNo\n0\nNo\n\n\nNA\nUnanswered\nNA\nNA\nYes\n\n\n\n\n# APPLY TO COLUMNS K:\nCOLUMNS &lt;-  fundraise_skrcv_qns_bool\n\n# VALUES THAT NEED RECODING\n\nRULES &lt;- c(    \n  \n  \"  (select all that apply)    =&gt;&gt;    1    \", \n  \"                      -99    =&gt;&gt;    0    \"    )\n\n\nrules &lt;- parse_rules( RULES )          \npattern &lt;- rules[[ \"pattern\" ]]\nreplace &lt;- rules[[ \"replace\" ]]\n\n# MEMISC LABELS AND MISSING VALUE CODES \nvalues  &lt;- c( \"0\", \"1\" )\nlabels  &lt;- c( \"No\", \"Yes\" )\nmissing &lt;- \"UNSURE\"\n\n# RECODE VARIABLES \nsurvey_df &lt;- \n  survey_df %&gt;% \n  recode_columns( k=COLUMNS, pattern, replace, values, labels, missing )\n\nExample:\n\n\n\n\n\n\nFndRaise_LocGvtGrnt_Seek — ‘TYPE: boolean’\n\n\n“indicates if nonprofit sought a local government grant”\n\n\n\n\n\n\n\n\nStorage mode:\n\n\ncharacter\n\n\n\n\nMeasurement:\n\n\nnominal\n\n\n\n\nMissing values:\n\n\nUNSURE\n\n\n\n\n\n\n\n\nValues and labels\n\n\nN\n\n\nValid\n\n\nTotal\n\n\n\n\n0\n\n\n\n\n‘No’\n\n\n317\n\n\n46\n\n\n.\n\n\n8\n\n\n45\n\n\n.\n\n\n9\n\n\n\n\n1\n\n\n\n\n‘Yes’\n\n\n361\n\n\n53\n\n\n.\n\n\n2\n\n\n52\n\n\n.\n\n\n2\n\n\n\n\nNA\n\n\nM\n\n\n\n\n13\n\n\n\n\n\n\n\n\n1\n\n\n.\n\n\n9\n\n\n\n\n\n\n\nQUESTION TXT:\n\n\n\nIn the last year (2021), did your organization seek or receive revenue from any of the followi… - Did you SEEK or APPLY for this funding? - Local government grants - (select all that apply)",
    "crumbs": [
      "YEAR TWO DATA",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Relabeling Qualtrics Variables</span>"
    ]
  },
  {
    "objectID": "2_01-recoding-rules-y2.html#race-and-gender-checkboxes",
    "href": "2_01-recoding-rules-y2.html#race-and-gender-checkboxes",
    "title": "3  Relabeling Qualtrics Variables",
    "section": "5.2 Race and Gender Checkboxes",
    "text": "5.2 Race and Gender Checkboxes\nThese checkboxes are ticked by the respondent to indicate if their CEO or board chair belong to a specified race or gender identity.\n\n\n\n\n\n\n\n\n\n\nOriginal Value\nDescription\nRecode Label\nRecode Value\nCode as Missing ?\n\n\n\n\nAsian/Pacific Islander\nCheckbox Checked\nYes\n1\nNo\n\n\nBlack/African American\nCheckbox Checked\nYes\n1\nNo\n\n\nLatinx/Hispanic\nCheckbox Checked\nYes\n1\nNo\n\n\nNative American/American Indian\nCheckbox Checked\nYes\n1\nNo\n\n\nWhite\nCheckbox Checked\nYes\n1\nNo\n\n\nMan\nCheckbox Checked\nYes\n1\nNo\n\n\nWoman\nCheckbox Checked\nYes\n1\nNo\n\n\nTrans\nCheckbox Checked\nYes\n1\nNo\n\n\nGender non-conforming/Non-Binary\nCheckbox Checked\nYes\n1\nNo\n\n\nOther (please specify)\nCheckbox Checked\nYes\n1\nNo\n\n\n0\nCheckbox Unchecked\nNo\n0\nNo\n\n\n-99\nIncomplete\nIncomplete\n99\nYes\n\n\nNA\nUnanswered\nNA\nNA\nYes\n\n\n\n\n# APPLY TO COLUMNS K:\nCOLUMNS &lt;-  race_gender_qns_bool\n\n# VALUES THAT NEED RECODING\n\nRULES &lt;- c(    \n  \n          \"          Asian/Pacific Islander    =&gt;&gt;     1   \",\n          \"          Black/African American    =&gt;&gt;     1   \",\n          \"                 Latinx/Hispanic    =&gt;&gt;     1   \",\n          \" Native American/American Indian    =&gt;&gt;     1   \",\n          \"                           White    =&gt;&gt;     1   \",\n          \"                             Man    =&gt;&gt;     1   \",\n          \"                           Woman    =&gt;&gt;     1   \",\n          \"                           Trans    =&gt;&gt;     1   \",\n          \"Gender non-conforming/Non-Binary    =&gt;&gt;     1   \",\n          \"         Other (please specify):    =&gt;&gt;     1   \",\n          \"                             -99    =&gt;&gt;     x   \",\n          \"                               0    =&gt;&gt;     0   \"     )\n\n\nrules &lt;- parse_rules( RULES )          \npattern &lt;- rules[[ \"pattern\" ]]\nreplace &lt;- rules[[ \"replace\" ]]\n\n# MEMISC LABELS AND MISSING VALUE CODES \nvalues  &lt;- c( \"0\", \"1\", \"x\" )\nlabels  &lt;- c( \"No\", \"Yes\", \"Incomplete\" )\nmissing &lt;- \"x\"\n\n# RECODE VARIABLES \nsurvey_df &lt;- \n  survey_df %&gt;% \n  recode_columns( k=COLUMNS, pattern, replace, values, labels, missing )\n\nExample:\n\n\n\n\n\n\nCEOrace_AAPI — ‘TYPE: boolean’\n\n\n“race of CEO”\n\n\n\n\n\n\n\n\nStorage mode:\n\n\ncharacter\n\n\n\n\nMeasurement:\n\n\nnominal\n\n\n\n\nMissing values:\n\n\nx\n\n\n\n\n\n\n\n\nValues and labels\n\n\nN\n\n\nValid\n\n\nTotal\n\n\n\n\n0\n\n\n\n\n‘No’\n\n\n48\n\n\n98\n\n\n.\n\n\n0\n\n\n6\n\n\n.\n\n\n9\n\n\n\n\n1\n\n\n\n\n‘Yes’\n\n\n1\n\n\n2\n\n\n.\n\n\n0\n\n\n0\n\n\n.\n\n\n1\n\n\n\n\nx\n\n\nM\n\n\n‘Incomplete’\n\n\n2\n\n\n\n\n\n\n\n\n0\n\n\n.\n\n\n3\n\n\n\n\nNA\n\n\nM\n\n\n\n\n640\n\n\n\n\n\n\n\n\n92\n\n\n.\n\n\n6\n\n\n\n\n\n\n\nQUESTION TXT:\n\n\n15.a. Which of the following best describes the race/ethnicity for your organization’s current Chief Executive (i.e., Executive Director or CEO)? (Select all that apply) - Selected Choice - Asian/Pacific Islander",
    "crumbs": [
      "YEAR TWO DATA",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Relabeling Qualtrics Variables</span>"
    ]
  },
  {
    "objectID": "2_01-recoding-rules-y2.html#na-checkboxes",
    "href": "2_01-recoding-rules-y2.html#na-checkboxes",
    "title": "3  Relabeling Qualtrics Variables",
    "section": "5.3 N/A Checkboxes",
    "text": "5.3 N/A Checkboxes\nThese questions are presented as a checkbox to the user to indicate that a question is not applicable. “Yes” here means “Yes, this question is not applicable”.\n\n\n\n\n\n\n\n\n\n\nOriginal Value\nDescription\nRecode Label\nRecode Value\nCode as Missing ?\n\n\n\n\nC\nYes, this question is not applicable\nYes\n1\nNo\n\n\nN/A\nYes, this question is not applicable\nYes\n1\nNo\n\n\n-99\nIncomplete\nNo\n0\nNo\n\n\nNA\nUnanswered\nNA\nNA\nYes\n\n\n\n\nna_bool_qns &lt;- \n  c( staff_qns_bool, \n     reserve_qns_bool, \n     people_served_qns_bool )\n\n\n# APPLY TO COLUMNS K:\nCOLUMNS &lt;-  na_bool_qns\n\n# VALUES THAT NEED RECODING\n\nRULES &lt;- c(    \n          \n             \"    C    =&gt;&gt;     1   \", \n             \"  -99    =&gt;&gt;     0   \", \n             \"  N/A    =&gt;&gt;     1   \"     )\n\n\nrules &lt;- parse_rules( RULES )          \npattern &lt;- rules[[ \"pattern\" ]]\nreplace &lt;- rules[[ \"replace\" ]]\n\n# MEMISC LABELS AND MISSING VALUE CODES \nvalues  &lt;- c( \"0\", \"1\" )\nlabels  &lt;- c( \"No\", \"Yes\" )\nmissing &lt;- NULL\n\n# RECODE VARIABLES \nsurvey_df &lt;- \n  survey_df %&gt;% \n  recode_columns( k=COLUMNS, pattern, replace, values, labels, missing )\n\nExample:\n\n\n\n\n\n\nStaff_Fulltime_NA — ‘TYPE: boolean’\n\n\n“Number of full time staff not applicable”\n\n\n\n\n\n\n\n\nStorage mode:\n\n\ncharacter\n\n\n\n\nMeasurement:\n\n\nnominal\n\n\n\n\n\n\n\n\nValues and labels\n\n\nN\n\n\nValid\n\n\nTotal\n\n\n\n\n0\n\n\n\n\n‘No’\n\n\n638\n\n\n92\n\n\n.\n\n\n9\n\n\n92\n\n\n.\n\n\n3\n\n\n\n\n1\n\n\n\n\n‘Yes’\n\n\n49\n\n\n7\n\n\n.\n\n\n1\n\n\n7\n\n\n.\n\n\n1\n\n\n\n\nNA\n\n\nM\n\n\n\n\n4\n\n\n\n\n\n\n\n\n0\n\n\n.\n\n\n6\n\n\n\n\n\n\n\nQUESTION TXT:\n\n\nSTAFF & VOLUNTEERS      6. How many (paid and unpaid) people in your organization will have worke… - Check here if not applicable for your organization - Full-time paid staff (35 or more hours /week) - C",
    "crumbs": [
      "YEAR TWO DATA",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Relabeling Qualtrics Variables</span>"
    ]
  },
  {
    "objectID": "2_01-recoding-rules-y2.html#increase---decrease-questions",
    "href": "2_01-recoding-rules-y2.html#increase---decrease-questions",
    "title": "3  Relabeling Qualtrics Variables",
    "section": "6.1 Increase - Decrease Questions",
    "text": "6.1 Increase - Decrease Questions\nThere 2 questions that ask respondents to define changes via an increase or decrease relative to previous years. They are recoded on an ordinal scale.",
    "crumbs": [
      "YEAR TWO DATA",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Relabeling Qualtrics Variables</span>"
    ]
  },
  {
    "objectID": "2_01-recoding-rules-y2.html#changes-in-demand-questions",
    "href": "2_01-recoding-rules-y2.html#changes-in-demand-questions",
    "title": "3  Relabeling Qualtrics Variables",
    "section": "6.2 Changes in Demand Questions",
    "text": "6.2 Changes in Demand Questions\n\n\n\n\n\n\n\n\n\n\nOriginal Value\nDescription\nRecode Label\nRecode Value\nCode as Missing ?\n\n\n\n\nIncrease\nIncrease\nIncrease\n2\nNo\n\n\nStay the same\nStay the same\nUnchanged\n1\nNo\n\n\nDecrease\nDecrease\nDecrease\n0\nNo\n\n\n-99\nIncomplete\nNo\n99\nYes\n\n\nNA\nUnanswered\nNA\nNA\nYes\n\n\n\n\n# APPLY TO COLUMNS K:\nCOLUMNS &lt;-  demand_fct_qns\n\n# VALUES THAT NEED RECODING\n\nRULES &lt;- c(    \n          \n             \"        Decrease    =&gt;&gt;     0   \",\n             \"   Stay the same    =&gt;&gt;     1   \", \n             \"        Increase    =&gt;&gt;     2   \", \n             \"             -99    =&gt;&gt;     x   \"    )\n\n\nrules &lt;- parse_rules( RULES )          \npattern &lt;- rules[[ \"pattern\" ]]\nreplace &lt;- rules[[ \"replace\" ]]\n\n# MEMISC LABELS AND MISSING VALUE CODES \nvalues  &lt;- c( 2, 1, 0, \"x\" )\nlabels  &lt;- c( \"Increase\", \"Unchanged\", \"Decrease\", \"Incomplete\" )\nmissing &lt;- \"x\"\n\n# RECODE VARIABLES \nsurvey_df &lt;- \n  survey_df %&gt;% \n  recode_columns( k=COLUMNS, pattern, replace, values, labels, missing )\n\nExample:\n\n\n\n\n\n\nDmnd_NxtYear — ‘TYPE: factor’\n\n\n“Demand for programs or services next year”\n\n\n\n\n\n\n\n\nStorage mode:\n\n\ncharacter\n\n\n\n\nMeasurement:\n\n\nnominal\n\n\n\n\nMissing values:\n\n\nx\n\n\n\n\n\n\n\n\nValues and labels\n\n\nN\n\n\nValid\n\n\nTotal\n\n\n\n\n0\n\n\n\n\n‘Decrease’\n\n\n17\n\n\n2\n\n\n.\n\n\n5\n\n\n2\n\n\n.\n\n\n5\n\n\n\n\n1\n\n\n\n\n‘Unchanged’\n\n\n148\n\n\n21\n\n\n.\n\n\n9\n\n\n21\n\n\n.\n\n\n4\n\n\n\n\n2\n\n\n\n\n‘Increase’\n\n\n512\n\n\n75\n\n\n.\n\n\n6\n\n\n74\n\n\n.\n\n\n1\n\n\n\n\nx\n\n\nM\n\n\n‘Incomplete’\n\n\n10\n\n\n\n\n\n\n\n\n1\n\n\n.\n\n\n4\n\n\n\n\nNA\n\n\nM\n\n\n\n\n4\n\n\n\n\n\n\n\n\n0\n\n\n.\n\n\n6\n\n\n\n\n\n\n\nQUESTION TXT:\n\n\n\nIn the next year, do you anticipate the demand for your programs to decrease, stay the same, or increase?",
    "crumbs": [
      "YEAR TWO DATA",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Relabeling Qualtrics Variables</span>"
    ]
  },
  {
    "objectID": "2_01-recoding-rules-y2.html#changes-in-fundraising-questions",
    "href": "2_01-recoding-rules-y2.html#changes-in-fundraising-questions",
    "title": "3  Relabeling Qualtrics Variables",
    "section": "6.3 Changes in Fundraising Questions",
    "text": "6.3 Changes in Fundraising Questions\n\n\n\n\n\n\n\n\n\n\nOriginal Value\nDescription\nRecode Label\nRecode Value\nCode as Missing ?\n\n\n\n\nIncreased significantly (by more than 10%)\nLargest Increase\nIncrease Significantly\n5\nNo\n\n\nIncreased moderately (by less than 10%)\nSecond Largest Increase\nIncrease Moderately\n4\nNo\n\n\nStayed more or less the same\nThird Largest Increase\nUnchanged\n3\nNo\n\n\nDecreased moderately (by less than 10%)\nFourth Largest Increase\nDecrease Moderately\n2\nNo\n\n\nDecreased significantly (by more than 10%)\nFifth Largest Increase\nDecrease Significantly\n1\nNo\n\n\nUnsure\nUnsure\nUnsure\n99\nMissing\n\n\n-99\nIncomplete\nIncomplete\n98\nYes\n\n\nN/A\nNot Applicable\nNot Applicable\n97\nYes\n\n\nNA\nUnanswered\nNA\nNA\nYes\n\n\n\n\n# APPLY TO COLUMNS K:\nCOLUMNS &lt;-  fundraise_change_qns_fct\n\n# VALUES THAT NEED RECODING\n\nRULES &lt;- c(    \n          \n     \"   Increased significantly (by more than 10%)    =&gt;&gt;     5   \",\n     \"      Increased moderately (by less than 10%)    =&gt;&gt;     4   \",\n     \"                 Stayed more or less the same    =&gt;&gt;     3   \",\n     \"      Decreased moderately (by less than 10%)    =&gt;&gt;     2   \",\n     \"   Decreased significantly (by more than 10%)    =&gt;&gt;     1   \",\n     \"                                       Unsure    =&gt;&gt;     0   \",\n     \"                                          -99    =&gt;&gt;     X   \",\n     \"                                          N/A    =&gt;&gt;   N/A   \"  )\n \nrules &lt;- parse_rules( RULES )          \npattern &lt;- rules[[ \"pattern\" ]]\nreplace &lt;- rules[[ \"replace\" ]]\n\n# MEMISC LABELS AND MISSING VALUE CODES \nvalues  &lt;- c( 5, 4, 3, 2, 1, 0, \"X\", \"N/A\" )\nlabels  &lt;- c( \"Increase Significantly\", \"Increase Moderately\", \n              \"Unchanged\", \"Decrease Moderately\", \"Decrease Significantly\", \n              \"Unsure\", \"Incomplete\", \"Not Applicable\" )\nmissing &lt;- c( \"X\" )\n\n# RECODE VARIABLES \nsurvey_df &lt;- \n  survey_df %&gt;% \n  recode_columns( k=COLUMNS, pattern, replace, values, labels, missing )\n\nExample:\n\n\n\n\n\n\nFndRaise_Overall_Chng — ‘TYPE: factor’\n\n\n“change in overall donations”\n\n\n\n\n\n\n\n\nStorage mode:\n\n\ncharacter\n\n\n\n\nMeasurement:\n\n\nnominal\n\n\n\n\nMissing values:\n\n\nX\n\n\n\n\n\n\n\n\nValues and labels\n\n\nN\n\n\nValid\n\n\nTotal\n\n\n\n\n0\n\n\n\n\n‘Unsure’\n\n\n12\n\n\n1\n\n\n.\n\n\n9\n\n\n1\n\n\n.\n\n\n7\n\n\n\n\n1\n\n\n\n\n‘Decrease Significantly’\n\n\n80\n\n\n12\n\n\n.\n\n\n6\n\n\n11\n\n\n.\n\n\n6\n\n\n\n\n2\n\n\n\n\n‘Decrease Moderately’\n\n\n77\n\n\n12\n\n\n.\n\n\n1\n\n\n11\n\n\n.\n\n\n1\n\n\n\n\n3\n\n\n\n\n‘Unchanged’\n\n\n161\n\n\n25\n\n\n.\n\n\n4\n\n\n23\n\n\n.\n\n\n3\n\n\n\n\n4\n\n\n\n\n‘Increase Moderately’\n\n\n169\n\n\n26\n\n\n.\n\n\n7\n\n\n24\n\n\n.\n\n\n5\n\n\n\n\n5\n\n\n\n\n‘Increase Significantly’\n\n\n133\n\n\n21\n\n\n.\n\n\n0\n\n\n19\n\n\n.\n\n\n2\n\n\n\n\nN/A\n\n\n\n\n‘Not Applicable’\n\n\n2\n\n\n0\n\n\n.\n\n\n3\n\n\n0\n\n\n.\n\n\n3\n\n\n\n\nX\n\n\nM\n\n\n‘Incomplete’\n\n\n33\n\n\n\n\n\n\n\n\n4\n\n\n.\n\n\n8\n\n\n\n\nNA\n\n\nM\n\n\n\n\n24\n\n\n\n\n\n\n\n\n3\n\n\n.\n\n\n5\n\n\n\n\n\n\n\nQUESTION TXT:\n\n\n8.c. To the best of your knowledge, has each of the following categories of donations to your org… - In 2021 compared to 2020 - Overall donations",
    "crumbs": [
      "YEAR TWO DATA",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Relabeling Qualtrics Variables</span>"
    ]
  },
  {
    "objectID": "2_01-recoding-rules-y2.html#volunteer-importance",
    "href": "2_01-recoding-rules-y2.html#volunteer-importance",
    "title": "3  Relabeling Qualtrics Variables",
    "section": "7.1 Volunteer Importance",
    "text": "7.1 Volunteer Importance\n\n\n\n\n\n\n\n\n\n\nOriginal Value\nDescription\nRecode Label\nRecode Value\nCode as Missing ?\n\n\n\n\nEssential - we depend entirely on volunteers to carry out our mission and goals\nMaximum Importance\nEssential\n5\nNo\n\n\nVery important - we depend on volunteers for a wide range of tasks, but not all\nSecond Most Important\nVery Important\n4\nNo\n\n\nSomewhat important - we depend on volunteers for several key tasks\nThird Most Important\nSomewhat Important\n3\nNo\n\n\nNot very important - we depend on volunteers for only non-essential tasks\nFourth Most Important\nNot Very Important\n2\nNo\n\n\nNot at all important - we could carry out our mission and goals without using volunteers\nFifth Most Important\nNot At All Important\n1\nNo\n\n\nWe do not use volunteers\nSixth Most Important\nNot Used\n0\nNo\n\n\n-99\nIncomplete\nIncomplete\n99\nYes\n\n\nNA\nUnanswered\nNA\nNA\nYes\n\n\n\n\n# APPLY TO COLUMNS K:\nCOLUMNS &lt;-  volimportance_qns_fct\n\n# VALUES THAT NEED RECODING\n\nRULES &lt;- c(    \n\n\"           Essential - we depend entirely on volunteers to carry out our mission and goals    =&gt;&gt;     5   \",\n\"           Very important - we depend on volunteers for a wide range of tasks, but not all    =&gt;&gt;     4   \",\n\"                        Somewhat important - we depend on volunteers for several key tasks    =&gt;&gt;     3   \",\n\"                 Not very important - we depend on volunteers for only non-essential tasks    =&gt;&gt;     2   \",\n\"  Not at all important - we could carry out our mission and goals without using volunteers    =&gt;&gt;     1   \",\n\"                                                                  We do not use volunteers    =&gt;&gt;     0   \",\n\"                                                                                       -99    =&gt;&gt;     X   \"    )\n\nrules &lt;- parse_rules( RULES )          \npattern &lt;- rules[[ \"pattern\" ]]\nreplace &lt;- rules[[ \"replace\" ]]\n\n# MEMISC LABELS AND MISSING VALUE CODES \nvalues  &lt;- c( 5, 4, 3, 2, 1, 0, \"X\" )\nlabels  &lt;- c( \"Essential\", \"Very Important\", \"Somewhat Important\", \n              \"Not Very Important\", \"Not At All Important\", \"Not Used\", \n              \"Incomplete\" )\nmissing &lt;- c( \"X\" )\n\n# RECODE VARIABLES \nsurvey_df &lt;- \n  survey_df %&gt;% \n  recode_columns( k=COLUMNS, pattern, replace, values, labels, missing )\n\nExample:\n\n\n\n\n\n\nVolImportance — ‘TYPE: factor’\n\n\n“Importance of volunteers to organization”\n\n\n\n\n\n\n\n\nStorage mode:\n\n\ncharacter\n\n\n\n\nMeasurement:\n\n\nnominal\n\n\n\n\nMissing values:\n\n\nX\n\n\n\n\n\n\n\n\nValues and labels\n\n\nN\n\n\nValid\n\n\nTotal\n\n\n\n\n0\n\n\n\n\n‘Not Used’\n\n\n45\n\n\n6\n\n\n.\n\n\n6\n\n\n6\n\n\n.\n\n\n5\n\n\n\n\n1\n\n\n\n\n‘Not At All Important’\n\n\n39\n\n\n5\n\n\n.\n\n\n7\n\n\n5\n\n\n.\n\n\n6\n\n\n\n\n2\n\n\n\n\n‘Not Very Important’\n\n\n74\n\n\n10\n\n\n.\n\n\n9\n\n\n10\n\n\n.\n\n\n7\n\n\n\n\n3\n\n\n\n\n‘Somewhat Important’\n\n\n188\n\n\n27\n\n\n.\n\n\n6\n\n\n27\n\n\n.\n\n\n2\n\n\n\n\n4\n\n\n\n\n‘Very Important’\n\n\n200\n\n\n29\n\n\n.\n\n\n4\n\n\n28\n\n\n.\n\n\n9\n\n\n\n\n5\n\n\n\n\n‘Essential’\n\n\n135\n\n\n19\n\n\n.\n\n\n8\n\n\n19\n\n\n.\n\n\n5\n\n\n\n\nX\n\n\nM\n\n\n‘Incomplete’\n\n\n6\n\n\n\n\n\n\n\n\n0\n\n\n.\n\n\n9\n\n\n\n\nNA\n\n\nM\n\n\n\n\n4\n\n\n\n\n\n\n\n\n0\n\n\n.\n\n\n6\n\n\n\n\n\n\n\nQUESTION TXT:\n\n\n\nHow important were volunteers – other than board members – to the work your organization conducted in 2021?",
    "crumbs": [
      "YEAR TWO DATA",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Relabeling Qualtrics Variables</span>"
    ]
  },
  {
    "objectID": "2_01-recoding-rules-y2.html#donor-importance",
    "href": "2_01-recoding-rules-y2.html#donor-importance",
    "title": "3  Relabeling Qualtrics Variables",
    "section": "7.2 Donor Importance",
    "text": "7.2 Donor Importance\n\n\n\n\n\n\n\n\n\n\nOriginal Value\nDescription\nRecode Label\nRecode Value\nCode as Missing ?\n\n\n\n\nEssential, we depend entirely on individual donations to carry out our mission and goals\nMaximum Importance\nEssential\n5\nNo\n\n\nVery important, we depend on individual donations for a wide range of activities, but not all\nVery Important\n4\nNo\n\n\n\nImportant, we depend on individual donations for several key activities\nThird Most Important\nSomewhat Important\n3\nNo\n\n\nNot very important, we depend on individual donations for only non-essential activities\nFourth Most Important\nNot Very Important\n2\nNo\n\n\nNot at all important, we could carry out our mission and goals without donations from individuals\nFifth Most Important\nNot At All Important\n1\nNo\n\n\nWe do not receive donations from individuals\nSixth Most Important\nNot Used\n0\nNo\n\n\n-99\nIncomplete\nIncomplete\n99\nYes\n\n\nNA\nUnanswered\nNA\nNA\nYes\n\n\n\n\n# APPLY TO COLUMNS K:\nCOLUMNS &lt;-  donimportance_qns_fct\n\n# VALUES THAT NEED RECODING\n\nRULES &lt;- c(    \n\n  \"          Essential, we depend entirely on individual donations to carry out our mission and goals  =&gt;&gt;  5  \",\n  \"     Very important, we depend on individual donations for a wide range of activities, but not all  =&gt;&gt;  4  \",\n  \"                           Important, we depend on individual donations for several key activities  =&gt;&gt;  3  \",\n  \"           Not very important, we depend on individual donations for only non-essential activities  =&gt;&gt;  2  \",\n  \" Not at all important, we could carry out our mission and goals without donations from individuals  =&gt;&gt;  1  \",\n  \"                                                      We do not receive donations from individuals  =&gt;&gt;  0  \",\n  \"                                                                                               -99  =&gt;&gt;  X  \"  )\n\n\nrules &lt;- parse_rules( RULES )          \npattern &lt;- rules[[ \"pattern\" ]]\nreplace &lt;- rules[[ \"replace\" ]]\n\n# MEMISC LABELS AND MISSING VALUE CODES \nvalues  &lt;- c(5, 4, 3, 2, 1, 0, \"X\" )\nlabels  &lt;- c( \"Essential\", \"Very Important\", \n              \"Somewhat Important\", \"Not Very Important\", \n              \"Not At All Important\", \"Not Used\", \"Incomplete\")\nmissing &lt;- c( \"X\" )\n\n# RECODE VARIABLES \nsurvey_df &lt;- \n  survey_df %&gt;% \n  recode_columns( k=COLUMNS, pattern, replace, values, labels, missing )\n\nExample:\n\n\n\n\n\n\nDonImportance — ‘TYPE: factor’\n\n\n“importance of donors to organization”\n\n\n\n\n\n\n\n\nStorage mode:\n\n\ncharacter\n\n\n\n\nMeasurement:\n\n\nnominal\n\n\n\n\nMissing values:\n\n\nX\n\n\n\n\n\n\n\n\nValues and labels\n\n\nN\n\n\nValid\n\n\nTotal\n\n\n\n\n0\n\n\n\n\n‘Not Used’\n\n\n18\n\n\n2\n\n\n.\n\n\n6\n\n\n2\n\n\n.\n\n\n6\n\n\n\n\n1\n\n\n\n\n‘Not At All Important’\n\n\n24\n\n\n3\n\n\n.\n\n\n5\n\n\n3\n\n\n.\n\n\n5\n\n\n\n\n2\n\n\n\n\n‘Not Very Important’\n\n\n56\n\n\n8\n\n\n.\n\n\n2\n\n\n8\n\n\n.\n\n\n1\n\n\n\n\n3\n\n\n\n\n‘Somewhat Important’\n\n\n132\n\n\n19\n\n\n.\n\n\n4\n\n\n19\n\n\n.\n\n\n1\n\n\n\n\n4\n\n\n\n\n‘Very Important’\n\n\n282\n\n\n41\n\n\n.\n\n\n5\n\n\n40\n\n\n.\n\n\n8\n\n\n\n\n5\n\n\n\n\n‘Essential’\n\n\n168\n\n\n24\n\n\n.\n\n\n7\n\n\n24\n\n\n.\n\n\n3\n\n\n\n\nX\n\n\nM\n\n\n‘Incomplete’\n\n\n7\n\n\n\n\n\n\n\n\n1\n\n\n.\n\n\n0\n\n\n\n\nNA\n\n\nM\n\n\n\n\n4\n\n\n\n\n\n\n\n\n0\n\n\n.\n\n\n6\n\n\n\n\n\n\n\nQUESTION TXT:\n\n\n\nHow important were donations from individuals (including direct donations and indirect donations through federated giving programs, United Way, and donor advised funds, or in-kind donations) to the work of your organization in 2021?",
    "crumbs": [
      "YEAR TWO DATA",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Relabeling Qualtrics Variables</span>"
    ]
  },
  {
    "objectID": "2_02-fix-demographics-y2.html",
    "href": "2_02-fix-demographics-y2.html",
    "title": "4  Reconcile Demographic Variables",
    "section": "",
    "text": "4.1 Adding Race and Gender Answers from Year 1 Survey\nQuestions about the race and gender of CEOs and Board Chairs are only presented to users if they indicate that a leadership change has occurred in Year 2 of the survey. Hence, we will need to impute in race and gender responses for participants who did not indicate a change in leadership.",
    "crumbs": [
      "YEAR TWO DATA",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Reconcile Demographic Variables</span>"
    ]
  },
  {
    "objectID": "2_02-fix-demographics-y2.html#adding-race-and-gender-answers-from-year-1-survey",
    "href": "2_02-fix-demographics-y2.html#adding-race-and-gender-answers-from-year-1-survey",
    "title": "4  Reconcile Demographic Variables",
    "section": "",
    "text": "4.1.1 Identifying cases for imputation\nThese respondents indicate that there were no changes to their CEO in year 2.\n\nhave.changes &lt;- \n  ( survey_df$LeadershipChng_HireCEO  == 1 | \n    survey_df$LeadershipChng_IntrmCEO == 1   )\n\nno_ceo_chng_ein &lt;- \n  survey_df %&gt;% \n  dplyr::filter( ! have.changes ) %&gt;% \n  dplyr::pull(\"EIN\")\n\nno_bchair_chng_ein &lt;- \n  survey_df %&gt;% \n  dplyr::filter( LeadershipChng_ChngBC != 1 ) %&gt;% \n  dplyr::pull(\"EIN\")\n\n\n\n4.1.2 Processing Year 1 Data\nIn Year 1, the survey questions for race and gender are encoded in a single factor variable instead of the multiple boolean variables in Year 2. We will have to wrangle the data from Year 1 into a format for Year 2.\n\nfpath     &lt;- \"DATA-PREP/01-year-one/02-data-intermediate/\"\nfname     &lt;- \"wave-01-data-intermediate.csv\"\nyear1_raw &lt;- readr::read_csv( paste0( fpath, fname ) )\n\n\n# Wrangle Data for Year 1 Responses on CEO race and Gender\nyear1_CEOchng &lt;- year1_raw %&gt;% \n  dplyr::select(EIN, CEOrace, CEOgender) %&gt;% \n  dplyr::filter(EIN %in% no_ceo_chng_ein,\n                ! CEOrace %in% c(-99, NA),\n                ! CEOgender %in% c(-99, NA)) %&gt;% \n  dplyr::mutate(\n    CEOrace = dplyr::case_match(\n      CEOrace,\n      1 ~ \"AAPI\", 2 ~ \"Black\", 3 ~ \"Hisp\", 4 ~ \"NativeAm\", 5 ~ \"White\", 6 ~ \"Bi\", 7 ~ \"Oth\",\n      .default = \"Oth\"\n    ),\n    CEOgender = dplyr::case_match(\n      CEOgender,\n      1 ~ \"Man\", 2 ~ \"Woman\", 3 ~ \"Trans\", 4 ~ \"NB\", 5 ~ \"Oth\",\n      .default = \"Oth\"\n    ),\n  race_check = 1,\n  gender_check = 1\n  ) %&gt;% \n  tidyr::pivot_wider(\n    names_from = CEOrace,\n    names_glue = \"CEOrace_{CEOrace}\",\n    values_from = race_check, \n    values_fill = 0\n  ) %&gt;% \n  tidyr::pivot_wider(\n    names_from = CEOgender,\n    names_glue = \"CEOgender_{CEOgender}\",\n    values_from = gender_check, \n    values_fill = 0\n  )\n\n# Wrangle Data for Year 1 Responses on Board Chair Race and Gender\nyear1_BCchng &lt;- year1_raw %&gt;% \n  dplyr::select(EIN, BCrace, BCgender) %&gt;% \n  dplyr::filter(EIN %in% no_bchair_chng_ein,\n                ! BCrace %in% c(-99, NA),\n                ! BCgender %in% c(-99, NA)) %&gt;% \n  dplyr::mutate(\n    BCrace = dplyr::case_match(\n      BCrace,\n      1 ~ \"AAPI\", 2 ~ \"Black\", 3 ~ \"Hisp\", 4 ~ \"NativeAm\", 5 ~ \"White\", 6 ~ \"Bi\", 7 ~ \"Oth\",\n      .default = \"Oth\"\n    ),\n    BCgender = dplyr::case_match(\n      BCgender,\n      1 ~ \"Man\", 2 ~ \"Woman\", 3 ~ \"Trans\", 4 ~ \"NB\", 5 ~ \"Oth\",\n      .default = \"Oth\"\n    ),\n  race_check = 1,\n  gender_check = 1\n  ) %&gt;% \n  tidyr::pivot_wider(\n    names_from = BCrace,\n    names_glue = \"BChairrace_{BCrace}\",\n    values_from = race_check, \n    values_fill = 0\n  ) %&gt;% \n  tidyr::pivot_wider(\n    names_from = BCgender,\n    names_glue = \"BChairgender_{BCgender}\",\n    values_from = gender_check, \n    values_fill = 0\n  )\n\n\n\n4.1.3 Create Biracial Categories in Year 2\nSince the Year 1 data has an indicator for biracial CEOs and Board Chairs, we will have to create a boolean Biracial indicator variable in the Year 2 data that returns a 1 if a CEO or Board Chair belongs to 2 or more racial groups.\n\nrace_ceo_qns_bool &lt;- \n  race_gender_qns_bool[ grepl( \"CEOrace\", race_gender_qns_bool ) ]\n\nrace_bchair_qns_bool &lt;- \n  race_gender_qns_bool[ grepl( \"BChairrace\", race_gender_qns_bool ) ]\n\nrace_qns &lt;- c( race_ceo_qns_bool, race_bchair_qns_bool )\n\nRULES &lt;- c(    \"    Yes  =&gt;&gt;   1    \", \n               \"    No   =&gt;&gt;   0    \"    )\n\nrules &lt;- parse_rules( RULES )          \npattern &lt;- rules[[ \"pattern\" ]]\nreplace &lt;- rules[[ \"replace\" ]]\n\nsurvey_df[ race_qns ] &lt;- \n  survey_df[ race_qns ] %&gt;%\n  lapply( recode_x, pattern, replace )\n\nsurvey_df[ race_qns ] &lt;- \n  survey_df[ race_qns ] %&gt;%\n  lapply( as.numeric )\n\nsurvey_df &lt;- \n  survey_df %&gt;%\n  dplyr::rowwise() %&gt;% \n  dplyr::mutate(\n    CEOrace_Bi = ifelse(dplyr::between(\n      sum(dplyr::c_across(tidyselect::all_of(race_ceo_qns_bool)), na.rm = TRUE), 2, 6\n    ), 1, 0),\n   BChairrace_Bi = ifelse(dplyr::between(\n      sum(dplyr::c_across(tidyselect::all_of(race_bchair_qns_bool)), na.rm = TRUE), 2, 6\n    ), 1, 0)  \n  )\n\n\n\n4.1.4 Merge Year 1 Race and Gender Variables with Year 2\n\nrace_ceo_qns_bool &lt;- c( race_ceo_qns_bool, \"CEOrace_Bi\" )\n\nfor (race_var in race_ceo_qns_bool){\n  survey_df &lt;- \n    survey_df %&gt;% \n    dplyr::mutate(\n      !! race_var := ifelse(\n         EIN %in% year1_CEOchng$EIN, \n         year1_CEOchng[[race_var]], \n        .data[[race_var]] )\n    )\n}\n\ngender.qs &lt;- grepl( \"CEOgender\", race_gender_qns_bool )\ngender_ceo_qns_bool &lt;- race_gender_qns_bool[ gender.qs ]\n\nCOLUMNS &lt;- gender_ceo_qns_bool\n\nRULES &lt;- c(    \"    Yes   =&gt;&gt;   1    \", \n               \"     No   =&gt;&gt;   0    \"    )\n\nrules &lt;- parse_rules( RULES )          \npattern &lt;- rules[[ \"pattern\" ]]\nreplace &lt;- rules[[ \"replace\" ]]\n\nsurvey_df[ COLUMNS ] &lt;- \n  survey_df[ COLUMNS ] %&gt;%\n  lapply( recode_x, pattern, replace )\n\nsurvey_df[ COLUMNS ] &lt;- \n  survey_df[ COLUMNS ] %&gt;%\n  lapply( as.numeric )\n\n# lapply( survey_df[ COLUMNS ], table )\n\nfor ( gender_var in gender_ceo_qns_bool ){\n  survey_df &lt;- \n    survey_df %&gt;% \n    dplyr::mutate(\n      \n      !! gender_var := ifelse(\n        \n        EIN %in% year1_CEOchng$EIN & gender_var %in% names( year1_CEOchng ), \n        year1_CEOchng[[ gender_var ]], \n        .data[[ gender_var ]]\n      \n      )\n    )\n}\n\nrace_bchair_qns_bool &lt;- c(race_bchair_qns_bool, \"BChairrace_Bi\")\n\nCOLUMNS &lt;- race_bchair_qns_bool\n\nRULES &lt;- c(    \n  \n  \"  Yes =&gt;&gt; 1  \", \n  \"  No  =&gt;&gt; 0  \"    )\n\nrules &lt;- parse_rules( RULES )          \npattern &lt;- rules[[ \"pattern\" ]]\nreplace &lt;- rules[[ \"replace\" ]]\n\nsurvey_df[ COLUMNS ] &lt;- \n  survey_df[ COLUMNS ] %&gt;%\n  lapply( recode_x, pattern, replace )\n\n# lapply( survey_df[ COLUMNS ], table )\n\nsurvey_df[ COLUMNS ] &lt;- \n  survey_df[ COLUMNS ] %&gt;%\n  lapply( as.numeric )\n\nfor (race_var in race_bchair_qns_bool){\n  survey_df &lt;- survey_df %&gt;% \n  dplyr::mutate(\n    !! race_var := ifelse(\n    EIN %in% year1_BCchng$EIN, \n    year1_BCchng[[race_var]], \n    .data[[race_var]]\n    )\n  )\n}\n\ngender_bchair_qns_bool &lt;- \n  race_gender_qns_bool[ grepl(\"BChairgender\", race_gender_qns_bool) ]\n\nCOLUMNS &lt;- gender_bchair_qns_bool\n\nRULES &lt;- c(     \"       Yes  =&gt;&gt;   1    \", \n                \"       No   =&gt;&gt;   0    \",\n                \"    Female  =&gt;&gt;   1    \", \n                \"    Male    =&gt;&gt;   1    \"      )\n\nrules &lt;- parse_rules( RULES )          \npattern &lt;- rules[[ \"pattern\" ]]\nreplace &lt;- rules[[ \"replace\" ]]\n\nsurvey_df[ COLUMNS ] &lt;- \n  survey_df[ COLUMNS ] %&gt;%\n  lapply( recode_x, pattern, replace )\n\n# lapply( survey_df[ COLUMNS ], table )\n\nsurvey_df[ COLUMNS ] &lt;- \n  survey_df[ COLUMNS ] %&gt;%\n  lapply( as.numeric )\n\nfor (gender_var in gender_bchair_qns_bool){\n  survey_df &lt;- survey_df %&gt;% \n  dplyr::mutate(\n    !! gender_var := ifelse(\n    EIN %in% year1_BCchng$EIN & gender_var %in% names(year1_BCchng), \n    year1_BCchng[[gender_var]], \n    .data[[gender_var]]\n    )\n  )\n}\n\n\n\n4.1.5 Recode New Race and Gender Variables\n\ncreate_survey_item &lt;- function( \n    survey_data, \n    qns, \n    recode_vals, \n    recode_labs, \n    missing_vals ){\n\n  survey_data &lt;- \n    survey_data %&gt;%\n    purrr::modify_at(\n      .at = qns,\n      .f = memisc::as.item,\n      labels = structure(\n        .Data = recode_vals,\n        names = recode_labs ),\n      missing.values = missing_vals )\n      \n  return( survey_data )\n}\n\n\nsurvey_df &lt;- create_survey_item(\n  survey_df, \n  race_ceo_qns_bool, \n  recode_vals = c(0, 1, 99), \n  recode_labs = c(\"No\", \"Yes\", \"Incomplete\"), \n  missing_vals = c(99)\n)\n\nsurvey_df &lt;- create_survey_item(\n  survey_df, \n  gender_ceo_qns_bool, \n  recode_vals = c(0, 1, 99), \n  recode_labs = c(\"No\", \"Yes\", \"Incomplete\"), \n  missing_vals = c(99)\n)\n\nsurvey_df &lt;- create_survey_item(\n  survey_df, \n  race_bchair_qns_bool, \n  recode_vals = c(0, 1, 99), \n  recode_labs = c(\"No\", \"Yes\", \"Incomplete\"), \n  missing_vals = c(99)\n)\n\nsurvey_df &lt;- create_survey_item(\n  survey_df, \n  gender_bchair_qns_bool, \n  recode_vals = c(0, 1, 99), \n  recode_labs = c(\"No\", \"Yes\", \"Incomplete\"), \n  missing_vals = c(99)\n)\n\n\n\n4.1.6 Create single Race/Gender column\nWhile our race and gender columns are individual binary columns, this is not the case for year 1 and 3 results. Both those years contain single columns for race and gender variables for CEOs and Board Chairs respectively. For easier comparability, we create a new variable aggregating race and gender values for all our individual binary columns.\n\n4.1.6.1 Aggregated Race Variable\n\n\n\n\n\n\n\n\n\n\nOriginal Value\nDescription\nRecode Label\nRecode Value\nCode as Missing ?\n\n\n\n\n1\nAsian/Pacific Islander\nAAPI\n1\nNo\n\n\n1\nBlack/African American\nBlack\n2\nNo\n\n\n1\nLatinx/Hispanic\nHisp\n3\nNo\n\n\n1\nNative American/American Indian\nNativeAm\n4\nNo\n\n\n1\nWhite\nWhite\n5\nNo\n\n\n1\nBi/Multi-racial\nBi\n6\nNo\n\n\n1\nOther (please specify)\nOth\n7\nNo\n\n\n0\nCheckbox Unchecked\nNA\nYes\n\n\n\n\n\n# Create New Race variables\nsurvey_df &lt;- survey_df %&gt;%\n  dplyr::mutate(\n    CEOrace = dplyr::case_when(\n      CEOrace_AAPI == 1 ~ 1,\n      CEOrace_Black == 1 ~ 2,\n      CEOrace_Hisp == 1 ~ 3,\n      CEOrace_NativeAm == 1 ~ 4,\n      CEOrace_White == 1 ~ 5,\n      CEOrace_Bi == 1 ~ 6,\n      CEOrace_Oth == 1 ~ 7,\n      .default = NA\n    ),\n    BChairrace = dplyr::case_when(\n      BChairrace_AAPI == 1 ~ 1,\n      BChairrace_Black == 1 ~ 2,\n      BChairrace_Hisp == 1 ~ 3,\n      BChairrace_NativeAm == 1 ~ 4,\n      BChairrace_White == 1 ~ 5,\n      BChairrace_Bi == 1 ~ 6,\n      BChairrace_Oth == 1 ~ 7,\n      .default = NA\n  ))\n\n# Create Survey Item\nsurvey_df &lt;- create_survey_item(\n  survey_df, \n  c(\"CEOrace\", \"BChairrace\"), \n  recode_vals = c(1, 2, 3, 4, 5, 6, 7), \n  recode_labs = c(\"AAPI\", \"Black\", \"Hisp\", \"NativeAm\", \"White\", \"Bi\", \"Oth\"), \n  missing_vals = c()\n)\n\n\n\n4.1.6.2 Aggregated Gender Variable\n\n\n\n\n\n\n\n\n\n\nOriginal Value\nDescription\nRecode Label\nRecode Value\nCode as Missing ?\n\n\n\n\n1\nMan\nMan\n1\nNo\n\n\n1\nWoman\nWoman\n2\nNo\n\n\n1\nTrans\nTrans\n3\nNo\n\n\n1\nGender non-conforming/Non-Binary\nNB\n4\nNo\n\n\n1\nOther (please specify)\nOth\n5\nNo\n\n\n0\nCheckbox Unchecked\nNA\nYes\n\n\n\n\n\n# Create New Race variables\nsurvey_df &lt;- survey_df %&gt;%\n  dplyr::mutate(\n    CEOgender = dplyr::case_when(\n      CEOgender_Man == 1 ~ 1,\n      CEOgender_Woman == 1 ~ 2,\n      CEOgender_Trans == 1 ~ 3,\n      CEOgender_NB == 1 ~ 4,\n      CEOgender_Oth == 1 ~ 5,\n      .default = NA\n    ),\n    BChairgender = dplyr::case_when(\n      BChairgender_Man == 1 ~ 1,\n      BChairgender_Woman == 1 ~ 2,\n      BChairgender_Trans == 1 ~ 3,\n      BChairgender_NB == 1 ~ 4,\n      BChairgender_Oth == 1 ~ 5,\n      .default = NA\n  ))\n\n# Create Survey Item\nsurvey_df &lt;- create_survey_item(\n  survey_df, \n  c(\"CEOgender\", \"BChairgender\"), \n  recode_vals = c(1, 2, 3, 4, 5), \n  recode_labs = c(\"Man\", \"Woman\", \"Trans\", \"NB\", \"Oth\"), \n  missing_vals = c()\n)\n\n\n\n\n4.1.7 Validate Results\nWe can see that the number of valid responses for race and gender questions concerning the CEO and Board Chair have increased.\nrace_gender_qns &lt;- \n  c( race_gender_qns_bool, \n     \"CEOrace\", \"CEOgender\", \"BChairrace\",\"BChairgender\" )\n\nshow_html( codebook( survey_df[ race_gender_qns ] ) )\n\n\n\n\n\n\nCEOrace_AAPI\n\n\n\n\n\n\n\n\nStorage mode:\n\n\ndouble\n\n\n\n\nMeasurement:\n\n\nnominal\n\n\n\n\nMissing values:\n\n\n99\n\n\n\n\n\n\n\n\nValues and labels\n\n\nN\n\n\nValid\n\n\nTotal\n\n\n\n\n0\n\n\n\n\n‘No’\n\n\n467\n\n\n99\n\n\n.\n\n\n8\n\n\n67\n\n\n.\n\n\n6\n\n\n\n\n1\n\n\n\n\n‘Yes’\n\n\n1\n\n\n0\n\n\n.\n\n\n2\n\n\n0\n\n\n.\n\n\n1\n\n\n\n\nNA\n\n\nM\n\n\n\n\n223\n\n\n\n\n\n\n\n\n32\n\n\n.\n\n\n3\n\n\n\n\n\n\n\n\n\n\n\n\nCEOrace_Black\n\n\n\n\n\n\n\n\nStorage mode:\n\n\ndouble\n\n\n\n\nMeasurement:\n\n\nnominal\n\n\n\n\nMissing values:\n\n\n99\n\n\n\n\n\n\n\n\nValues and labels\n\n\nN\n\n\nValid\n\n\nTotal\n\n\n\n\n0\n\n\n\n\n‘No’\n\n\n462\n\n\n98\n\n\n.\n\n\n7\n\n\n66\n\n\n.\n\n\n9\n\n\n\n\n1\n\n\n\n\n‘Yes’\n\n\n6\n\n\n1\n\n\n.\n\n\n3\n\n\n0\n\n\n.\n\n\n9\n\n\n\n\nNA\n\n\nM\n\n\n\n\n223\n\n\n\n\n\n\n\n\n32\n\n\n.\n\n\n3\n\n\n\n\n\n\n\n\n\n\n\n\nCEOrace_Hisp\n\n\n\n\n\n\n\n\nStorage mode:\n\n\ndouble\n\n\n\n\nMeasurement:\n\n\nnominal\n\n\n\n\nMissing values:\n\n\n99\n\n\n\n\n\n\n\n\nValues and labels\n\n\nN\n\n\nValid\n\n\nTotal\n\n\n\n\n0\n\n\n\n\n‘No’\n\n\n464\n\n\n99\n\n\n.\n\n\n1\n\n\n67\n\n\n.\n\n\n1\n\n\n\n\n1\n\n\n\n\n‘Yes’\n\n\n4\n\n\n0\n\n\n.\n\n\n9\n\n\n0\n\n\n.\n\n\n6\n\n\n\n\nNA\n\n\nM\n\n\n\n\n223\n\n\n\n\n\n\n\n\n32\n\n\n.\n\n\n3\n\n\n\n\n\n\n\n\n\n\n\n\nCEOrace_NativeAm\n\n\n\n\n\n\n\n\nStorage mode:\n\n\ndouble\n\n\n\n\nMeasurement:\n\n\nnominal\n\n\n\n\nMissing values:\n\n\n99\n\n\n\n\n\n\n\n\nValues and labels\n\n\nN\n\n\nValid\n\n\nTotal\n\n\n\n\n0\n\n\n\n\n‘No’\n\n\n464\n\n\n99\n\n\n.\n\n\n1\n\n\n67\n\n\n.\n\n\n1\n\n\n\n\n1\n\n\n\n\n‘Yes’\n\n\n4\n\n\n0\n\n\n.\n\n\n9\n\n\n0\n\n\n.\n\n\n6\n\n\n\n\nNA\n\n\nM\n\n\n\n\n223\n\n\n\n\n\n\n\n\n32\n\n\n.\n\n\n3\n\n\n\n\n\n\n\n\n\n\n\n\nCEOrace_White\n\n\n\n\n\n\n\n\nStorage mode:\n\n\ndouble\n\n\n\n\nMeasurement:\n\n\nnominal\n\n\n\n\nMissing values:\n\n\n99\n\n\n\n\n\n\n\n\nValues and labels\n\n\nN\n\n\nValid\n\n\nTotal\n\n\n\n\n0\n\n\n\n\n‘No’\n\n\n12\n\n\n2\n\n\n.\n\n\n6\n\n\n1\n\n\n.\n\n\n7\n\n\n\n\n1\n\n\n\n\n‘Yes’\n\n\n456\n\n\n97\n\n\n.\n\n\n4\n\n\n66\n\n\n.\n\n\n0\n\n\n\n\nNA\n\n\nM\n\n\n\n\n223\n\n\n\n\n\n\n\n\n32\n\n\n.\n\n\n3\n\n\n\n\n\n\n\n\n\n\n\n\nCEOrace_Oth\n\n\n\n\n\n\n\n\nStorage mode:\n\n\ndouble\n\n\n\n\nMeasurement:\n\n\nnominal\n\n\n\n\nMissing values:\n\n\n99\n\n\n\n\n\n\n\n\nValues and labels\n\n\nN\n\n\nValid\n\n\nTotal\n\n\n\n\n0\n\n\n\n\n‘No’\n\n\n468\n\n\n100\n\n\n.\n\n\n0\n\n\n67\n\n\n.\n\n\n7\n\n\n\n\n1\n\n\n\n\n‘Yes’\n\n\n0\n\n\n0\n\n\n.\n\n\n0\n\n\n0\n\n\n.\n\n\n0\n\n\n\n\nNA\n\n\nM\n\n\n\n\n223\n\n\n\n\n\n\n\n\n32\n\n\n.\n\n\n3\n\n\n\n\n\n\n\n\n\n\n\n\nCEOgender_Man\n\n\n\n\n\n\n\n\nStorage mode:\n\n\ndouble\n\n\n\n\nMeasurement:\n\n\nnominal\n\n\n\n\nMissing values:\n\n\n99\n\n\n\n\n\n\n\n\nValues and labels\n\n\nN\n\n\nValid\n\n\nTotal\n\n\n\n\n0\n\n\n\n\n‘No’\n\n\n454\n\n\n97\n\n\n.\n\n\n0\n\n\n65\n\n\n.\n\n\n7\n\n\n\n\n1\n\n\n\n\n‘Yes’\n\n\n14\n\n\n3\n\n\n.\n\n\n0\n\n\n2\n\n\n.\n\n\n0\n\n\n\n\nNA\n\n\nM\n\n\n\n\n223\n\n\n\n\n\n\n\n\n32\n\n\n.\n\n\n3\n\n\n\n\n\n\n\n\n\n\n\n\nCEOgender_Woman\n\n\n\n\n\n\n\n\nStorage mode:\n\n\ndouble\n\n\n\n\nMeasurement:\n\n\nnominal\n\n\n\n\nMissing values:\n\n\n99\n\n\n\n\n\n\n\n\nValues and labels\n\n\nN\n\n\nValid\n\n\nTotal\n\n\n\n\n0\n\n\n\n\n‘No’\n\n\n14\n\n\n3\n\n\n.\n\n\n0\n\n\n2\n\n\n.\n\n\n0\n\n\n\n\n1\n\n\n\n\n‘Yes’\n\n\n454\n\n\n97\n\n\n.\n\n\n0\n\n\n65\n\n\n.\n\n\n7\n\n\n\n\nNA\n\n\nM\n\n\n\n\n223\n\n\n\n\n\n\n\n\n32\n\n\n.\n\n\n3\n\n\n\n\n\n\n\n\n\n\n\n\nCEOgender_Trans\n\n\n\n\n\n\n\n\nStorage mode:\n\n\ndouble\n\n\n\n\nMeasurement:\n\n\nnominal\n\n\n\n\nMissing values:\n\n\n99\n\n\n\n\n\n\n\n\nValues and labels\n\n\nN\n\n\nValid\n\n\nTotal\n\n\n\n\n0\n\n\n\n\n‘No’\n\n\n48\n\n\n98\n\n\n.\n\n\n0\n\n\n6\n\n\n.\n\n\n9\n\n\n\n\n1\n\n\n\n\n‘Yes’\n\n\n1\n\n\n2\n\n\n.\n\n\n0\n\n\n0\n\n\n.\n\n\n1\n\n\n\n\nNA\n\n\nM\n\n\n\n\n642\n\n\n\n\n\n\n\n\n92\n\n\n.\n\n\n9\n\n\n\n\n\n\n\n\n\n\n\n\nCEOgender_NB\n\n\n\n\n\n\n\n\nStorage mode:\n\n\ndouble\n\n\n\n\nMeasurement:\n\n\nnominal\n\n\n\n\nMissing values:\n\n\n99\n\n\n\n\n\n\n\n\nValues and labels\n\n\nN\n\n\nValid\n\n\nTotal\n\n\n\n\n0\n\n\n\n\n‘No’\n\n\n467\n\n\n99\n\n\n.\n\n\n8\n\n\n67\n\n\n.\n\n\n6\n\n\n\n\n1\n\n\n\n\n‘Yes’\n\n\n1\n\n\n0\n\n\n.\n\n\n2\n\n\n0\n\n\n.\n\n\n1\n\n\n\n\nNA\n\n\nM\n\n\n\n\n223\n\n\n\n\n\n\n\n\n32\n\n\n.\n\n\n3\n\n\n\n\n\n\n\n\n\n\n\n\nCEOgender_Oth\n\n\n\n\n\n\n\n\nStorage mode:\n\n\ndouble\n\n\n\n\nMeasurement:\n\n\nnominal\n\n\n\n\nMissing values:\n\n\n99\n\n\n\n\n\n\n\n\nValues and labels\n\n\nN\n\n\nValid\n\n\nTotal\n\n\n\n\n0\n\n\n\n\n‘No’\n\n\n468\n\n\n100\n\n\n.\n\n\n0\n\n\n67\n\n\n.\n\n\n7\n\n\n\n\n1\n\n\n\n\n‘Yes’\n\n\n0\n\n\n0\n\n\n.\n\n\n0\n\n\n0\n\n\n.\n\n\n0\n\n\n\n\nNA\n\n\nM\n\n\n\n\n223\n\n\n\n\n\n\n\n\n32\n\n\n.\n\n\n3\n\n\n\n\n\n\n\n\n\n\n\n\nBChairrace_AAPI\n\n\n\n\n\n\n\n\nStorage mode:\n\n\ndouble\n\n\n\n\nMeasurement:\n\n\nnominal\n\n\n\n\nMissing values:\n\n\n99\n\n\n\n\n\n\n\n\nValues and labels\n\n\nN\n\n\nValid\n\n\nTotal\n\n\n\n\n0\n\n\n\n\n‘No’\n\n\n491\n\n\n99\n\n\n.\n\n\n4\n\n\n71\n\n\n.\n\n\n1\n\n\n\n\n1\n\n\n\n\n‘Yes’\n\n\n3\n\n\n0\n\n\n.\n\n\n6\n\n\n0\n\n\n.\n\n\n4\n\n\n\n\nNA\n\n\nM\n\n\n\n\n197\n\n\n\n\n\n\n\n\n28\n\n\n.\n\n\n5\n\n\n\n\n\n\n\n\n\n\n\n\nBChairrace_Black\n\n\n\n\n\n\n\n\nStorage mode:\n\n\ndouble\n\n\n\n\nMeasurement:\n\n\nnominal\n\n\n\n\nMissing values:\n\n\n99\n\n\n\n\n\n\n\n\nValues and labels\n\n\nN\n\n\nValid\n\n\nTotal\n\n\n\n\n0\n\n\n\n\n‘No’\n\n\n472\n\n\n95\n\n\n.\n\n\n5\n\n\n68\n\n\n.\n\n\n3\n\n\n\n\n1\n\n\n\n\n‘Yes’\n\n\n22\n\n\n4\n\n\n.\n\n\n5\n\n\n3\n\n\n.\n\n\n2\n\n\n\n\nNA\n\n\nM\n\n\n\n\n197\n\n\n\n\n\n\n\n\n28\n\n\n.\n\n\n5\n\n\n\n\n\n\n\n\n\n\n\n\nBChairrace_Hisp\n\n\n\n\n\n\n\n\nStorage mode:\n\n\ndouble\n\n\n\n\nMeasurement:\n\n\nnominal\n\n\n\n\nMissing values:\n\n\n99\n\n\n\n\n\n\n\n\nValues and labels\n\n\nN\n\n\nValid\n\n\nTotal\n\n\n\n\n0\n\n\n\n\n‘No’\n\n\n477\n\n\n96\n\n\n.\n\n\n6\n\n\n69\n\n\n.\n\n\n0\n\n\n\n\n1\n\n\n\n\n‘Yes’\n\n\n17\n\n\n3\n\n\n.\n\n\n4\n\n\n2\n\n\n.\n\n\n5\n\n\n\n\nNA\n\n\nM\n\n\n\n\n197\n\n\n\n\n\n\n\n\n28\n\n\n.\n\n\n5\n\n\n\n\n\n\n\n\n\n\n\n\nBChairrace_NativeAm\n\n\n\n\n\n\n\n\nStorage mode:\n\n\ndouble\n\n\n\n\nMeasurement:\n\n\nnominal\n\n\n\n\nMissing values:\n\n\n99\n\n\n\n\n\n\n\n\nValues and labels\n\n\nN\n\n\nValid\n\n\nTotal\n\n\n\n\n0\n\n\n\n\n‘No’\n\n\n490\n\n\n99\n\n\n.\n\n\n2\n\n\n70\n\n\n.\n\n\n9\n\n\n\n\n1\n\n\n\n\n‘Yes’\n\n\n4\n\n\n0\n\n\n.\n\n\n8\n\n\n0\n\n\n.\n\n\n6\n\n\n\n\nNA\n\n\nM\n\n\n\n\n197\n\n\n\n\n\n\n\n\n28\n\n\n.\n\n\n5\n\n\n\n\n\n\n\n\n\n\n\n\nBChairrace_White\n\n\n\n\n\n\n\n\nStorage mode:\n\n\ndouble\n\n\n\n\nMeasurement:\n\n\nnominal\n\n\n\n\nMissing values:\n\n\n99\n\n\n\n\n\n\n\n\nValues and labels\n\n\nN\n\n\nValid\n\n\nTotal\n\n\n\n\n0\n\n\n\n\n‘No’\n\n\n34\n\n\n6\n\n\n.\n\n\n9\n\n\n4\n\n\n.\n\n\n9\n\n\n\n\n1\n\n\n\n\n‘Yes’\n\n\n460\n\n\n93\n\n\n.\n\n\n1\n\n\n66\n\n\n.\n\n\n6\n\n\n\n\nNA\n\n\nM\n\n\n\n\n197\n\n\n\n\n\n\n\n\n28\n\n\n.\n\n\n5\n\n\n\n\n\n\n\n\n\n\n\n\nBChairrace_Oth\n\n\n\n\n\n\n\n\nStorage mode:\n\n\ndouble\n\n\n\n\nMeasurement:\n\n\nnominal\n\n\n\n\nMissing values:\n\n\n99\n\n\n\n\n\n\n\n\nValues and labels\n\n\nN\n\n\nValid\n\n\nTotal\n\n\n\n\n0\n\n\n\n\n‘No’\n\n\n492\n\n\n99\n\n\n.\n\n\n6\n\n\n71\n\n\n.\n\n\n2\n\n\n\n\n1\n\n\n\n\n‘Yes’\n\n\n2\n\n\n0\n\n\n.\n\n\n4\n\n\n0\n\n\n.\n\n\n3\n\n\n\n\nNA\n\n\nM\n\n\n\n\n197\n\n\n\n\n\n\n\n\n28\n\n\n.\n\n\n5\n\n\n\n\n\n\n\n\n\n\n\n\nBChairgender_Man\n\n\n\n\n\n\n\n\nStorage mode:\n\n\ndouble\n\n\n\n\nMeasurement:\n\n\nnominal\n\n\n\n\nMissing values:\n\n\n99\n\n\n\n\n\n\n\n\nValues and labels\n\n\nN\n\n\nValid\n\n\nTotal\n\n\n\n\n0\n\n\n\n\n‘No’\n\n\n410\n\n\n83\n\n\n.\n\n\n0\n\n\n59\n\n\n.\n\n\n3\n\n\n\n\n1\n\n\n\n\n‘Yes’\n\n\n84\n\n\n17\n\n\n.\n\n\n0\n\n\n12\n\n\n.\n\n\n2\n\n\n\n\nNA\n\n\nM\n\n\n\n\n197\n\n\n\n\n\n\n\n\n28\n\n\n.\n\n\n5\n\n\n\n\n\n\n\n\n\n\n\n\nBChairgender_Woman\n\n\n\n\n\n\n\n\nStorage mode:\n\n\ndouble\n\n\n\n\nMeasurement:\n\n\nnominal\n\n\n\n\nMissing values:\n\n\n99\n\n\n\n\n\n\n\n\nValues and labels\n\n\nN\n\n\nValid\n\n\nTotal\n\n\n\n\n0\n\n\n\n\n‘No’\n\n\n83\n\n\n16\n\n\n.\n\n\n8\n\n\n12\n\n\n.\n\n\n0\n\n\n\n\n1\n\n\n\n\n‘Yes’\n\n\n411\n\n\n83\n\n\n.\n\n\n2\n\n\n59\n\n\n.\n\n\n5\n\n\n\n\nNA\n\n\nM\n\n\n\n\n197\n\n\n\n\n\n\n\n\n28\n\n\n.\n\n\n5\n\n\n\n\n\n\n\n\n\n\n\n\nBChairgender_Trans\n\n\n\n\n\n\n\n\nStorage mode:\n\n\ndouble\n\n\n\n\nMeasurement:\n\n\nnominal\n\n\n\n\nMissing values:\n\n\n99\n\n\n\n\n\n\n\n\nValues and labels\n\n\nN\n\n\nValid\n\n\nTotal\n\n\n\n\n0\n\n\n\n\n‘No’\n\n\n164\n\n\n100\n\n\n.\n\n\n0\n\n\n23\n\n\n.\n\n\n7\n\n\n\n\n1\n\n\n\n\n‘Yes’\n\n\n0\n\n\n0\n\n\n.\n\n\n0\n\n\n0\n\n\n.\n\n\n0\n\n\n\n\nNA\n\n\nM\n\n\n\n\n527\n\n\n\n\n\n\n\n\n76\n\n\n.\n\n\n3\n\n\n\n\n\n\n\n\n\n\n\n\nBChairgender_NB\n\n\n\n\n\n\n\n\nStorage mode:\n\n\ndouble\n\n\n\n\nMeasurement:\n\n\nnominal\n\n\n\n\nMissing values:\n\n\n99\n\n\n\n\n\n\n\n\nValues and labels\n\n\nN\n\n\nValid\n\n\nTotal\n\n\n\n\n0\n\n\n\n\n‘No’\n\n\n494\n\n\n100\n\n\n.\n\n\n0\n\n\n71\n\n\n.\n\n\n5\n\n\n\n\n1\n\n\n\n\n‘Yes’\n\n\n0\n\n\n0\n\n\n.\n\n\n0\n\n\n0\n\n\n.\n\n\n0\n\n\n\n\nNA\n\n\nM\n\n\n\n\n197\n\n\n\n\n\n\n\n\n28\n\n\n.\n\n\n5\n\n\n\n\n\n\n\n\n\n\n\n\nBChairgender_Oth\n\n\n\n\n\n\n\n\nStorage mode:\n\n\ndouble\n\n\n\n\nMeasurement:\n\n\nnominal\n\n\n\n\nMissing values:\n\n\n99\n\n\n\n\n\n\n\n\nValues and labels\n\n\nN\n\n\nValid\n\n\nTotal\n\n\n\n\n0\n\n\n\n\n‘No’\n\n\n492\n\n\n99\n\n\n.\n\n\n6\n\n\n71\n\n\n.\n\n\n2\n\n\n\n\n1\n\n\n\n\n‘Yes’\n\n\n2\n\n\n0\n\n\n.\n\n\n4\n\n\n0\n\n\n.\n\n\n3\n\n\n\n\nNA\n\n\nM\n\n\n\n\n197\n\n\n\n\n\n\n\n\n28\n\n\n.\n\n\n5\n\n\n\n\n\n\n\n\n\n\n\n\nCEOrace\n\n\n\n\n\n\n\n\nStorage mode:\n\n\ndouble\n\n\n\n\nMeasurement:\n\n\nnominal\n\n\n\n\n\n\n\n\nValues and labels\n\n\nN\n\n\nValid\n\n\nTotal\n\n\n\n\n1\n\n\n\n\n‘AAPI’\n\n\n1\n\n\n0\n\n\n.\n\n\n2\n\n\n0\n\n\n.\n\n\n1\n\n\n\n\n2\n\n\n\n\n‘Black’\n\n\n6\n\n\n1\n\n\n.\n\n\n3\n\n\n0\n\n\n.\n\n\n9\n\n\n\n\n3\n\n\n\n\n‘Hisp’\n\n\n3\n\n\n0\n\n\n.\n\n\n6\n\n\n0\n\n\n.\n\n\n4\n\n\n\n\n4\n\n\n\n\n‘NativeAm’\n\n\n4\n\n\n0\n\n\n.\n\n\n9\n\n\n0\n\n\n.\n\n\n6\n\n\n\n\n5\n\n\n\n\n‘White’\n\n\n454\n\n\n97\n\n\n.\n\n\n0\n\n\n65\n\n\n.\n\n\n7\n\n\n\n\n6\n\n\n\n\n‘Bi’\n\n\n0\n\n\n0\n\n\n.\n\n\n0\n\n\n0\n\n\n.\n\n\n0\n\n\n\n\n7\n\n\n\n\n‘Oth’\n\n\n0\n\n\n0\n\n\n.\n\n\n0\n\n\n0\n\n\n.\n\n\n0\n\n\n\n\nNA\n\n\nM\n\n\n\n\n223\n\n\n\n\n\n\n\n\n32\n\n\n.\n\n\n3\n\n\n\n\n\n\n\n\n\n\n\n\nCEOgender\n\n\n\n\n\n\n\n\nStorage mode:\n\n\ndouble\n\n\n\n\nMeasurement:\n\n\nnominal\n\n\n\n\n\n\n\n\nValues and labels\n\n\nN\n\n\nValid\n\n\nTotal\n\n\n\n\n1\n\n\n\n\n‘Man’\n\n\n14\n\n\n3\n\n\n.\n\n\n0\n\n\n2\n\n\n.\n\n\n0\n\n\n\n\n2\n\n\n\n\n‘Woman’\n\n\n453\n\n\n96\n\n\n.\n\n\n8\n\n\n65\n\n\n.\n\n\n6\n\n\n\n\n3\n\n\n\n\n‘Trans’\n\n\n1\n\n\n0\n\n\n.\n\n\n2\n\n\n0\n\n\n.\n\n\n1\n\n\n\n\n4\n\n\n\n\n‘NB’\n\n\n0\n\n\n0\n\n\n.\n\n\n0\n\n\n0\n\n\n.\n\n\n0\n\n\n\n\n5\n\n\n\n\n‘Oth’\n\n\n0\n\n\n0\n\n\n.\n\n\n0\n\n\n0\n\n\n.\n\n\n0\n\n\n\n\nNA\n\n\nM\n\n\n\n\n223\n\n\n\n\n\n\n\n\n32\n\n\n.\n\n\n3\n\n\n\n\n\n\n\n\n\n\n\n\nBChairrace\n\n\n\n\n\n\n\n\nStorage mode:\n\n\ndouble\n\n\n\n\nMeasurement:\n\n\nnominal\n\n\n\n\n\n\n\n\nValues and labels\n\n\nN\n\n\nValid\n\n\nTotal\n\n\n\n\n1\n\n\n\n\n‘AAPI’\n\n\n3\n\n\n0\n\n\n.\n\n\n6\n\n\n0\n\n\n.\n\n\n4\n\n\n\n\n2\n\n\n\n\n‘Black’\n\n\n20\n\n\n4\n\n\n.\n\n\n0\n\n\n2\n\n\n.\n\n\n9\n\n\n\n\n3\n\n\n\n\n‘Hisp’\n\n\n14\n\n\n2\n\n\n.\n\n\n8\n\n\n2\n\n\n.\n\n\n0\n\n\n\n\n4\n\n\n\n\n‘NativeAm’\n\n\n3\n\n\n0\n\n\n.\n\n\n6\n\n\n0\n\n\n.\n\n\n4\n\n\n\n\n5\n\n\n\n\n‘White’\n\n\n453\n\n\n91\n\n\n.\n\n\n7\n\n\n65\n\n\n.\n\n\n6\n\n\n\n\n6\n\n\n\n\n‘Bi’\n\n\n0\n\n\n0\n\n\n.\n\n\n0\n\n\n0\n\n\n.\n\n\n0\n\n\n\n\n7\n\n\n\n\n‘Oth’\n\n\n1\n\n\n0\n\n\n.\n\n\n2\n\n\n0\n\n\n.\n\n\n1\n\n\n\n\nNA\n\n\nM\n\n\n\n\n197\n\n\n\n\n\n\n\n\n28\n\n\n.\n\n\n5\n\n\n\n\n\n\n\n\n\n\n\n\nBChairgender\n\n\n\n\n\n\n\n\nStorage mode:\n\n\ndouble\n\n\n\n\nMeasurement:\n\n\nnominal\n\n\n\n\n\n\n\n\nValues and labels\n\n\nN\n\n\nValid\n\n\nTotal\n\n\n\n\n1\n\n\n\n\n‘Man’\n\n\n84\n\n\n17\n\n\n.\n\n\n0\n\n\n12\n\n\n.\n\n\n2\n\n\n\n\n2\n\n\n\n\n‘Woman’\n\n\n408\n\n\n82\n\n\n.\n\n\n6\n\n\n59\n\n\n.\n\n\n0\n\n\n\n\n3\n\n\n\n\n‘Trans’\n\n\n0\n\n\n0\n\n\n.\n\n\n0\n\n\n0\n\n\n.\n\n\n0\n\n\n\n\n4\n\n\n\n\n‘NB’\n\n\n0\n\n\n0\n\n\n.\n\n\n0\n\n\n0\n\n\n.\n\n\n0\n\n\n\n\n5\n\n\n\n\n‘Oth’\n\n\n2\n\n\n0\n\n\n.\n\n\n4\n\n\n0\n\n\n.\n\n\n3\n\n\n\n\nNA\n\n\nM\n\n\n\n\n197\n\n\n\n\n\n\n\n\n28\n\n\n.\n\n\n5",
    "crumbs": [
      "YEAR TWO DATA",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Reconcile Demographic Variables</span>"
    ]
  },
  {
    "objectID": "2_03-summarize-responses-y2.html",
    "href": "2_03-summarize-responses-y2.html",
    "title": "5  Summary Statistics",
    "section": "",
    "text": "6 CHANGES TO PROGRAMS AND SERVICES",
    "crumbs": [
      "YEAR TWO DATA",
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Summary Statistics</span>"
    ]
  },
  {
    "objectID": "2_03-summarize-responses-y2.html#save-outputs",
    "href": "2_03-summarize-responses-y2.html#save-outputs",
    "title": "5  Summary Statistics",
    "section": "23.1 Save outputs",
    "text": "23.1 Save outputs\n\nfpath &lt;- \"DATA-PREP/02-year-two/03-data-final/\"\nfname &lt;- \"YEAR-02-DATA-RESTRICTED-V02.csv\"\nwrite.csv( survey_df, paste0( fpath, fname ), row.names=F, na=\"\" )\n\n\nfpath &lt;- \"DATA-PREP/02-year-two/02-data-intermediate/\"\nfname &lt;- \"DATA-CODEBOOK.txt\"\nmemisc::Write( codebook(survey_df), file=paste0( fpath, fname ) )",
    "crumbs": [
      "YEAR TWO DATA",
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Summary Statistics</span>"
    ]
  },
  {
    "objectID": "2_04-response-rates-y2.html",
    "href": "2_04-response-rates-y2.html",
    "title": "6  Response Rate by Question",
    "section": "",
    "text": "6.1 Response Rate by Question Group\nVariables are organized in question groups and the proportion of valid responses (non-missing or non-NAs) are reported at the group level. The following tables contains the group response rate for each survey respondent, one respondent per column. The gradient of each cell corresponds with no missing values within the question group (cells with white background) to groups with no complete responses, or a 0% response rate for the question group (cells with red backgrounds). There is a linear color gradient for response rates between 0% and 100%.\nThe list of questions contained within each group:\nQUESTION_GROUP\nQUESTION_ITEMS\n\n\n\n\nProgram Changes\nPrgSrvc_IncrNum ;; PrgSrvc_DcrsNum ;; PrgSrvc_Suspend ;; PrgSrvc_IncrSrvc ;; PrgSrvc_DcrsSrvc ;; PrgSrvc_NewOffc ;; PrgSrvc_ClsdOffc ;; PrgSrvc_IncrArea ;; PrgSrvc_DcrsArea ;; PrgSrvc_IncrFee ;; PrgSrvc_DcrsFee ;; PrgSrvc_ShiftOnline ;; PrgSrvc_AddOnline ;; PrgSrvc_Oth\n\n\nPeople Served\nPplSrv_NumServed ;; PplSrv_NumWait\n\n\nNext Year’s Demand\nDmnd_NxtYear\n\n\nStaff & Volunteers\nStaff_Fulltime_2021 ;; Staff_Parttime_2021 ;; Staff_Boardmmbr_2021 ;; Staff_RegVlntr_2021 ;; Staff_EpsdVltnr_2021 ;; Staff_AmerVlntr_2021 ;; Staff_PdCnslt_2021 ;; Staff_Other_Est_2021 ;; Staff_Fulltime_2022 ;; Staff_Parttime_2022 ;; Staff_Boardmmbr_2022 ;; Staff_RegVlntr_2022 ;; Staff_EpsdVltnr_2022 ;; Staff_AmerVlntr_2022 ;; Staff_PdCnslt_2022 ;; Staff_Other_Est_2022\n\n\nVolunteer Importance\nVolImportance\n\n\nDonor Importance\nDonImportance\n\n\nFundraising\nFndRaise_DvlpVirtual ;; FndRaise_IncrExp ;; FndRaise_DcrsExp ;; FndRaise_IncStaff ;; FndRaise_DcrsStaff ;; FndRaise_IncrCnslt ;; FndRaise_DcrsCnslt ;; FndRaise_IncrVolntr ;; FndRaise_DcrsVolntr ;; FndRaise_Othr\n\n\nMajor Gift Amount\nFndRaise_MajGift_Amt\n\n\nFundraising Changes\nFndRaise_Overall_Chng ;; FndRaise_Cashbelow250_Chng ;; FndRaise_Cashabove250_Chng ;; FndRaise_MajGift_Chng ;; FndRaise_Corp.Found_Grnt_Chng ;; FndRaise_RstrGift_Chng ;; FndRaise_UnrstrGift_Chng\n\n\nDonor Changes\nFndRaise_DnrBlw250 ;; FndRaise_DnrAbv250\n\n\nFundraising Sought/Received\nFndRaise_LocGvtGrnt_Seek ;; FndRaise_StateGvtGrnt_Seek ;; FndRaise_FedGvtGrnt_Seek ;; FndRaise_LocGvtCntrct_Seek ;; FndRaise_StateGvtCntrct_Seek ;; FndRaise_FedGvtCntrct_Seek ;; FndRaise_PFGrnt_Seek ;; FndRaise_CFGrnt_Seek ;; FndRaise_DAF_Seek ;; FndRaise_Corp.Found_Grnt_Seek ;; FndRaise_UntdWy_Seek ;; FndRaise_CombFedCmpgn_Seek ;; FndRaise_OthrGvngPrgrm_Seek ;; FndRaise_LocGvtGrnt_Rcv ;; FndRaise_StateGvtGrnt_Rcv ;; FndRaise_FedGvtGrnt_Rcv ;; FndRaise_LocGvtCntrct_Rcv ;; FndRaise_StateGvtCntrct_Rcv ;; FndRaise_FedGvtCntrct_Rcv ;; FndRaise_PFGrnt_Rcv ;; FndRaise_CFGrnt_Rcv ;; FndRaise_DAF_Rcv ;; FndRaise_Corp.Found_Grnt_Rcv ;; FndRaise_UntdWy_Rcv ;; FndRaise_CombFedCmpgn_Rcv ;; FndRaise_OthrGvngPrgrm_Rcv\n\n\nRevenue Breakdown\nFinance_Rev_GovtMain ;; Finance_Rev_Prtcpnt ;; Finance_Rev_Govt3rdParty ;; Finance_Rev_IndvDon ;; Finance_Rev_Gift ;; Finance_Rev_Grnt ;; Finance_Rev_Spnsr ;; Finance_Rev_Oth\n\n\nReserves\nReserves_Est\n\n\nCARES Funding\nCARES_Rcv_Est\n\n\nFinance Changes\nFinanceChng_Reserves ;; FinanceChng_Borrow ;; FinanceChng_DcrsBnft ;; FinanceChng_IncrBnft ;; FinanceChng_IncrExp ;; FinanceChng_DcrsExp ;; FinanceChng_Oth\n\n\nLeadership Changes\nLeadershipChng_RetCEO ;; LeadershipChng_RsgnCEO ;; LeadershipChng_TrmnCEO ;; LeadershipChng_HireCEO ;; LeadershipChng_IntrmCEO ;; LeadershipChng_ChngBC ;; LeadershipChng_LostBoardMem ;; LeadershipChng_RplcBoardMem ;; LeadershipChng_AddBoardMem ;; LeadershipChng_Oth\n\n\nRace and Gender\nCEOrace_AAPI ;; CEOrace_Black ;; CEOrace_Hisp ;; CEOrace_NativeAm ;; CEOrace_White ;; CEOrace_Oth ;; CEOgender_Man ;; CEOgender_Woman ;; CEOgender_Trans ;; CEOgender_NB ;; CEOgender_Oth ;; BChairrace_AAPI ;; BChairrace_Black ;; BChairrace_Hisp ;; BChairrace_NativeAm ;; BChairrace_White ;; BChairrace_Oth ;; BChairgender_Man ;; BChairgender_Woman ;; BChairgender_Trans ;; BChairgender_NB ;; BChairgender_Oth ;; BChairrace_Bi ;; CEOrace_Bi\n\n\nExternal Affairs\nExtAffairs_GenEd ;; ExtAffairs_Media ;; ExtAffairs_Advocacy ;; ExtAffairs_GovtRs ;; ExtAffairs_DiscGovtGrnt ;; ExtAffairs_InfoReq ;; ExtAffairs_Testify ;; ExtAffairs_Lobby ;; ExtAffairs_OrgPrtst ;; ExtAffairs_Mobilize ;; ExtAffairs_Petition ;; ExtAffairs_VoteReg ;; ExtAffairs_VoteEd\n\n\nPrimary Concern\nPrimaryConcern",
    "crumbs": [
      "YEAR TWO DATA",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Response Rate by Question</span>"
    ]
  },
  {
    "objectID": "2_04-response-rates-y2.html#response-rate-by-question",
    "href": "2_04-response-rates-y2.html#response-rate-by-question",
    "title": "6  Response Rate by Question",
    "section": "6.2 Response Rate By Question",
    "text": "6.2 Response Rate By Question\nThe following table report the proportion of non-missing values (non-NAs) calculated on a question-by-question basis:\n\n\n\n\n\n\n\n\n\n\nGROUP\nQUESTION_ITEM\nCOMPLETION_RATE\n\n\n\n\nBCgender\nBCHAIRGENDER_MAN: gender of Board Chair; Male\n71.5\n\n\nBCgender\nBCHAIRGENDER_NB: gender of Board Chair; Gender non-conforming/Non-Binary\n71.5\n\n\nBCgender\nBCHAIRGENDER_OTH: gender of Board Chair; Other (please specify):\n71.5\n\n\nBCgender\nBCHAIRGENDER_SPECIFY: gender of Board Chair; Other (please specify): - Text\n0.3\n\n\nBCgender\nBCHAIRGENDER_TRANS: gender of Board Chair; Trans\n23.7\n\n\nBCgender\nBCHAIRGENDER_WOMAN: gender of Board Chair; Female\n71.5\n\n\nBCrace\nBCHAIRRACE_AAPI: race of Board Chair; Asian/Pacific Islander\n71.5\n\n\nBCrace\nBCHAIRRACE_BLACK: race of Board Chair; Black/African American\n71.5\n\n\nBCrace\nBCHAIRRACE_HISP: race of Board Chair; Latinx/Hispanic\n71.5\n\n\nBCrace\nBCHAIRRACE_NATIVEAM: race of Board Chair; Native American/American Indian\n71.5\n\n\nBCrace\nBCHAIRRACE_OTH: race of Board Chair; Other (please specify):\n71.5\n\n\nBCrace\nBCHAIRRACE_TEXT: race of Board Chair; Other (please specify): - Text\n0.3\n\n\nBCrace\nBCHAIRRACE_WHITE: race of Board Chair; White\n71.5\n\n\nCARES\nCARES_RCV: indicate whether organization receive government funding from CARES act\n86.4\n\n\nCARES\nCARES_RCV_EST: estimated government funding received from CARES act\n64.3\n\n\nCEOgender\nCEOGENDER_MAN: gender of CEO; Man\n67.7\n\n\nCEOgender\nCEOGENDER_NB: gender of CEO; Gender non-conforming/Non-Binary\n67.7\n\n\nCEOgender\nCEOGENDER_OTH: gender of CEO; Other (please specify):\n67.7\n\n\nCEOgender\nCEOGENDER_SPECIFY: gender of CEO; Other (please specify): - Text\n0\n\n\nCEOgender\nCEOGENDER_TRANS: gender of CEO; Trans\n7.1\n\n\nCEOgender\nCEOGENDER_WOMAN: gender of CEO; Woman\n67.7\n\n\nCEOrace\nCEORACE_AAPI: race of CEO; Asian/Pacific Islander\n67.7\n\n\nCEOrace\nCEORACE_BLACK: race of CEO; Black/African American\n67.7\n\n\nCEOrace\nCEORACE_HISP: race of CEO; Latinx/Hispanic\n67.7\n\n\nCEOrace\nCEORACE_NATIVEAM: race of CEO; Native American/American Indian\n67.7\n\n\nCEOrace\nCEORACE_OTH: race of CEO; Other (please specify):\n67.7\n\n\nCEOrace\nCEORACE_TEXT: race of CEO; Other (please specify): - Text\n0\n\n\nCEOrace\nCEORACE_WHITE: race of CEO; White\n67.7\n\n\nDemand\nDMND_NXTYEAR: Demand for programs or services next year\n99.4\n\n\nDonImportance\nDONIMPORTANCE: importance of donors to organization\n99.4\n\n\nExternalAffairs\nEXTAFFAIRS_ADVOCACY: frequency of collaborations with other organizations to conduct advocacy and/or public education activities\n84.7\n\n\nExternalAffairs\nEXTAFFAIRS_DISCGOVTGRNT: frequency of discussions about obtainings grants or contracts with government officials\n84.7\n\n\nExternalAffairs\nEXTAFFAIRS_GENED: frequency of activities aimed at educating the general public about a specific policy issue and/or the interests of certain groups\n84.7\n\n\nExternalAffairs\nEXTAFFAIRS_GOVTRS: frequency of relationship cultivation with government officials\n84.7\n\n\nExternalAffairs\nEXTAFFAIRS_INFOREQ: frequency of responses to information requests from the government\n84.7\n\n\nExternalAffairs\nEXTAFFAIRS_LOBBY: frequency of lobbying efforts\n84.7\n\n\nExternalAffairs\nEXTAFFAIRS_MEDIA: frequency of activities aimed at publicizing research to the media, the public, or policymakers\n84.7\n\n\nExternalAffairs\nEXTAFFAIRS_MOBILIZE: frequency of mobilizations for marches, rallies, protests, boycotts, or demonstrations\n84.7\n\n\nExternalAffairs\nEXTAFFAIRS_ORGPRTST: freqeuncy of organizing marches, rallies, protests, boycotts or demonstrations\n84.7\n\n\nExternalAffairs\nEXTAFFAIRS_PETITION: frequency of efforts to encourage members or participants to petition policymakers\n84.7\n\n\nExternalAffairs\nEXTAFFAIRS_TESTIFY: frequency of testimonies at legislative or administrative hearings and/or drafting sessions\n84.7\n\n\nExternalAffairs\nEXTAFFAIRS_VOTEED: freqeuncy of nonpartisan voter education efforts\n84.7\n\n\nExternalAffairs\nEXTAFFAIRS_VOTEREG: frequency of nonpartisan voter registration efforts\n84.7\n\n\nFRchanges\nFNDRAISE_DCRSCNSLT: indicates if nonprofit decreased fundraising consultants\n96.2\n\n\nFRchanges\nFNDRAISE_DCRSEXP: indicates if nonprofit decreased fundraising expenditures\n96.4\n\n\nFRchanges\nFNDRAISE_DCRSSTAFF: indicates if nonprofit decreased fundraising staff\n96.2\n\n\nFRchanges\nFNDRAISE_DCRSVOLNTR: indicates if nonprofit decreased fundraising volunteers\n96.2\n\n\nFRchanges\nFNDRAISE_DVLPVIRTUAL: indicates if nonprofit developed virtual fundraising appeals, campaigns, events\n96.4\n\n\nFRchanges\nFNDRAISE_INCRCNSLT: indicates if nonprofit increased fundraising consultants\n96.2\n\n\nFRchanges\nFNDRAISE_INCREXP: indicates if nonprofit increased fundraising expenditures\n96.4\n\n\nFRchanges\nFNDRAISE_INCRVOLNTR: indicates if nonprofit increased fundraising volunteers\n96.2\n\n\nFRchanges\nFNDRAISE_INCSTAFF: indicates if nonprofit increased fundraising staff\n96.2\n\n\nFRchanges\nFNDRAISE_OTHR: presence of other fundraising changes\n96.4\n\n\nFRchanges\nFNDRAISE_TEXT: description of other fundraising changes\n2.3\n\n\nFRchanges#1\nFNDRAISE_CASHABOVE250_CHNG: change in cash donations above $250 from individuals\n96.5\n\n\nFRchanges#1\nFNDRAISE_CASHBELOW250_CHNG: change in cash donations below $250 from individuals\n96.5\n\n\nFRchanges#1\nFNDRAISE_CORP.FOUND_GRNT_CHNG: change in corporate or foundation grants/donations\n96.5\n\n\nFRchanges#1\nFNDRAISE_MAJGIFT_CHNG: change in major gifts from individuals\n96.5\n\n\nFRchanges#1\nFNDRAISE_OVERALL_CHNG: change in overall donations\n96.5\n\n\nFRchanges#1\nFNDRAISE_RSTRGIFT_CHNG: change in donations from sources with donor-imposed restrictions\n96.5\n\n\nFRchanges#1\nFNDRAISE_UNRSTRGIFT_CHNG: change in donations from sources without donor-imposed restrictions\n95.9\n\n\nFRnumberdonors\nFNDRAISE_DNRABV250: number of individual donors who gave more than $250\n96.5\n\n\nFRnumberdonors\nFNDRAISE_DNRBLW250: number of individual donors who gave less than $250\n96.5\n\n\nFinanceChanges\nFINANCECHNG_BORROW: indicates whether organization borrowed funds or increased lines of credit\n85.7\n\n\nFinanceChanges\nFINANCECHNG_DCRSBNFT: indicates whether organization reduced or paused health, retirement or other staff benefits\n85.7\n\n\nFinanceChanges\nFINANCECHNG_DCRSEXP: indicates whether organization decreased overall expenses\n85.7\n\n\nFinanceChanges\nFINANCECHNG_INCRBNFT: indicates whether organization increased health, retirement or other staff benefits\n85.7\n\n\nFinanceChanges\nFINANCECHNG_INCREXP: indicates whether organization increased overall expenses\n85.7\n\n\nFinanceChanges\nFINANCECHNG_OTH: indicates other changes in organization’s finances\n85.7\n\n\nFinanceChanges\nFINANCECHNG_RESERVES: indicates whether organization drew from reserves\n85.7\n\n\nFinanceChanges\nFINANCECHNG_TEXT: describes changes in organization’s finances\n2\n\n\nFinances\nFINANCE_REV_GIFT: total revenue from In-kind gifts (estimated value of donated goods, assets, or services)\n88\n\n\nFinances\nFINANCE_REV_GOVT3RDPARTY: total revenue from government as third-party payer (e.g., Medicaid)\n88\n\n\nFinances\nFINANCE_REV_GOVTMAIN: total revenue from Government agencies (federal, state, or local, including grants and contracts)\n88\n\n\nFinances\nFINANCE_REV_GRNT: total revenue from Private foundation or corporate foundation grants\n88\n\n\nFinances\nFINANCE_REV_INDVDON: total revenue from individual donations (including donations from federated giving programs, United Way, and donor advised funds, but not including in-kind gifts)\n88\n\n\nFinances\nFINANCE_REV_OTH: total revenue from other sources\n88\n\n\nFinances\nFINANCE_REV_OTH_TEXT: names of other revenue sources\n14.8\n\n\nFinances\nFINANCE_REV_PRTCPNT: total revnue from self-paying participants\n87.4\n\n\nFinances\nFINANCE_REV_SPNSR: total revenue from Corporate sponsorship\n88\n\n\nFrmajgift\nFNDRAISE_MAJGIFT_AMT: donation amount considered a major gift\n96.4\n\n\nFunding1#1\nFNDRAISE_CFGRNT_SEEK: indicates if nonprofit sought a community foundation grant\n98.1\n\n\nFunding1#1\nFNDRAISE_COMBFEDCMPGN_SEEK: indicates if nonprofit sought funding from the Combined Federal Campaign\n97.7\n\n\nFunding1#1\nFNDRAISE_CORP.FOUND_GRNT_SEEK: indicates if nonprofit sought corporate grants or donations\n98.1\n\n\nFunding1#1\nFNDRAISE_DAF_SEEK: indicates if nonprofit sought donor advised fund funding\n97.7\n\n\nFunding1#1\nFNDRAISE_FEDGVTCNTRCT_SEEK: indicates if nonprofit sought a federal government contract (other than medicare/medicaid)\n98.1\n\n\nFunding1#1\nFNDRAISE_FEDGVTGRNT_SEEK: indicates if nonprofit sought a federal government grant\n98.1\n\n\nFunding1#1\nFNDRAISE_LOCGVTCNTRCT_SEEK: indicates if nonprofit sought a local government contract (other than medicare/medicaid)\n98.1\n\n\nFunding1#1\nFNDRAISE_LOCGVTGRNT_SEEK: indicates if nonprofit sought a local government grant\n98.1\n\n\nFunding1#1\nFNDRAISE_OTHRGVNGPRGRM_SEEK: indicates if nonprofit sought funding from other federated giving programs (e.g. Catholic Charities, Jewish Federations, etc.)\n97.7\n\n\nFunding1#1\nFNDRAISE_PFGRNT_SEEK: indicates if nonprofit sought a private foundation grant\n98.1\n\n\nFunding1#1\nFNDRAISE_STATEGVTCNTRCT_SEEK: indicates if nonprofit sought a state government contract (other than medicare/medicaid)\n98.1\n\n\nFunding1#1\nFNDRAISE_STATEGVTGRNT_SEEK: indicates if nonprofit sought a state government grant\n98.1\n\n\nFunding1#1\nFNDRAISE_UNTDWY_SEEK: indicates if nonprofit sought funding from United Way\n98.1\n\n\nFunding1#2\nFNDRAISE_CFGRNT_RCV: indicates if nonprofit received a community foundation grant\n98.1\n\n\nFunding1#2\nFNDRAISE_COMBFEDCMPGN_RCV: indicates if nonprofit received funding from the Combined Federal Campaign\n97.7\n\n\nFunding1#2\nFNDRAISE_CORP.FOUND_GRNT_RCV: indicates if nonprofit received corporate grants or donations\n98.1\n\n\nFunding1#2\nFNDRAISE_DAF_RCV: indicates if nonprofit received donor advised fund funding\n97.7\n\n\nFunding1#2\nFNDRAISE_FEDGVTCNTRCT_RCV: indicates if nonprofit received a federal government contract (other than medicare/medicaid)\n98.1\n\n\nFunding1#2\nFNDRAISE_FEDGVTGRNT_RCV: indicates if nonprofit received a federal government grant\n98.1\n\n\nFunding1#2\nFNDRAISE_LOCGVTCNTRCT_RCV: indicates if nonprofit received a local government contract (other than medicare/medicaid)\n98.1\n\n\nFunding1#2\nFNDRAISE_LOCGVTGRNT_RCV: indicates if nonprofit received a local government grant\n98.1\n\n\nFunding1#2\nFNDRAISE_OTHRGVNGPRGRM_RCV: indicates if nonprofit received funding from other federated giving programs (e.g. Catholic Charities, Jewish Federations, etc.)\n97.7\n\n\nFunding1#2\nFNDRAISE_PFGRNT_RCV: indicates if nonprofit received a private foundation grant\n98.1\n\n\nFunding1#2\nFNDRAISE_STATEGVTCNTRCT_RCV: indicates if nonprofit received a state government contract (other than medicare/medicaid)\n98.1\n\n\nFunding1#2\nFNDRAISE_STATEGVTGRNT_RCV: indicates if nonprofit received a state government grant\n98.1\n\n\nFunding1#2\nFNDRAISE_UNTDWY_RCV: indicates if nonprofit received funding from United Way\n98.1\n\n\nLeadershipChanges\nLEADERSHIPCHNG_ADDBOARDMEM: indicates whether board members were added\n85.1\n\n\nLeadershipChanges\nLEADERSHIPCHNG_CHNGBC: indicates whether the Board Chair was changed\n85.1\n\n\nLeadershipChanges\nLEADERSHIPCHNG_HIRECEO: indicates whether a executive director or CEO was hired\n85.1\n\n\nLeadershipChanges\nLEADERSHIPCHNG_INTRMCEO: indicates whether an interim executive director or CEO was hired\n85.1\n\n\nLeadershipChanges\nLEADERSHIPCHNG_LOSTBOARDMEM: indicates whether board members were lost or removed\n85.1\n\n\nLeadershipChanges\nLEADERSHIPCHNG_OTH: indicates other leadership changes\n85.1\n\n\nLeadershipChanges\nLEADERSHIPCHNG_OTH_TEXT: describes other leadership changes\n1.4\n\n\nLeadershipChanges\nLEADERSHIPCHNG_RETCEO: indicates whether the executive director or CEO retired\n85.1\n\n\nLeadershipChanges\nLEADERSHIPCHNG_RPLCBOARDMEM: indicates whether existing board members were replaced\n85.1\n\n\nLeadershipChanges\nLEADERSHIPCHNG_RSGNCEO: indicates whether the executive director or CEO stepped down\n85.1\n\n\nLeadershipChanges\nLEADERSHIPCHNG_TRMNCEO: indicates whether the executive director or CEO was terminated\n85.1\n\n\nPeopleServed#1\nPPLSRV_NUMSERVED: Number of people served\n99.4\n\n\nPeopleServed#1\nPPLSRV_NUMWAIT: Number of people waiting to be served\n99.4\n\n\nPeopleServed#2\nPPLSRV_NUMSERVED_NA_X: Number of people served Not Applicable?\n99.4\n\n\nPeopleServed#2\nPPLSRV_NUMWAIT_NA_X: Number of people waiting to be served Not Applicable?\n99.4\n\n\nPrimaryConcern\nPRIMARYCONCERN: primary organizational concern for the year\n70.8\n\n\nProgChanges\nPRGSRVC_ADDONLINE: indicates if online programs or services added\n99.3\n\n\nProgChanges\nPRGSRVC_CLSDOFFC: indicates the closure of offices or program sites\n99.1\n\n\nProgChanges\nPRGSRVC_DCRSAREA: indicates a decrease in geographic area served\n99.3\n\n\nProgChanges\nPRGSRVC_DCRSFEE: indicates a decrease in program or service fees\n99.3\n\n\nProgChanges\nPRGSRVC_DCRSNUM: indicates a decrease in number of programs or services\n99.3\n\n\nProgChanges\nPRGSRVC_DCRSSRVC: indicates a decrease in number of people served\n99.3\n\n\nProgChanges\nPRGSRVC_INCRAREA: indicates the an increase in geographic area served\n99.3\n\n\nProgChanges\nPRGSRVC_INCRFEE: indicates an increase in program or service fees\n99.3\n\n\nProgChanges\nPRGSRVC_INCRNUM: Indicates an increase in number of programs or services\n99.3\n\n\nProgChanges\nPRGSRVC_INCRSRVC: Indicates an increase in number of people served\n99.3\n\n\nProgChanges\nPRGSRVC_NEWOFFC: indicates the opening of new offices or program sites\n99.1\n\n\nProgChanges\nPRGSRVC_OTH: indicates other changes in programs or services\n99.3\n\n\nProgChanges\nPRGSRVC_OTHCHNG_TEXT: Other programs or services (text)\n14.9\n\n\nProgChanges\nPRGSRVC_SHIFTONLINE: indicates if Programs or services were shifted online\n99.3\n\n\nProgChanges\nPRGSRVC_SUSPEND: indicates the suspension of programs or services\n99.3\n\n\nReserves\nRESERVES_EST: estimated total operating cash and unrestricted liquid assets in reserve for 2022\n86.4\n\n\nReserves\nRESERVES_NA_X: estimated total operating cash and unrestricted liquid assets in reserve is not applicable\n86.4\n\n\nStaff#1\nSTAFF_AMERVLNTR_2021: Number of americorps volunteers\n99.4\n\n\nStaff#1\nSTAFF_BOARDMMBR_2021: Number of Board Members\n98.8\n\n\nStaff#1\nSTAFF_EPSDVLTNR_2021: Number of episodic volunteers\n99.4\n\n\nStaff#1\nSTAFF_FULLTIME_2021: Number of full time staff\n99.4\n\n\nStaff#1\nSTAFF_OTHER_EST_2021: Number of other staff\n99.4\n\n\nStaff#1\nSTAFF_OTHER_TEXT_2021: Description of other staff\n5.6\n\n\nStaff#1\nSTAFF_PARTTIME_2021: Number of part time staff\n99.4\n\n\nStaff#1\nSTAFF_PDCNSLT_2021: Number of paid consultants\n99.4\n\n\nStaff#1\nSTAFF_REGVLNTR_2021: Number of regular volunteers\n99.4\n\n\nStaff#2\nSTAFF_AMERVLNTR_2022: Number of americorps volunteers\n99.4\n\n\nStaff#2\nSTAFF_BOARDMMBR_2022: Number of Board Members\n98.8\n\n\nStaff#2\nSTAFF_EPSDVLTNR_2022: Number of episodic volunteers\n99.4\n\n\nStaff#2\nSTAFF_FULLTIME_2022: Number of full time staff\n99.4\n\n\nStaff#2\nSTAFF_OTHER_EST_2022: Number of other staff\n99.4\n\n\nStaff#2\nSTAFF_OTHER_TEXT_2022: Description of other staff\n5.6\n\n\nStaff#2\nSTAFF_PARTTIME_2022: Number of part time staff\n99.4\n\n\nStaff#2\nSTAFF_PDCNSLT_2022: Number of paid consultants\n99.4\n\n\nStaff#2\nSTAFF_REGVLNTR_2022: Number of regular volunteers\n99.4\n\n\nStaff#3\nSTAFF_AMERVLNTR_NA: Number of americorps volunteers not applicable\n99.4\n\n\nStaff#3\nSTAFF_BOARDMMBR_NA: Number of Board Members not applicable\n98.8\n\n\nStaff#3\nSTAFF_EPSDVLTNR_NA: Number of episodic volunteers not applicable\n99.4\n\n\nStaff#3\nSTAFF_FULLTIME_NA: Number of full time staff not applicable\n99.4\n\n\nStaff#3\nSTAFF_OTHER_EST_NA: Description of other, not applicable staff\n5.6\n\n\nStaff#3\nSTAFF_OTHER_TEXT_NA: Number of other staff not applicable\n99.4\n\n\nStaff#3\nSTAFF_PARTTIME_NA: Number of part time staff not applicable\n99.4\n\n\nStaff#3\nSTAFF_PDCNSLT_NA: Number of paid consultants not applicable\n99.4\n\n\nStaff#3\nSTAFF_REGVLNTR_NA: Number of regular volunteers not applicable\n99.4\n\n\nVolImportance\nVOLIMPORTANCE: Importance of volunteers to organization\n99.4\n\n\nNA\nBCHAIRGENDER: NA\n71.5\n\n\nNA\nBCHAIRRACE: NA\n71.5\n\n\nNA\nBCHAIRRACE_BI: NA\n100\n\n\nNA\nCEOGENDER: NA\n67.7\n\n\nNA\nCEORACE: NA\n67.7\n\n\nNA\nCEORACE_BI: NA\n100\n\n\nNA\nCOMMENTS: NA\n81.6\n\n\nNA\nCONTACTINFOUPDATE_1: NA\n82.6\n\n\nNA\nCONTACTINFOUPDATE_2: NA\n82.6\n\n\nNA\nCONTACTINFOUPDATE_3: NA\n82.6\n\n\nNA\nEIN: NA\n97.5\n\n\nNA\nFIRSTNAME_Y2_UPDATED: NA\n99.1\n\n\nNA\nLASTNAME_Y2_UPDATED: NA\n99.1\n\n\nNA\nTITLE_Y2_UPDATED: NA\n98.8\n\n\nNA\nYEAR2WT: NA\n97.5",
    "crumbs": [
      "YEAR TWO DATA",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Response Rate by Question</span>"
    ]
  },
  {
    "objectID": "3_00-YEAR-THREE.html",
    "href": "3_00-YEAR-THREE.html",
    "title": "YEAR THREE DATA",
    "section": "",
    "text": "Required R Packages\nThis chapter will utilize the following packages:\nlibrary( haven )\nlibrary( dplyr )\nlibrary( tidyr )\nlibrary( epoxy )\nlibrary( memisc )\nlibrary( labelled )",
    "crumbs": [
      "YEAR THREE DATA"
    ]
  },
  {
    "objectID": "3_00-YEAR-THREE.html#renaming-columns",
    "href": "3_00-YEAR-THREE.html#renaming-columns",
    "title": "YEAR THREE DATA",
    "section": "Renaming Columns",
    "text": "Renaming Columns\nColumns referencing survey questions are renamed with the help of a data dictionary to improve readability.\n\ntorename &lt;- \n  dd %&gt;% \n  dplyr::select( vname, vname_raw ) %&gt;% \n  tidyr::drop_na()\n\ntorename &lt;- dplyr::filter( torename, vname_raw != \"Q10.2_4\" )\n\n# torename$vname_raw %&gt;% setdiff( names(survey_df) )\n\nExamples:\n\n\n[1] \"Q4.1#1_1_1\" \"Q4.1#1_2_1\" \"Q4.1#2_1_1\" \"Q4.1#2_2_1\"\n\n\nGive the data meaningful names so that it is easier to work with.\n\n# USE RAW VNAME IF VNAME IS EMPTY:\ndd$vname[ is.na(dd$vname) ] &lt;- dd$vname_raw[ is.na(dd$vname) ]\n\nsurvey_df &lt;- \n  survey_df %&gt;% \n  dplyr::rename_at(\n     vars( torename$vname_raw ), \n     ~ torename$vname )\n\nExamples:\n\n\n[1] \"PplSrv_NumServed\"      \"PplSrv_NumWait\"        \"PplSrv_NumServed_NA_X\"\n[4] \"PplSrv_NumWait_NA_X\"  \n\n\nAdd survey questions as an attribute in the data frame:\n\ntemp          &lt;- readr::read_csv( paste0( fpath, fname ) )\nquestion.txt  &lt;- as.character( temp[ 1, ] )\nrm( temp )\n\nnames( question.txt ) &lt;- names( survey_df )\nattr( survey_df, \"question_txt\" ) &lt;- question.txt",
    "crumbs": [
      "YEAR THREE DATA"
    ]
  },
  {
    "objectID": "3_00-YEAR-THREE.html#drop-nuisance-fields",
    "href": "3_00-YEAR-THREE.html#drop-nuisance-fields",
    "title": "YEAR THREE DATA",
    "section": "Drop Nuisance Fields",
    "text": "Drop Nuisance Fields\nMany of the exported qualtrics fields contain non-useful metadata or are empty. These have been labeled as “DROP” in the group field. Remove these for convenience.\n\n# SELECT COLUMNS TO DROP: \nDROP_THESE &lt;- dd$vname[ dd$group == \"DROP\" ] |&gt; na.omit()\n\nsurvey_df &lt;- \n  survey_df %&gt;% \n  dplyr::select( -any_of( DROP_THESE ) )",
    "crumbs": [
      "YEAR THREE DATA"
    ]
  },
  {
    "objectID": "3_01-recoding-rules-y3.html",
    "href": "3_01-recoding-rules-y3.html",
    "title": "7  Relabeling Qualtrics Variables",
    "section": "",
    "text": "8 Yes/No Questions\n# APPLY TO COLUMNS K:\nbool_qns &lt;- \n  c( program_change_qns_bool, \n     fundraise_qns_bool, \n     cares_qns_bool, \n     finance_chng_qns_bool, \n     leadership_chng_qns_bool )\n\nCOLUMNS &lt;-  bool_qns\n\n# VALUES THAT NEED RECODING\nRULES &lt;- c(\n  \n           \"  Yes    =&gt;&gt;    1    \", \n           \"  No     =&gt;&gt;    0    \", \n           \"  Unsure =&gt;&gt;    97   \", \n           \"  N/A    =&gt;&gt;    98   \", \n           \"  -99    =&gt;&gt;    99   \"   )\n\nrules &lt;- parse_rules( RULES )          \npattern &lt;- rules[[ \"pattern\" ]]\nreplace &lt;- rules[[ \"replace\" ]]\n\n\n# MEMISC LABELS AND MISSING VALUE CODES\nvalues  &lt;- c( 0, 1, 97, 98, 99 )\nlabels  &lt;- c( \"No\", \"Yes\", \"Unsure\", \"Not Applicable\", \"N/A\" )\nmissing &lt;- c( 97, 98, 99 )\n\n# RECODE VARIABLES \nsurvey_df &lt;- \n  survey_df %&gt;% \n  recode_columns( k=COLUMNS, pattern, replace, values, labels, missing )\nExample:",
    "crumbs": [
      "YEAR THREE DATA",
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Relabeling Qualtrics Variables</span>"
    ]
  },
  {
    "objectID": "3_01-recoding-rules-y3.html#seek-or-receive-fundraising-questions",
    "href": "3_01-recoding-rules-y3.html#seek-or-receive-fundraising-questions",
    "title": "7  Relabeling Qualtrics Variables",
    "section": "9.1 Seek or Receive Fundraising Questions",
    "text": "9.1 Seek or Receive Fundraising Questions\nThese checkboxes are ticked by the respondent to indicate if they have sought or received funding from a specific source.\n\n\n\n\n\n\n\n\n\n\nOriginal Value\nDescription\nRecode Label\nRecode Value\nCode as Missing?\n\n\n\n\n1\nCheckbox Checked\nYes\n1\nNo\n\n\nNA\nCheckbox Unchecked\nNo\n0\nNo\n\n\nAll NA\nUnanswered\nNA\nNA\nYes\n\n\n\nALL NA refers to no responses on all questions in this entire question group (i.e. the respondent skipped the section).\n\n# APPLY TO COLUMNS K:\nCOLUMNS &lt;-  fundraise_skrcv_qns_bool\n\n\n# ALL RESPONSES NA IN GROUP:\n# indication that the question\n# was skipped by the respondent\n\nrow.id &lt;- apply( survey_df[ COLUMNS ], \n                 MARGIN = 1, \n                 FUN = function(x) all(is.na(x)) ) \n\n# NA means \"no\"\n\nna_to_zero &lt;- function(x){\n  x[ is.na(x) ] &lt;- 0\n  return(x)\n}\n\nsurvey_df[ COLUMNS ] &lt;- \n  survey_df[ COLUMNS ] %&gt;% \n  lapply( na_to_zero )\n\n# if they do not respond \"yes\" \n# to at least one question then\n# assume they skipped them all\n\nzero_to_na &lt;- function( x, rowid ){\n  x[ rowid ] &lt;- NA\n  return(x)\n}\n\nsurvey_df[ COLUMNS ] &lt;- \n  survey_df[ COLUMNS ] %&gt;% \n  lapply( zero_to_na, row.id )\n\n\n\n# VALUES THAT NEED RECODING\n\nRULES &lt;- c(    \n  \n  \"    1      =&gt;&gt;    1    \", \n  \"   NA      =&gt;&gt;    0    \"    )\n\n\nrules &lt;- parse_rules( RULES )          \npattern &lt;- rules[[ \"pattern\" ]]\nreplace &lt;- rules[[ \"replace\" ]]\n\n# MEMISC LABELS AND MISSING VALUE CODES \nvalues  &lt;- c( \"0\", \"1\" )\nlabels  &lt;- c( \"No\", \"Yes\" )\nmissing &lt;- NA\n\n# RECODE VARIABLES \nsurvey_df &lt;- \n  survey_df %&gt;% \n  recode_columns( k=COLUMNS, pattern, replace, values, labels, missing )\n\nExample:\n\n\n\n\n\n\nFndRaise_LocGvtGrnt_Seek — ‘TYPE: boolean’\n\n\n“Indicates if nonprofit sought a local government grant”\n\n\n\n\n\n\n\n\nStorage mode:\n\n\ncharacter\n\n\n\n\nMeasurement:\n\n\nnominal\n\n\n\n\nMissing values:\n\n\nNA\n\n\n\n\n\n\n\n\nValues and labels\n\n\nN\n\n\nValid\n\n\nTotal\n\n\n\n\n0\n\n\n\n\n‘No’\n\n\n198\n\n\n41\n\n\n.\n\n\n5\n\n\n39\n\n\n.\n\n\n1\n\n\n\n\n1\n\n\n\n\n‘Yes’\n\n\n279\n\n\n58\n\n\n.\n\n\n5\n\n\n55\n\n\n.\n\n\n0\n\n\n\n\nNA\n\n\nM\n\n\n\n\n30\n\n\n\n\n\n\n\n\n5\n\n\n.\n\n\n9\n\n\n\n\n\n\n\nQUESTION TXT:\n\n\nIn the last year (2022), did your organization seek or receive revenue from any of the followi… - Did you SEEK or APPLY for this funding? - Local government grants - (select all that apply)",
    "crumbs": [
      "YEAR THREE DATA",
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Relabeling Qualtrics Variables</span>"
    ]
  },
  {
    "objectID": "3_01-recoding-rules-y3.html#regulation-checkboxes",
    "href": "3_01-recoding-rules-y3.html#regulation-checkboxes",
    "title": "7  Relabeling Qualtrics Variables",
    "section": "9.2 Regulation Checkboxes",
    "text": "9.2 Regulation Checkboxes\nThese questions are presented as a checkbox to the user to indicate that a question is not applicable. “Yes” here means “Yes, this question is not applicable”.\n\n\n\n\n\n\n\n\n\n\nOriginal Value\nDescription\nRecode Label\nRecode Value\nCode as Missing ?\n\n\n\n\n1\nCheckbox Checked\nYes\n1\nNo\n\n\nNA\nUnanswered\nNo\n0\nNo\n\n\n22\nCheckbox Checked\nYes\n1\nNo\n\n\n21\nUnchecked Box\nNo\n0\nNo\n\n\n\n\n# APPLY TO COLUMNS K:\n\n# exclude OTHER TXT question\nother &lt;- which( regulation_qns == \"Regulations_Other_TEXT\" )\nCOLUMNS &lt;-  regulation_qns[ - other  ]\n\n\n# \"did not contact any agencies\":\n# ~ NONE CONTACTED\n\ndnc.rows &lt;- survey_df$Regulations == 21 \n\n# all rows NA: \n# question skipped by respondent\n\nna.rows &lt;- is.na( survey_df$Regulations )\n\n\n# NA means \"NO\"\n\nna_to_zero &lt;- function(x){\n  x[ is.na(x) ] &lt;- 0\n  return(x)\n}\n\nsurvey_df[ COLUMNS ] &lt;- \n  survey_df[ COLUMNS ] %&gt;% \n  lapply( na_to_zero )\n\n\n# if they responded \"NONE CONTACTED\" (21) \n# to the first question code\n# the rest as \"NONE CONTACTED\"\n\nzero_to_dnc &lt;- function( x, rowid ){\n  x[ rowid ] &lt;- \"NONE CONTACTED\"\n  return(x)\n}\n\nsurvey_df[ COLUMNS ] &lt;- \n  survey_df[ COLUMNS ] %&gt;% \n  lapply( zero_to_dnc, row.id )\n\n# if the first question was NA \n# code all as missing (\"no response\")\n\nzero_to_noresp &lt;- function( x, rowid ){\n  x[ rowid ] &lt;- \"NO RESPONSE\"\n  return(x)\n}\n\nsurvey_df[ COLUMNS ] &lt;- \n  survey_df[ COLUMNS ] %&gt;% \n  lapply( zero_to_noresp, row.id )\n\n\n# VALUES THAT NEED RECODING\n\nRULES &lt;- c(    \"   22    =&gt;&gt;     1                \",\n               \"   21    =&gt;&gt;     NONE CONTACTED   \",\n               \"   NA    =&gt;&gt;     NO RESPONSE      \", \n               \"    1    =&gt;&gt;     1                \"    )\n\n\nrules &lt;- parse_rules( RULES )          \npattern &lt;- rules[[ \"pattern\" ]]\nreplace &lt;- rules[[ \"replace\" ]]\n\n\n# MEMISC LABELS AND MISSING VALUE CODES \nvalues  &lt;- c( \"0\", \"1\", \"NONE CONTACTED\", \"NO RESPONSE\" )\nlabels  &lt;- c( \"No\", \"Yes\", \"None Contacted\", \"No Response\" )\nmissing &lt;- \"NO RESPONSE\"\n\n# RECODE VARIABLES \nsurvey_df &lt;- \n  survey_df %&gt;% \n  recode_columns( k=COLUMNS, pattern, replace, values, labels, missing )\n\nExample:\n\n\n\n\n\n\nRegulations — ‘TYPE: boolean’\n\n\n“Indicates whether the nonprofit contacted federal, state, or local regulatory agencies in the past 2 years”\n\n\n\n\n\n\n\n\nStorage mode:\n\n\ncharacter\n\n\n\n\nMeasurement:\n\n\nnominal\n\n\n\n\nMissing values:\n\n\nNO RESPONSE\n\n\n\n\n\n\n\n\nValues and labels\n\n\nN\n\n\nValid\n\n\nTotal\n\n\n\n\n0\n\n\n\n\n‘No’\n\n\n53\n\n\n11\n\n\n.\n\n\n1\n\n\n10\n\n\n.\n\n\n5\n\n\n\n\n1\n\n\n\n\n‘Yes’\n\n\n151\n\n\n31\n\n\n.\n\n\n7\n\n\n29\n\n\n.\n\n\n8\n\n\n\n\nNO\n\n\n\n\nRESPONSE M ‘No Response’\n\n\n30\n\n\n\n\n\n\n\n\n5\n\n\n.\n\n\n9\n\n\n\n\nNONE\n\n\n\n\nCONTACTED ‘None Contacted’\n\n\n273\n\n\n57\n\n\n.\n\n\n2\n\n\n53\n\n\n.\n\n\n8\n\n\n\n\n\n\n\nQUESTION TXT:\n\n\nHas your organization contacted federal, state or local regulatory agencies (IRS, State Attorney Generals, Secretaries of State, or other state or local charities regulation officials) in the past 2 years?",
    "crumbs": [
      "YEAR THREE DATA",
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Relabeling Qualtrics Variables</span>"
    ]
  },
  {
    "objectID": "3_01-recoding-rules-y3.html#staffing-plans",
    "href": "3_01-recoding-rules-y3.html#staffing-plans",
    "title": "7  Relabeling Qualtrics Variables",
    "section": "9.3 Staffing Plans",
    "text": "9.3 Staffing Plans\nThese questions are presented as a checkbox to the user to indicate that a question is not applicable. “Yes” here means “Yes, this question is not applicable”.\n\n\n\n\n\n\n\n\n\n\nOriginal Value\nDescription\nRecode Label\nRecode Value\nCode as Missing ?\n\n\n\n\n1\nCheckbox Checked\nYes\n1\nNo\n\n\nNA\nUnanswered\nNo\n0\nNo\n\n\n\n\n# APPLY TO COLUMNS K:\nCOLUMNS &lt;-  staffing_plans\n\n\n# ALL RESPONSES NA IN GROUP:\n# indication that the question\n# was skipped by the respondent\n\nrow.id &lt;- apply( survey_df[ COLUMNS ], \n                 MARGIN = 1, \n                 FUN = function(x) all(is.na(x)) ) \n\n# VALUES THAT NEED RECODING\n\nRULES &lt;- c(    \n          \n             \"    1    =&gt;&gt;     1   \", \n             \"   NA    =&gt;&gt;     0   \"   )\n\n\nrules &lt;- parse_rules( RULES )          \npattern &lt;- rules[[ \"pattern\" ]]\nreplace &lt;- rules[[ \"replace\" ]]\n\n# NA means \"no\"\n\nna_to_zero &lt;- function(x){\n  x[ is.na(x) ] &lt;- 0\n  return(x)\n}\n\nsurvey_df[ COLUMNS ] &lt;- \n  survey_df[ COLUMNS ] %&gt;% \n  lapply( na_to_zero )\n\n# if they do not respond \"yes\" \n# to at least one question then\n# assume they skipped them all\n\nzero_to_na &lt;- function( x, rowid ){\n  x[ rowid ] &lt;- NA\n  return(x)\n}\n\nsurvey_df[ COLUMNS ] &lt;- \n  survey_df[ COLUMNS ] %&gt;% \n  lapply( zero_to_na, row.id )\n\n# MEMISC LABELS AND MISSING VALUE CODES \nvalues  &lt;- c( \"0\", \"1\" )\nlabels  &lt;- c( \"No\", \"Yes\" )\nmissing &lt;- NA\n\n# RECODE VARIABLES \nsurvey_df &lt;- \n  survey_df %&gt;% \n  recode_columns( k=COLUMNS, pattern, replace, values, labels, missing )\n\nExample:\n\n\n\n\n\n\nStaffingPlans_HireDifferent — ‘TYPE: boolean’\n\n\n“Indicates whether the nonprofit has plans to hire new staff with different skills than existing staff in the next 12 months”\n\n\n\n\n\n\n\n\nStorage mode:\n\n\ncharacter\n\n\n\n\nMeasurement:\n\n\nnominal\n\n\n\n\nMissing values:\n\n\nNA\n\n\n\n\n\n\n\n\nValues and labels\n\n\nN\n\n\nValid\n\n\nTotal\n\n\n\n\n0\n\n\n\n\n‘No’\n\n\n260\n\n\n59\n\n\n.\n\n\n4\n\n\n51\n\n\n.\n\n\n3\n\n\n\n\n1\n\n\n\n\n‘Yes’\n\n\n178\n\n\n40\n\n\n.\n\n\n6\n\n\n35\n\n\n.\n\n\n1\n\n\n\n\nNA\n\n\nM\n\n\n\n\n69\n\n\n\n\n\n\n\n\n13\n\n\n.\n\n\n6\n\n\n\n\n\n\n\nQUESTION TXT:\n\n\nDoes your organization have plans to change its staffing in the next 12 months? (select all that apply) - Hire new staff with different skills than existing staff",
    "crumbs": [
      "YEAR THREE DATA",
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Relabeling Qualtrics Variables</span>"
    ]
  },
  {
    "objectID": "3_01-recoding-rules-y3.html#na-checkboxes",
    "href": "3_01-recoding-rules-y3.html#na-checkboxes",
    "title": "7  Relabeling Qualtrics Variables",
    "section": "9.4 N/A Checkboxes",
    "text": "9.4 N/A Checkboxes\nThese questions are presented as a checkbox to the user to indicate that a question is not applicable. “Yes” here means “Yes, this question is not applicable”.\n\n9.4.1 Staff Forecasts\nWe see three four cases:\n\nAll answered\nOnly answer for 2022 but don’t forecast 2023\nAnswer “does not apply to me”\nAnswer “does apply” but then don’t report numbers\n\nWe create an imputed version of 2023 numbers using 2022 numbers for missing cases (new variable x_2023 is saved as x_2023_imp for “imputed” ).\nReplace “OK” in the not applicable field with “UNSURE” if they report no staff numbers. These will become NA (missing) when the dataset is saved.\n\n\n    Staff_Fulltime_2022 Staff_Fulltime_2023 Staff_Fulltime_NA\n142                 100                 110                 0\n144                   1                   1                 0\n145                 210                 225                 0\n143                   1                  NA                 0\n146                   0                  NA                 0\n141                  NA                  NA                 1\n150                  NA                  NA                 0\n\n\nAfter imputation of 2023 responses (use 2022 values):\n\n\n    Staff_Fulltime_2022 Staff_Fulltime_2023 Staff_Fulltime_NA\n142                 100                 110                 0\n144                   1                   1                 0\n145                 210                 225                 0\n143                   1                   1                 0\n146                   0                   0                 0\n141                  NA                  NA                 1\n150                  NA                  NA                99\n\n\n\nimpute_staff &lt;- function( df, v2022, v2023, vNA ){\n  \n  x.2022 &lt;- df[[ v2022 ]]\n  x.2023 &lt;- df[[ v2023 ]]\n  x.NA   &lt;- df[[ vNA   ]]\n  \n  na.2022 &lt;- is.na( x.2022 )\n  na.2023 &lt;- is.na( x.2023 )\n  both.na &lt;- na.2022 & na.2023\n  \n  # Not applicable is \"unsure\"\n  x.NA[ is.na( x.NA ) ] &lt;- 0\n  x.NA[ x.NA == 0 & both.na ] &lt;- 99\n  \n  # impute missing 2023 values with 2022 values \n  x.2023[ na.2023 ] &lt;- x.2022[ na.2023 ]\n  v2023i &lt;- paste0( v2023, \"_imp\" )\n  \n  df[[ v2023i ]] &lt;- x.2023\n  df[[   vNA ]] &lt;- x.NA\n  \n  return(df)\n}\n\n\nsurvey_df &lt;- \n  survey_df %&gt;% \n  impute_staff( v2022=\"Staff_Fulltime_2022\", \n                v2023=\"Staff_Fulltime_2023\", \n                vNA=\"Staff_Fulltime_NA\" )\n\nsurvey_df &lt;- \n  survey_df %&gt;% \n  impute_staff( v2022=\"Staff_Parttime_2022\", \n                v2023=\"Staff_Parttime_2023\", \n                vNA=\"Staff_Parttime_NA\" )\n\nsurvey_df &lt;- \n  survey_df %&gt;% \n  impute_staff( v2022=\"Staff_Boardmmbr_2022\", \n                v2023=\"Staff_Boardmmbr_2023\", \n                vNA=\"Staff_Boardmmbr_NA\" )\n\nsurvey_df &lt;- \n  survey_df %&gt;% \n  impute_staff( v2022=\"Staff_RegVlntr_2022\", \n                v2023=\"Staff_RegVlntr_2023\", \n                vNA=\"Staff_RegVlntr_NA\" )\n\nsurvey_df &lt;- \n  survey_df %&gt;% \n  impute_staff( v2022=\"Staff_EpsdVltnr_2022\", \n                v2023=\"Staff_EpsdVltnr_2023\", \n                vNA=\"Staff_EpsdVltnr_NA\" )\n\nsurvey_df &lt;- \n  survey_df %&gt;% \n  impute_staff( v2022=\"Staff_AmerVlntr_2022\", \n                v2023=\"Staff_AmerVlntr_2023\", \n                vNA=\"Staff_AmerVlntr_NA\" )\n\nsurvey_df &lt;- \n  survey_df %&gt;% \n  impute_staff( v2022=\"Staff_PdCnslt_2022\", \n                v2023=\"Staff_PdCnslt_2023\", \n                vNA=\"Staff_PdCnslt_NA\" )\n\n\n\n\n\n\n\n\n\n\n\nOriginal Value\nDescription\nRecode Label\nRecode Value\nCode as Missing ?\n\n\n\n\n1\nYes, this question is not applicable\nNot Applicable\n1\nNo\n\n\nNA\nNo, this question applies to me\nOK\n1\nNo\n\n\nAll NA\nN/A response conflicts\nUnsure\n99\nYes\n\n\n\n\n# APPLY TO COLUMNS K:\nCOLUMNS &lt;-  staff_qns_bool\n\n# VALUES THAT NEED RECODING\n\nRULES &lt;- c(    \n          \n             \"    1    =&gt;&gt;      1    \", \n             \"    0    =&gt;&gt;      0    \", \n             \"   99    =&gt;&gt;     99    \"     )\n\n\nrules &lt;- parse_rules( RULES )          \npattern &lt;- rules[[ \"pattern\" ]]\nreplace &lt;- rules[[ \"replace\" ]]\n\n# MEMISC LABELS AND MISSING VALUE CODES \nvalues  &lt;- c( \"0\", \"1\", \"99\" )\nlabels  &lt;- c( \"OK\", \"N/A\", \"UNSURE\" )\nmissing &lt;- \"UNSURE\"\n\n# RECODE VARIABLES \nsurvey_df &lt;- \n  survey_df %&gt;% \n  recode_columns( k=COLUMNS, pattern, replace, values, labels, missing )\n\nExample:\n\n\n\n\n\n\nStaff_Fulltime_NA — ‘TYPE: boolean’\n\n\n“Number of full time staff not applicable”\n\n\n\n\n\n\n\n\nStorage mode:\n\n\ncharacter\n\n\n\n\nMeasurement:\n\n\nnominal\n\n\n\n\nMissing values:\n\n\nUNSURE\n\n\n\n\n\n\n\n\nValues and labels\n\n\nN\n\n\nPercent\n\n\n\n\n0\n\n\n\n\n‘OK’\n\n\n461\n\n\n90\n\n\n.\n\n\n9\n\n\n\n\n1\n\n\n\n\n‘N/A’\n\n\n40\n\n\n7\n\n\n.\n\n\n9\n\n\n\n\n99\n\n\n\n\n‘UNSURE’\n\n\n6\n\n\n1\n\n\n.\n\n\n2\n\n\n\n\n\n\n\nQUESTION TXT:\n\n\nHow many (paid and unpaid) people in your organization will have worke… - Check here if not applicable for your organization - Full-time paid staff (35 or more hours /week) - C\n\n\n\n\n\n\n\n\n\n9.4.2 Reserve Questions\n\n\n\n\n\n\n\n\n\n\nOriginal Value\nDescription\nRecode Label\nRecode Value\nCode as Missing ?\n\n\n\n\n1\nYes, this question is not applicable\nN/A\n1\nNo\n\n\nNA\nThis question applies to me\n0\nOK\nNo\n\n\nAll NA\nN/A response conflicts\nUnsure\n99\nYes\n\n\n\n\n# APPLY TO COLUMNS K:\nCOLUMNS &lt;-  reserve_qns_bool\n\nsurvey_df[ COLUMNS ] &lt;- \n  survey_df[ COLUMNS ] %&gt;% \n  lapply( na_to_zero )\n\n# did not respond to the reserve questions\nno.resp &lt;- is.na( survey_df$Reserves_Est )\nsurvey_df$Reserves_NA_X[ no.resp ] &lt;-  99\n    \n\n# VALUES THAT NEED RECODING\n\nRULES &lt;- c(    \n          \n             \"    1    =&gt;&gt;     1   \", \n             \"    0    =&gt;&gt;     0   \"   )\n\n\nrules &lt;- parse_rules( RULES )          \npattern &lt;- rules[[ \"pattern\" ]]\nreplace &lt;- rules[[ \"replace\" ]]\n\n\n# MEMISC LABELS AND MISSING VALUE CODES \nvalues  &lt;- c( \"0\", \"1\", \"99\" )\nlabels  &lt;- c( \"OK\", \"N/A\", \"Did Not Answer\" )\nmissing &lt;- \"99\"\n\n# RECODE VARIABLES \nsurvey_df &lt;- \n  survey_df %&gt;% \n  recode_columns( k=COLUMNS, pattern, replace, values, labels, missing )\n\nExample:\n\n\n\n\n\n\nReserves_NA_X — ‘TYPE: boolean’\n\n\n“Estimated total operating cash and unrestricted liquid assets in reserve is not applicable”\n\n\n\n\n\n\n\n\nStorage mode:\n\n\ncharacter\n\n\n\n\nMeasurement:\n\n\nnominal\n\n\n\n\nMissing values:\n\n\n99\n\n\n\n\n\n\n\n\nValues and labels\n\n\nN\n\n\nValid\n\n\nTotal\n\n\n\n\n0\n\n\n\n\n‘OK’\n\n\n360\n\n\n96\n\n\n.\n\n\n0\n\n\n71\n\n\n.\n\n\n0\n\n\n\n\n1\n\n\n\n\n‘N/A’\n\n\n15\n\n\n4\n\n\n.\n\n\n0\n\n\n3\n\n\n.\n\n\n0\n\n\n\n\n99\n\n\nM\n\n\n‘Did Not Answer’\n\n\n132\n\n\n\n\n\n\n\n\n26\n\n\n.\n\n\n0\n\n\n\n\n\n\n\nQUESTION TXT:\n\n\nApproximately how much total operating cash and unrestricted liquid assets in reserve did you… - Select here if your organization does not have a reserve fund - Total operating cash and unrestricted liquid assets in reserve - C\n\n\n\n\n\n\n\n\n\n9.4.3 People Served Questions\n\n\n\n\n\n\n\n\n\n\nOriginal Value\nDescription\nRecode Label\nRecode Value\nCode as Missing ?\n\n\n\n\n1\nYes, this question is not applicable\nN/A\n1\nNo\n\n\nNA\nThis question applies to me\n0\nOK\nNo\n\n\nAll NA\nN/A response conflicts\nUnsure\n99\nYes\n\n\n\n\n# APPLY TO COLUMNS K:\nCOLUMNS &lt;-  people_served_qns_bool\n\n\n# ALL RESPONSES NA IN GROUP:\n# indication that the question\n# was skipped by the respondent\n\npeople_qns &lt;- c( \"PplSrv_NumServed\", \"PplSrv_NumWait\" )\n\nrow.id &lt;- apply( survey_df[ people_qns ], \n                 MARGIN = 1, \n                 FUN = function(x){ all(is.na(x)) } ) \n\n\n# NA means \"no\"\n\nna_to_zero &lt;- function(x){\n  x[ is.na(x) ] &lt;- 0\n  return(x)\n}\n\nsurvey_df[ COLUMNS ] &lt;- \n  survey_df[ COLUMNS ] %&gt;% \n  lapply( na_to_zero )\n\n# if they do not respond \"yes\" \n# to at least one question then\n# assume they skipped them all\n\nzero_to_99 &lt;- function( x, rowid ){\n  x[ rowid ] &lt;- 99\n  return(x)\n}\n\nsurvey_df[ COLUMNS ] &lt;- \n  survey_df[ COLUMNS ] %&gt;% \n  lapply( zero_to_99, row.id )\n\n    \n\n# VALUES THAT NEED RECODING\n\nRULES &lt;- c(    \n          \n             \"    1    =&gt;&gt;     1   \", \n             \"    0    =&gt;&gt;     0   \"   )\n\n\nrules &lt;- parse_rules( RULES )          \npattern &lt;- rules[[ \"pattern\" ]]\nreplace &lt;- rules[[ \"replace\" ]]\n\n\n# MEMISC LABELS AND MISSING VALUE CODES \nvalues  &lt;- c( \"0\", \"1\", \"99\" )\nlabels  &lt;- c( \"OK\", \"N/A\", \"Did Not Answer\" )\nmissing &lt;- \"99\"\n\n# RECODE VARIABLES \nsurvey_df &lt;- \n  survey_df %&gt;% \n  recode_columns( k=COLUMNS, pattern, replace, values, labels, missing )\n\nExample:\n\n\n\n\n\n\nPplSrv_NumServed_NA_X — ‘TYPE: boolean’\n\n\n“Number of people served not applicable”\n\n\n\n\n\n\n\n\nStorage mode:\n\n\ncharacter\n\n\n\n\nMeasurement:\n\n\nnominal\n\n\n\n\nMissing values:\n\n\n99\n\n\n\n\n\n\n\n\nValues and labels\n\n\nN\n\n\nValid\n\n\nTotal\n\n\n\n\n0\n\n\n\n\n‘OK’\n\n\n449\n\n\n99\n\n\n.\n\n\n6\n\n\n88\n\n\n.\n\n\n6\n\n\n\n\n1\n\n\n\n\n‘N/A’\n\n\n2\n\n\n0\n\n\n.\n\n\n4\n\n\n0\n\n\n.\n\n\n4\n\n\n\n\n99\n\n\nM\n\n\n‘Did Not Answer’\n\n\n56\n\n\n\n\n\n\n\n\n11\n\n\n.\n\n\n0\n\n\n\n\n\n\n\nQUESTION TXT:\n\n\nApproximately how many people do you estimate your organization served and… - Check here if not applicable for your organization - Number of People Served - N/A",
    "crumbs": [
      "YEAR THREE DATA",
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Relabeling Qualtrics Variables</span>"
    ]
  },
  {
    "objectID": "3_01-recoding-rules-y3.html#increase---decrease-questions",
    "href": "3_01-recoding-rules-y3.html#increase---decrease-questions",
    "title": "7  Relabeling Qualtrics Variables",
    "section": "10.1 Increase - Decrease Questions",
    "text": "10.1 Increase - Decrease Questions\nThere 2 questions that ask respondents to define changes via an increase or decrease relative to previous years. They are recoded on an ordinal scale.",
    "crumbs": [
      "YEAR THREE DATA",
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Relabeling Qualtrics Variables</span>"
    ]
  },
  {
    "objectID": "3_01-recoding-rules-y3.html#changes-in-demand-questions",
    "href": "3_01-recoding-rules-y3.html#changes-in-demand-questions",
    "title": "7  Relabeling Qualtrics Variables",
    "section": "10.2 Changes in Demand Questions",
    "text": "10.2 Changes in Demand Questions\n\n\n\n\n\n\n\n\n\n\nOriginal Value\nDescription\nRecode Label\nRecode Value\nCode as Missing ?\n\n\n\n\nIncrease\nIncrease\nIncrease\n2\nNo\n\n\nStay the same\nStay the same\nUnchanged\n1\nNo\n\n\nDecrease\nDecrease\nDecrease\n0\nNo\n\n\n-99\nIncomplete\nNo\n99\nYes\n\n\nNA\nUnanswered\nNA\nNA\nYes\n\n\n\n\n# APPLY TO COLUMNS K:\nCOLUMNS &lt;-  demand_fct_qns\n\n# VALUES THAT NEED RECODING\n\nRULES &lt;- c(    \n          \n             \"   0    =&gt;&gt;     0   \",\n             \"   1    =&gt;&gt;     1   \", \n             \"  98    =&gt;&gt;     2   \"     )\n\n\nrules &lt;- parse_rules( RULES )          \npattern &lt;- rules[[ \"pattern\" ]]\nreplace &lt;- rules[[ \"replace\" ]]\n\n# MEMISC LABELS AND MISSING VALUE CODES \nvalues  &lt;- c( 2, 1, 0 )\nlabels  &lt;- c( \"Increase\", \"Unchanged\", \"Decrease\" )\nmissing &lt;- NA\n\n# RECODE VARIABLES \nsurvey_df &lt;- \n  survey_df %&gt;% \n  recode_columns( k=COLUMNS, pattern, replace, values, labels, missing )\n\nExample:\n\n\n\n\n\n\nDmnd_NxtYear — ‘TYPE: factor’\n\n\n“Demand for programs or services next year”\n\n\n\n\n\n\n\n\nStorage mode:\n\n\ncharacter\n\n\n\n\nMeasurement:\n\n\nnominal\n\n\n\n\nMissing values:\n\n\nNA\n\n\n\n\n\n\n\n\nValues and labels\n\n\nN\n\n\nValid\n\n\nTotal\n\n\n\n\n0\n\n\n\n\n‘Decrease’\n\n\n126\n\n\n25\n\n\n.\n\n\n0\n\n\n24\n\n\n.\n\n\n9\n\n\n\n\n1\n\n\n\n\n‘Unchanged’\n\n\n7\n\n\n1\n\n\n.\n\n\n4\n\n\n1\n\n\n.\n\n\n4\n\n\n\n\n2\n\n\n\n\n‘Increase’\n\n\n372\n\n\n73\n\n\n.\n\n\n7\n\n\n73\n\n\n.\n\n\n4\n\n\n\n\nNA\n\n\nM\n\n\n\n\n2\n\n\n\n\n\n\n\n\n0\n\n\n.\n\n\n4\n\n\n\n\n\n\n\nQUESTION TXT:\n\n\nIn the next year, do you anticipate the demand for your programs to decrease, stay the same, or increase?",
    "crumbs": [
      "YEAR THREE DATA",
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Relabeling Qualtrics Variables</span>"
    ]
  },
  {
    "objectID": "3_01-recoding-rules-y3.html#changes-in-fundraising-questions",
    "href": "3_01-recoding-rules-y3.html#changes-in-fundraising-questions",
    "title": "7  Relabeling Qualtrics Variables",
    "section": "10.3 Changes in Fundraising Questions",
    "text": "10.3 Changes in Fundraising Questions\n\n\n\n\n\n\n\n\n\n\nOriginal Value\nDescription\nRecode Label\nRecode Value\nCode as Missing ?\n\n\n\n\nIncreased significantly (by more than 10%)\nLargest Increase\nIncrease Significantly\n5\nNo\n\n\nIncreased moderately (by less than 10%)\nSecond Largest Increase\nIncrease Moderately\n4\nNo\n\n\nStayed more or less the same\nThird Largest Increase\nUnchanged\n3\nNo\n\n\nDecreased moderately (by less than 10%)\nFourth Largest Increase\nDecrease Moderately\n2\nNo\n\n\nDecreased significantly (by more than 10%)\nFifth Largest Increase\nDecrease Significantly\n1\nNo\n\n\nUnsure\nUnsure\nUnsure\n99\nMissing\n\n\n-99\nIncomplete\nIncomplete\n98\nYes\n\n\nN/A\nNot Applicable\nNot Applicable\n97\nYes\n\n\nNA\nUnanswered\nNA\nNA\nYes\n\n\n\n\n# APPLY TO COLUMNS K:\nCOLUMNS &lt;-  fundraise_change_qns_fct\n\n# VALUES THAT NEED RECODING\n\nrow.id &lt;- apply( survey_df[ COLUMNS ], \n                 MARGIN = 1, \n                 FUN = function(x) all(is.na(x)) )\n\nRULES &lt;- c(    \n          \n     \"   Increased significantly (by more than 10%)    =&gt;&gt;     5   \",\n     \"      Increased moderately (by less than 10%)    =&gt;&gt;     4   \",\n     \"                 Stayed more or less the same    =&gt;&gt;     3   \",\n     \"      Decreased moderately (by less than 10%)    =&gt;&gt;     2   \",\n     \"   Decreased significantly (by more than 10%)    =&gt;&gt;     1   \",\n     \"                                           98    =&gt;&gt;     0   \",\n     \"                                           99    =&gt;&gt;     X   \"  )\n \nrules &lt;- parse_rules( RULES )          \npattern &lt;- rules[[ \"pattern\" ]]\nreplace &lt;- rules[[ \"replace\" ]]\n\n\nall_na &lt;- function( x, rowid ){\n  x[ rowid ] &lt;- NA\n  return(x)\n}\n\nsurvey_df[ COLUMNS ] &lt;- \n  survey_df[ COLUMNS ] %&gt;% \n  lapply( all_na, row.id )\n\n\n# MEMISC LABELS AND MISSING VALUE CODES \nvalues  &lt;- c( 5, 4, 3, 2, 1, 0, \"X\"  )\nlabels  &lt;- c( \"Increase Significantly\", \"Increase Moderately\", \n              \"Unchanged\", \"Decrease Moderately\", \"Decrease Significantly\", \n              \"Unsure\", \"Not Applicable\" )\nmissing &lt;- c( \"X\" )\n\n# RECODE VARIABLES \nsurvey_df &lt;- \n  survey_df %&gt;% \n  recode_columns( k=COLUMNS, pattern, replace, values, labels, missing )\n\nExample:\n\n\n\n\n\n\nFndRaise_Overall_Chng — ‘TYPE: factor’\n\n\n“Change in overall donations”\n\n\n\n\n\n\n\n\nStorage mode:\n\n\ncharacter\n\n\n\n\nMeasurement:\n\n\nnominal\n\n\n\n\nMissing values:\n\n\nX\n\n\n\n\n\n\n\n\nValues and labels\n\n\nN\n\n\nValid\n\n\nTotal\n\n\n\n\n0\n\n\n\n\n‘Unsure’\n\n\n10\n\n\n2\n\n\n.\n\n\n1\n\n\n2\n\n\n.\n\n\n0\n\n\n\n\n1\n\n\n\n\n‘Decrease Significantly’\n\n\n62\n\n\n13\n\n\n.\n\n\n3\n\n\n12\n\n\n.\n\n\n2\n\n\n\n\n2\n\n\n\n\n‘Decrease Moderately’\n\n\n41\n\n\n8\n\n\n.\n\n\n8\n\n\n8\n\n\n.\n\n\n1\n\n\n\n\n3\n\n\n\n\n‘Unchanged’\n\n\n140\n\n\n30\n\n\n.\n\n\n0\n\n\n27\n\n\n.\n\n\n6\n\n\n\n\n4\n\n\n\n\n‘Increase Moderately’\n\n\n136\n\n\n29\n\n\n.\n\n\n2\n\n\n26\n\n\n.\n\n\n8\n\n\n\n\n5\n\n\n\n\n‘Increase Significantly’\n\n\n77\n\n\n16\n\n\n.\n\n\n5\n\n\n15\n\n\n.\n\n\n2\n\n\n\n\nX\n\n\nM\n\n\n‘Not Applicable’\n\n\n10\n\n\n\n\n\n\n\n\n2\n\n\n.\n\n\n0\n\n\n\n\nNA\n\n\nM\n\n\n\n\n31\n\n\n\n\n\n\n\n\n6\n\n\n.\n\n\n1\n\n\n\n\n\n\n\nQUESTION TXT:\n\n\nTo the best of your knowledge, has each of the following categories of donations to your org… - In 2022 compared to 2021 - Overall donations",
    "crumbs": [
      "YEAR THREE DATA",
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Relabeling Qualtrics Variables</span>"
    ]
  },
  {
    "objectID": "3_01-recoding-rules-y3.html#volunteer-importance",
    "href": "3_01-recoding-rules-y3.html#volunteer-importance",
    "title": "7  Relabeling Qualtrics Variables",
    "section": "11.1 Volunteer Importance",
    "text": "11.1 Volunteer Importance\n\n\n\n\n\n\n\n\n\n\nOriginal Value\nDescription\nRecode Label\nRecode Value\nCode as Missing ?\n\n\n\n\nEssential - we depend entirely on volunteers to carry out our mission and goals\nMaximum Importance\nEssential\n5\nNo\n\n\nVery important - we depend on volunteers for a wide range of tasks, but not all\nSecond Most Important\nVery Important\n4\nNo\n\n\nSomewhat important - we depend on volunteers for several key tasks\nThird Most Important\nSomewhat Important\n3\nNo\n\n\nNot very important - we depend on volunteers for only non-essential tasks\nFourth Most Important\nNot Very Important\n2\nNo\n\n\nNot at all important - we could carry out our mission and goals without using volunteers\nFifth Most Important\nNot At All Important\n1\nNo\n\n\nWe do not use volunteers\nSixth Most Important\nNot Used\n0\nNo\n\n\n-99\nIncomplete\nIncomplete\n99\nYes\n\n\nNA\nUnanswered\nNA\nNA\nYes\n\n\n\n\n# APPLY TO COLUMNS K:\nCOLUMNS &lt;-  volimportance_qns_fct\n\n# VALUES THAT NEED RECODING\n\nRULES &lt;- c(    \n\n\"           Essential - we depend entirely on volunteers to carry out our mission and goals    =&gt;&gt;     5   \",\n\"           Very important - we depend on volunteers for a wide range of tasks, but not all    =&gt;&gt;     4   \",\n\"                        Somewhat important - we depend on volunteers for several key tasks    =&gt;&gt;     3   \",\n\"                 Not very important - we depend on volunteers for only non-essential tasks    =&gt;&gt;     2   \",\n\"  Not at all important - we could carry out our mission and goals without using volunteers    =&gt;&gt;     1   \",\n\"                                                                  We do not use volunteers    =&gt;&gt;     0   \",\n\"                                                                                        99    =&gt;&gt;     0   \"    )\n\nrules &lt;- parse_rules( RULES )          \npattern &lt;- rules[[ \"pattern\" ]]\nreplace &lt;- rules[[ \"replace\" ]]\n\n# MEMISC LABELS AND MISSING VALUE CODES \nvalues  &lt;- c( 5, 4, 3, 2, 1, 0 )\nlabels  &lt;- c( \"Essential\", \"Very Important\", \"Somewhat Important\", \n              \"Not Very Important\", \"Not At All Important\", \"Not Used\" )\nmissing &lt;- NA\n\n# RECODE VARIABLES \nsurvey_df &lt;- \n  survey_df %&gt;% \n  recode_columns( k=COLUMNS, pattern, replace, values, labels, missing )\n\nExample:\n\n\n\n\n\n\nVolImportance — ‘TYPE: factor’\n\n\n“Importance of volunteers to organization”\n\n\n\n\n\n\n\n\nStorage mode:\n\n\ncharacter\n\n\n\n\nMeasurement:\n\n\nnominal\n\n\n\n\nMissing values:\n\n\nNA\n\n\n\n\n\n\n\n\nValues and labels\n\n\nN\n\n\nValid\n\n\nTotal\n\n\n\n\n0\n\n\n\n\n‘Not Used’\n\n\n31\n\n\n6\n\n\n.\n\n\n1\n\n\n6\n\n\n.\n\n\n1\n\n\n\n\n1\n\n\n\n\n‘Not At All Important’\n\n\n111\n\n\n21\n\n\n.\n\n\n9\n\n\n21\n\n\n.\n\n\n9\n\n\n\n\n2\n\n\n\n\n‘Not Very Important’\n\n\n134\n\n\n26\n\n\n.\n\n\n5\n\n\n26\n\n\n.\n\n\n4\n\n\n\n\n3\n\n\n\n\n‘Somewhat Important’\n\n\n154\n\n\n30\n\n\n.\n\n\n4\n\n\n30\n\n\n.\n\n\n4\n\n\n\n\n4\n\n\n\n\n‘Very Important’\n\n\n54\n\n\n10\n\n\n.\n\n\n7\n\n\n10\n\n\n.\n\n\n7\n\n\n\n\n5\n\n\n\n\n‘Essential’\n\n\n22\n\n\n4\n\n\n.\n\n\n3\n\n\n4\n\n\n.\n\n\n3\n\n\n\n\nNA\n\n\nM\n\n\n\n\n1\n\n\n\n\n\n\n\n\n0\n\n\n.\n\n\n2\n\n\n\n\n\n\n\nQUESTION TXT:\n\n\nHow important were volunteers – other than board members – to the work your organization conducted in 2021?",
    "crumbs": [
      "YEAR THREE DATA",
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Relabeling Qualtrics Variables</span>"
    ]
  },
  {
    "objectID": "3_01-recoding-rules-y3.html#donor-importance",
    "href": "3_01-recoding-rules-y3.html#donor-importance",
    "title": "7  Relabeling Qualtrics Variables",
    "section": "11.2 Donor Importance",
    "text": "11.2 Donor Importance\n\n\n\n\n\n\n\n\n\n\nOriginal Value\nDescription\nRecode Label\nRecode Value\nCode as Missing ?\n\n\n\n\nEssential, we depend entirely on individual donations to carry out our mission and goals\nMaximum Importance\nEssential\n5\nNo\n\n\nVery important, we depend on individual donations for a wide range of activities, but not all\nVery Important\n4\nNo\n\n\n\nImportant, we depend on individual donations for several key activities\nThird Most Important\nSomewhat Important\n3\nNo\n\n\nNot very important, we depend on individual donations for only non-essential activities\nFourth Most Important\nNot Very Important\n2\nNo\n\n\nNot at all important, we could carry out our mission and goals without donations from individuals\nFifth Most Important\nNot At All Important\n1\nNo\n\n\nWe do not receive donations from individuals\nSixth Most Important\nNot Used\n0\nNo\n\n\n-99\nIncomplete\nIncomplete\n99\nYes\n\n\nNA\nUnanswered\nNA\nNA\nYes\n\n\n\n\n# APPLY TO COLUMNS K:\nCOLUMNS &lt;-  donimportance_qns_fct\n\n# VALUES THAT NEED RECODING\n\nRULES &lt;- c(    \n\n  \"          Essential, we depend entirely on individual donations to carry out our mission and goals  =&gt;&gt;  5  \",\n  \"     Very important, we depend on individual donations for a wide range of activities, but not all  =&gt;&gt;  4  \",\n  \"                           Important, we depend on individual donations for several key activities  =&gt;&gt;  3  \",\n  \"           Not very important, we depend on individual donations for only non-essential activities  =&gt;&gt;  2  \",\n  \" Not at all important, we could carry out our mission and goals without donations from individuals  =&gt;&gt;  1  \",\n  \"                                                      We do not receive donations from individuals  =&gt;&gt;  0  \",\n  \"                                                                                                99  =&gt;&gt;  0  \"  )\n\n\nrules &lt;- parse_rules( RULES )          \npattern &lt;- rules[[ \"pattern\" ]]\nreplace &lt;- rules[[ \"replace\" ]]\n\n# MEMISC LABELS AND MISSING VALUE CODES \nvalues  &lt;- c( 5, 4, 3, 2, 1, 0  )\nlabels  &lt;- c( \"Essential\", \"Very Important\", \n              \"Somewhat Important\", \"Not Very Important\", \n              \"Not At All Important\", \"Not Used\" )\nmissing &lt;- NA\n\n# RECODE VARIABLES \nsurvey_df &lt;- \n  survey_df %&gt;% \n  recode_columns( k=COLUMNS, pattern, replace, values, labels, missing )\n\nExample:\n\n\n\n\n\n\nDonImportance — ‘TYPE: factor’\n\n\n“Importance of donors to organization”\n\n\n\n\n\n\n\n\nStorage mode:\n\n\ncharacter\n\n\n\n\nMeasurement:\n\n\nnominal\n\n\n\n\nMissing values:\n\n\nNA\n\n\n\n\n\n\n\n\nValues and labels\n\n\nN\n\n\nValid\n\n\nTotal\n\n\n\n\n0\n\n\n\n\n‘Not Used’\n\n\n12\n\n\n2\n\n\n.\n\n\n4\n\n\n2\n\n\n.\n\n\n4\n\n\n\n\n1\n\n\n\n\n‘Not At All Important’\n\n\n125\n\n\n24\n\n\n.\n\n\n7\n\n\n24\n\n\n.\n\n\n7\n\n\n\n\n2\n\n\n\n\n‘Not Very Important’\n\n\n218\n\n\n43\n\n\n.\n\n\n1\n\n\n43\n\n\n.\n\n\n0\n\n\n\n\n3\n\n\n\n\n‘Somewhat Important’\n\n\n102\n\n\n20\n\n\n.\n\n\n2\n\n\n20\n\n\n.\n\n\n1\n\n\n\n\n4\n\n\n\n\n‘Very Important’\n\n\n33\n\n\n6\n\n\n.\n\n\n5\n\n\n6\n\n\n.\n\n\n5\n\n\n\n\n5\n\n\n\n\n‘Essential’\n\n\n16\n\n\n3\n\n\n.\n\n\n2\n\n\n3\n\n\n.\n\n\n2\n\n\n\n\nNA\n\n\nM\n\n\n\n\n1\n\n\n\n\n\n\n\n\n0\n\n\n.\n\n\n2\n\n\n\n\n\n\n\nQUESTION TXT:\n\n\nHow important were donations from individuals (including direct donations and indirect donations through federated giving programs, United Way, and donor advised funds, or in-kind donations) to the work of your organization in 2021?",
    "crumbs": [
      "YEAR THREE DATA",
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Relabeling Qualtrics Variables</span>"
    ]
  },
  {
    "objectID": "3_02-fix-demographics-y3.html",
    "href": "3_02-fix-demographics-y3.html",
    "title": "8  Reconcile Demographic Variables",
    "section": "",
    "text": "9 Get Year1 Race Variables\nfpath     &lt;- \"DATA-PREP/01-year-one/02-data-intermediate/\"\nfname     &lt;- \"wave-01-data-intermediate.csv\"\nyear1_raw &lt;- readr::read_csv( paste0( fpath, fname ) )\n# Wrangle Data for Year 1 \n# Responses on CEO race and Gender\n\nyear1_ceo &lt;- year1_raw %&gt;% \n  dplyr::select(EIN, CEOrace, CEOgender ) %&gt;% \n  dplyr::filter(  ! CEOrace %in% c(-99, NA),\n                  ! CEOgender %in% c(-99, NA)  ) %&gt;% \n  dplyr::mutate(\n    CEOrace = dplyr::case_match(\n      CEOrace,\n      1 ~ \"AAPI\", 2 ~ \"Black\", 3 ~ \"Hisp\", 4 ~ \"NativeAm\", 5 ~ \"White\", 6 ~ \"Bi\", 7 ~ \"Oth\",\n      .default = \"Oth\"\n    ),\n    CEOgender = dplyr::case_match(\n      CEOgender,\n      1 ~ \"Man\", 2 ~ \"Woman\", 3 ~ \"Trans\", 4 ~ \"NB\", 5 ~ \"Oth\",\n      .default = \"Oth\"\n    ),\n  race_check = \"Yes\",\n  gender_check = \"Yes\"\n  ) %&gt;% \n  tidyr::pivot_wider(\n    names_from = CEOrace,\n    names_glue = \"CEOrace_{CEOrace}\",\n    values_from = race_check, \n    values_fill = \"No\"\n  ) %&gt;% \n  tidyr::pivot_wider(\n    names_from = CEOgender,\n    names_glue = \"CEOgender_{CEOgender}\",\n    values_from = gender_check, \n    values_fill = \"No\"\n  )\n\n# Wrangle Data for Year 1 Responses on Board Chair Race and Gender\nyear1_board &lt;- year1_raw %&gt;% \n  dplyr::select(EIN, BCrace, BCgender) %&gt;% \n  dplyr::filter(  ! BCrace %in% c(-99, NA),\n                  ! BCgender %in% c(-99, NA)) %&gt;% \n  dplyr::mutate(\n    BCrace = dplyr::case_match(\n      BCrace,\n      1 ~ \"AAPI\", 2 ~ \"Black\", 3 ~ \"Hisp\", 4 ~ \"NativeAm\", 5 ~ \"White\", 6 ~ \"Bi\", 7 ~ \"Oth\",\n      .default = \"Oth\"\n    ),\n    BCgender = dplyr::case_match(\n      BCgender,\n      1 ~ \"Man\", 2 ~ \"Woman\", 3 ~ \"Trans\", 4 ~ \"NB\", 5 ~ \"Oth\",\n      .default = \"Oth\"\n    ),\n  race_check = \"Yes\",\n  gender_check = \"Yes\"\n  ) %&gt;% \n  tidyr::pivot_wider(\n    names_from = BCrace,\n    names_glue = \"BChairrace_{BCrace}\",\n    values_from = race_check, \n    values_fill = \"No\"\n  ) %&gt;% \n  tidyr::pivot_wider(\n    names_from = BCgender,\n    names_glue = \"BChairgender_{BCgender}\",\n    values_from = gender_check, \n    values_fill = \"No\"\n  )\n\ndf.race2021 &lt;- merge( year1_ceo, year1_board, by=\"EIN\", all=TRUE )",
    "crumbs": [
      "YEAR THREE DATA",
      "<span class='chapter-number'>8</span>  <span class='chapter-title'>Reconcile Demographic Variables</span>"
    ]
  },
  {
    "objectID": "3_02-fix-demographics-y3.html#race-and-gender-checkboxes",
    "href": "3_02-fix-demographics-y3.html#race-and-gender-checkboxes",
    "title": "8  Reconcile Demographic Variables",
    "section": "14.1 Race and Gender Checkboxes",
    "text": "14.1 Race and Gender Checkboxes\nThese checkboxes are ticked by the respondent to indicate if their CEO or board chair belong to a specified race or gender identity.\n\n\n\n\n\n\n\n\n\n\nOriginal Value\nDescription\nRecode Label\nRecode Value\nCode as Missing ?\n\n\n\n\nAsian/Pacific Islander\nCheckbox Checked\nYes\n1\nNo\n\n\nBlack/African American\nCheckbox Checked\nYes\n1\nNo\n\n\nLatinx/Hispanic\nCheckbox Checked\nYes\n1\nNo\n\n\nNative American/American Indian\nCheckbox Checked\nYes\n1\nNo\n\n\nWhite\nCheckbox Checked\nYes\n1\nNo\n\n\nMan\nCheckbox Checked\nYes\n1\nNo\n\n\nWoman\nCheckbox Checked\nYes\n1\nNo\n\n\nTrans\nCheckbox Checked\nYes\n1\nNo\n\n\nGender non-conforming/Non-Binary\nCheckbox Checked\nYes\n1\nNo\n\n\nOther (please specify)\nCheckbox Checked\nYes\n1\nNo\n\n\n0\nCheckbox Unchecked\nNo\n0\nNo\n\n\nNA\nUnanswered\nNA\nNA\nYes\n\n\n\n\n# APPLY TO COLUMNS K:\nCOLUMNS &lt;-  race_gender_qns_bool\n\n\n# VALUES THAT NEED RECODING\n \nRULES &lt;- c(     \"    1    =&gt;&gt;      Yes     \", \n                \"  Yes    =&gt;&gt;      Yes     \", \n                \"   No    =&gt;&gt;       No     \",\n                \"   NA    =&gt;&gt;      _NA_    \"   )\n\n\nrules &lt;- parse_rules( RULES )\npattern &lt;- rules[[ \"pattern\" ]]\nreplace &lt;- rules[[ \"replace\" ]]\n\n# MEMISC LABELS AND MISSING VALUE CODES\nvalues  &lt;- c( \"No\", \"Yes\", \"\", \"_NA_\" )\nlabels  &lt;- c( \"No\", \"Yes\", \"Missing in 2022\", \"No Response\" )\nmissing &lt;- c( \"\", \"_NA_\" )\n\n# RECODE VARIABLES\nsurvey_df &lt;-\n  survey_df %&gt;%\n  recode_columns( k=COLUMNS, pattern, replace, values, labels, missing )\n\nExample:\n\n\n\n\n\n\nCEOrace_White — ‘TYPE: boolean’\n\n\n“Race of CEO”\n\n\n\n\n\n\n\n\nStorage mode:\n\n\ncharacter\n\n\n\n\nMeasurement:\n\n\nnominal\n\n\n\n\nMissing values:\n\n\n, NA\n\n\n\n\n\n\n\n\nValues and labels\n\n\nN\n\n\nValid\n\n\nTotal\n\n\n\n\nM\n\n\n\n\n‘Missing in 2022’\n\n\n59\n\n\n\n\n\n\n\n\n11\n\n\n.\n\n\n8\n\n\n\n\nNA\n\n\nM\n\n\n‘No Response’\n\n\n54\n\n\n\n\n\n\n\n\n10\n\n\n.\n\n\n8\n\n\n\n\nNo\n\n\n\n\n‘No’\n\n\n42\n\n\n10\n\n\n.\n\n\n8\n\n\n8\n\n\n.\n\n\n4\n\n\n\n\nYes\n\n\n\n\n‘Yes’\n\n\n347\n\n\n89\n\n\n.\n\n\n2\n\n\n69\n\n\n.\n\n\n1\n\n\n\n\n\n\n\nQUESTION TXT:\n\n\nWhich of the following best describes the race/ethnicity for your organization’s current Chief Executive (i.e., Executive Director or CEO)? (Select all that apply) - Selected Choice - White",
    "crumbs": [
      "YEAR THREE DATA",
      "<span class='chapter-number'>8</span>  <span class='chapter-title'>Reconcile Demographic Variables</span>"
    ]
  },
  {
    "objectID": "3_02-fix-demographics-y3.html#aggregated-race-variable",
    "href": "3_02-fix-demographics-y3.html#aggregated-race-variable",
    "title": "8  Reconcile Demographic Variables",
    "section": "14.2 Aggregated Race Variable",
    "text": "14.2 Aggregated Race Variable\nCreate a single categorical field for Race.\n\n\n\n\n\n\n\n\n\n\nOriginal Value\nDescription\nRecode Label\nRecode Value\nCode as Missing ?\n\n\n\n\n‘Yes’ in CEOrace_AAPI\nAsian/Pacific Islander\nAAPI\n1\nNo\n\n\n‘Yes’ in CEOrace_Black\nBlack/African American\nBlack\n2\nNo\n\n\n‘Yes’ in CEOrace_Hisp\nLatinx/Hispanic\nHispanic\n3\nNo\n\n\n‘Yes’ in CEOrace_NativeAm\nNative American/American Indian\nNativeAm\n4\nNo\n\n\n‘Yes’ in CEOrace_White\nWhite\nWhite\n5\nNo\n\n\n‘Yes’ in CEOrace_Oth\nOther (please specify)\nOther\n6\nNo\n\n\n‘Yes’ in CEOrace_Bi\nBi/Multi-racial\nBiracial\n7\nNo\n\n\nNo Reponse\nNo race reported\nNA\nNA\nYes\n\n\n\n\n# Create New Race variables\nsurvey_df &lt;- survey_df %&gt;%\n  dplyr::mutate(\n    CEOrace = dplyr::case_when(\n      CEOrace_AAPI == 'Yes' ~ 1,\n      CEOrace_Black == 'Yes' ~ 2,\n      CEOrace_Hisp == 'Yes' ~ 3,\n      CEOrace_NativeAm == 'Yes' ~ 4,\n      CEOrace_White == 'Yes' ~ 5,\n      CEOrace_Oth == 'Yes' ~ 6,\n      CEOrace_Bi == 'Yes' ~ 7,\n      .default = NA\n    ),\n    BChairrace = dplyr::case_when(\n      BChairrace_AAPI == 'Yes' ~ 1,\n      BChairrace_Black == 'Yes' ~ 2,\n      BChairrace_Hisp == 'Yes' ~ 3,\n      BChairrace_NativeAm == 'Yes' ~ 4,\n      BChairrace_White == 'Yes' ~ 5,\n      BChairrace_Oth == 'Yes' ~ 6,\n      BChairrace_Bi == 'Yes' ~ 7,\n      .default = NA\n  ))\n\n# Manage any coding conflicts: \nsurvey_df$CEOrace[ survey_df$CEOrace_Bi == \"Yes\" ]       &lt;- 7\nsurvey_df$BChairrace[ survey_df$BChairrace_Bi == \"Yes\" ] &lt;- 7\n\n# APPLY TO COLUMNS K:\nrace.categories &lt;- c(\"CEOrace\", \"BChairrace\")\nCOLUMNS &lt;- race.categories\n\n# VALUES THAT NEED RECODING\n \nRULES &lt;- c(   \"   NA    =&gt;&gt;    _NA_    \"   )\n\nrules &lt;- parse_rules( RULES )\npattern &lt;- rules[[ \"pattern\" ]]\nreplace &lt;- rules[[ \"replace\" ]]\n\n# MEMISC LABELS AND MISSING VALUE CODES\nvalues  &lt;- c( 1, 2, 3, 4, 5, 6, 7, \"_NA_\" )\nlabels  &lt;- c( \"AAPI\", \"Black\", \"Hispanic\", \"NativeAm\", \n              \"White\", \"Other\",\"Biracial\", \"No Response\" )\nmissing &lt;- \"_NA_\"\n\n\ndd.add &lt;- \n  data.frame( vname=c(\"CEOrace\", \"BChairrace\"),\n              vlabel=c(\"Race of the CEO\",\"Race of the Board Chair\"),\n              type=c(\"Categorical\",\"Categorical\"),\n              description=c(\"Race categories combined into a single factor\") )\n\ndd &lt;- dplyr::bind_rows( dd, dd.add )\n\n# RECODE VARIABLES\nsurvey_df &lt;-\n  survey_df %&gt;%\n  recode_columns( k=COLUMNS, pattern, replace, values, labels, missing )\n\nExample:\n\n\n\n\n\n\nCEOrace — ‘TYPE: Categorical’\n\n\n“Race of the CEO”\n\n\n\n\n\n\n\n\nStorage mode:\n\n\ncharacter\n\n\n\n\nMeasurement:\n\n\nnominal\n\n\n\n\nMissing values:\n\n\nNA\n\n\n\n\n\n\n\n\nValues and labels\n\n\nN\n\n\nValid\n\n\nTotal\n\n\n\n\nNA\n\n\nM\n\n\n‘No Response’\n\n\n115\n\n\n\n\n\n\n\n\n22\n\n\n.\n\n\n9\n\n\n\n\n1\n\n\n\n\n‘AAPI’\n\n\n5\n\n\n1\n\n\n.\n\n\n3\n\n\n1\n\n\n.\n\n\n0\n\n\n\n\n2\n\n\n\n\n‘Black’\n\n\n20\n\n\n5\n\n\n.\n\n\n2\n\n\n4\n\n\n.\n\n\n0\n\n\n\n\n3\n\n\n\n\n‘Hispanic’\n\n\n6\n\n\n1\n\n\n.\n\n\n6\n\n\n1\n\n\n.\n\n\n2\n\n\n\n\n4\n\n\n\n\n‘NativeAm’\n\n\n3\n\n\n0\n\n\n.\n\n\n8\n\n\n0\n\n\n.\n\n\n6\n\n\n\n\n5\n\n\n\n\n‘White’\n\n\n344\n\n\n88\n\n\n.\n\n\n9\n\n\n68\n\n\n.\n\n\n5\n\n\n\n\n6\n\n\n\n\n‘Other’\n\n\n6\n\n\n1\n\n\n.\n\n\n6\n\n\n1\n\n\n.\n\n\n2\n\n\n\n\n7\n\n\n\n\n‘Biracial’\n\n\n3\n\n\n0\n\n\n.\n\n\n8\n\n\n0\n\n\n.\n\n\n6\n\n\n\n\n\n\n\nQUESTION TXT:\n\n\nRace categories combined into a single factor",
    "crumbs": [
      "YEAR THREE DATA",
      "<span class='chapter-number'>8</span>  <span class='chapter-title'>Reconcile Demographic Variables</span>"
    ]
  },
  {
    "objectID": "3_03-summarize-responses-y3.html",
    "href": "3_03-summarize-responses-y3.html",
    "title": "9  Summary Statistics",
    "section": "",
    "text": "10 CHANGES TO PROGRAMS AND SERVICES",
    "crumbs": [
      "YEAR THREE DATA",
      "<span class='chapter-number'>9</span>  <span class='chapter-title'>Summary Statistics</span>"
    ]
  },
  {
    "objectID": "3_03-summarize-responses-y3.html#save-outputs",
    "href": "3_03-summarize-responses-y3.html#save-outputs",
    "title": "9  Summary Statistics",
    "section": "30.1 Save outputs",
    "text": "30.1 Save outputs\n\nfpath &lt;- \"DATA-PREP/03-year-three/03-data-final/\"\nfname &lt;- \"YEAR-03-DATA-RESTRICTED-V02.csv\"\nwrite.csv( survey_df, paste0( fpath, fname ), row.names=F, na=\"\" )\n\n\n# fpath &lt;- \"DATA-PREP/03-year-three/02-data-intermediate/\"\n# fname &lt;- \"DATA-CODEBOOK.txt\"\n# memisc::Write( codebook(survey_df), file=paste0( fpath, fname ) )",
    "crumbs": [
      "YEAR THREE DATA",
      "<span class='chapter-number'>9</span>  <span class='chapter-title'>Summary Statistics</span>"
    ]
  },
  {
    "objectID": "4_00-GEOCODING.html",
    "href": "4_00-GEOCODING.html",
    "title": "GEOCODING",
    "section": "",
    "text": "In summary, this book has no content whatsoever.\n\n1 + 1\n\n[1] 2",
    "crumbs": [
      "GEOCODING"
    ]
  },
  {
    "objectID": "4_01-validating-addresses.html",
    "href": "4_01-validating-addresses.html",
    "title": "10  Validating Addresses",
    "section": "",
    "text": "In summary, this book has no content whatsoever.\n\n1 + 1\n\n[1] 2",
    "crumbs": [
      "GEOCODING",
      "<span class='chapter-number'>10</span>  <span class='chapter-title'>Validating Addresses</span>"
    ]
  },
  {
    "objectID": "4_02-geocoding-addresses.html",
    "href": "4_02-geocoding-addresses.html",
    "title": "11  Geocoding Addresses",
    "section": "",
    "text": "In summary, this book has no content whatsoever.\n\n1 + 1\n\n[1] 2",
    "crumbs": [
      "GEOCODING",
      "<span class='chapter-number'>11</span>  <span class='chapter-title'>Geocoding Addresses</span>"
    ]
  },
  {
    "objectID": "4_03-adding-geographies.html",
    "href": "4_03-adding-geographies.html",
    "title": "12  Adding Census Data",
    "section": "",
    "text": "In summary, this book has no content whatsoever.\n\n1 + 1\n\n[1] 2",
    "crumbs": [
      "GEOCODING",
      "<span class='chapter-number'>12</span>  <span class='chapter-title'>Adding Census Data</span>"
    ]
  },
  {
    "objectID": "5_00-WEIGHTS.html",
    "href": "5_00-WEIGHTS.html",
    "title": "SURVEY WEIGHTS",
    "section": "",
    "text": "In summary, this book has no content whatsoever.\n\n1 + 1\n\n[1] 2",
    "crumbs": [
      "SURVEY WEIGHTS"
    ]
  }
]