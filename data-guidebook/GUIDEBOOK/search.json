[
  {
    "objectID": "30-YEAR-THREE.html",
    "href": "30-YEAR-THREE.html",
    "title": "YEAR THREE DATA",
    "section": "",
    "text": "Required R Packages\nThis chapter will utilize the following packages:\nlibrary( haven )\nlibrary( dplyr )\nlibrary( tidyr )\nlibrary( epoxy )\nlibrary( memisc )\nlibrary( labelled )",
    "crumbs": [
      "YEAR THREE DATA"
    ]
  },
  {
    "objectID": "30-YEAR-THREE.html#renaming-columns",
    "href": "30-YEAR-THREE.html#renaming-columns",
    "title": "YEAR THREE DATA",
    "section": "Renaming Columns",
    "text": "Renaming Columns\nColumns referencing survey questions are renamed with the help of a data dictionary to improve readability.\n\ntorename &lt;- \n  dd %&gt;% \n  dplyr::select( vname, vname_raw ) %&gt;% \n  tidyr::drop_na()\n\ntorename &lt;- dplyr::filter( torename, vname_raw != \"Q10.2_4\" )\n\n# torename$vname_raw %&gt;% setdiff( names(survey_df) )\n\nExamples:\n\n\n[1] \"Q4.1#1_1_1\" \"Q4.1#1_2_1\" \"Q4.1#2_1_1\" \"Q4.1#2_2_1\"\n\n\nGive the data meaningful names so that it is easier to work with.\n\n# USE RAW VNAME IF VNAME IS EMPTY:\ndd$vname[ is.na(dd$vname) ] &lt;- dd$vname_raw[ is.na(dd$vname) ]\n\nsurvey_df &lt;- \n  survey_df %&gt;% \n  dplyr::rename_at(\n     vars( torename$vname_raw ), \n     ~ torename$vname )\n\nExamples:\n\n\n[1] \"PplSrv_NumServed\"      \"PplSrv_NumWait\"        \"PplSrv_NumServed_NA_X\"\n[4] \"PplSrv_NumWait_NA_X\"  \n\n\nAdd survey questions as an attribute in the data frame:\n\ntemp          &lt;- readr::read_csv( paste0( fpath, fname ) )\nquestion.txt  &lt;- as.character( temp[ 1, ] )\nrm( temp )\n\nnames( question.txt ) &lt;- names( survey_df )\nattr( survey_df, \"question_txt\" ) &lt;- question.txt",
    "crumbs": [
      "YEAR THREE DATA"
    ]
  },
  {
    "objectID": "30-YEAR-THREE.html#drop-nuisance-fields",
    "href": "30-YEAR-THREE.html#drop-nuisance-fields",
    "title": "YEAR THREE DATA",
    "section": "Drop Nuisance Fields",
    "text": "Drop Nuisance Fields\nMany of the exported qualtrics fields contain non-useful metadata or are empty. These have been labeled as “DROP” in the group field. Remove these for convenience.\n\n# SELECT COLUMNS TO DROP: \nDROP_THESE &lt;- dd$vname[ dd$group == \"DROP\" ] |&gt; na.omit()\n\nsurvey_df &lt;- \n  survey_df %&gt;% \n  dplyr::select( -any_of( DROP_THESE ) )",
    "crumbs": [
      "YEAR THREE DATA"
    ]
  },
  {
    "objectID": "33-year3-summarize-responses.html",
    "href": "33-year3-summarize-responses.html",
    "title": "9  Summary Statistics",
    "section": "",
    "text": "10 CHANGES TO PROGRAMS AND SERVICES",
    "crumbs": [
      "YEAR THREE DATA",
      "<span class='chapter-number'>9</span>  <span class='chapter-title'>Summary Statistics</span>"
    ]
  },
  {
    "objectID": "33-year3-summarize-responses.html#save-outputs",
    "href": "33-year3-summarize-responses.html#save-outputs",
    "title": "9  Summary Statistics",
    "section": "30.1 Save outputs",
    "text": "30.1 Save outputs\n\nfpath &lt;- \"DATA-PREP/03-year-three/03-data-final/\"\nfname &lt;- \"YEAR-03-DATA-RESTRICTED-V02.csv\"\nwrite.csv( survey_df, paste0( fpath, fname ), row.names=F, na=\"\" )\n\n\n# fpath &lt;- \"DATA-PREP/03-year-three/02-data-intermediate/\"\n# fname &lt;- \"DATA-CODEBOOK.txt\"\n# memisc::Write( codebook(survey_df), file=paste0( fpath, fname ) )",
    "crumbs": [
      "YEAR THREE DATA",
      "<span class='chapter-number'>9</span>  <span class='chapter-title'>Summary Statistics</span>"
    ]
  },
  {
    "objectID": "32-year3-fix-demographics.html",
    "href": "32-year3-fix-demographics.html",
    "title": "8  Reconcile Demographic Variables",
    "section": "",
    "text": "9 Get Year1 Race Variables\nfpath     &lt;- \"DATA-PREP/01-year-one/02-data-intermediate/\"\nfname     &lt;- \"wave-01-data-intermediate.csv\"\nyear1_raw &lt;- readr::read_csv( paste0( fpath, fname ) )\n# Wrangle Data for Year 1 Responses on CEO race and Gender\nyear1_ceo &lt;- year1_raw %&gt;% \n  dplyr::select(EIN, CEOrace, CEOgender ) %&gt;% \n  dplyr::filter(  ! CEOrace %in% c(-99, NA),\n                  ! CEOgender %in% c(-99, NA)  ) %&gt;% \n  dplyr::mutate(\n    CEOrace = dplyr::case_match(\n      CEOrace,\n      1 ~ \"AAPI\", 2 ~ \"Black\", 3 ~ \"Hisp\", 4 ~ \"NativeAm\", 5 ~ \"White\", 6 ~ \"Bi\", 7 ~ \"Oth\",\n      .default = \"Oth\"\n    ),\n    CEOgender = dplyr::case_match(\n      CEOgender,\n      1 ~ \"Man\", 2 ~ \"Woman\", 3 ~ \"Trans\", 4 ~ \"NB\", 5 ~ \"Oth\",\n      .default = \"Oth\"\n    ),\n  race_check = \"Yes\",\n  gender_check = \"Yes\"\n  ) %&gt;% \n  tidyr::pivot_wider(\n    names_from = CEOrace,\n    names_glue = \"CEOrace_{CEOrace}\",\n    values_from = race_check, \n    values_fill = \"No\"\n  ) %&gt;% \n  tidyr::pivot_wider(\n    names_from = CEOgender,\n    names_glue = \"CEOgender_{CEOgender}\",\n    values_from = gender_check, \n    values_fill = \"No\"\n  )\n\n# Wrangle Data for Year 1 Responses on Board Chair Race and Gender\nyear1_board &lt;- year1_raw %&gt;% \n  dplyr::select(EIN, BCrace, BCgender) %&gt;% \n  dplyr::filter(  ! BCrace %in% c(-99, NA),\n                  ! BCgender %in% c(-99, NA)) %&gt;% \n  dplyr::mutate(\n    BCrace = dplyr::case_match(\n      BCrace,\n      1 ~ \"AAPI\", 2 ~ \"Black\", 3 ~ \"Hisp\", 4 ~ \"NativeAm\", 5 ~ \"White\", 6 ~ \"Bi\", 7 ~ \"Oth\",\n      .default = \"Oth\"\n    ),\n    BCgender = dplyr::case_match(\n      BCgender,\n      1 ~ \"Man\", 2 ~ \"Woman\", 3 ~ \"Trans\", 4 ~ \"NB\", 5 ~ \"Oth\",\n      .default = \"Oth\"\n    ),\n  race_check = \"Yes\",\n  gender_check = \"Yes\"\n  ) %&gt;% \n  tidyr::pivot_wider(\n    names_from = BCrace,\n    names_glue = \"BChairrace_{BCrace}\",\n    values_from = race_check, \n    values_fill = \"No\"\n  ) %&gt;% \n  tidyr::pivot_wider(\n    names_from = BCgender,\n    names_glue = \"BChairgender_{BCgender}\",\n    values_from = gender_check, \n    values_fill = \"No\"\n  )\n\ndf.race2021 &lt;- merge( year1_ceo, year1_board, by=\"EIN\", all=TRUE )",
    "crumbs": [
      "YEAR THREE DATA",
      "<span class='chapter-number'>8</span>  <span class='chapter-title'>Reconcile Demographic Variables</span>"
    ]
  },
  {
    "objectID": "32-year3-fix-demographics.html#race-and-gender-checkboxes",
    "href": "32-year3-fix-demographics.html#race-and-gender-checkboxes",
    "title": "8  Reconcile Demographic Variables",
    "section": "14.1 Race and Gender Checkboxes",
    "text": "14.1 Race and Gender Checkboxes\nThese checkboxes are ticked by the respondent to indicate if their CEO or board chair belong to a specified race or gender identity.\n\n\n\n\n\n\n\n\n\n\nOriginal Value\nDescription\nRecode Label\nRecode Value\nCode as Missing ?\n\n\n\n\nAsian/Pacific Islander\nCheckbox Checked\nYes\n1\nNo\n\n\nBlack/African American\nCheckbox Checked\nYes\n1\nNo\n\n\nLatinx/Hispanic\nCheckbox Checked\nYes\n1\nNo\n\n\nNative American/American Indian\nCheckbox Checked\nYes\n1\nNo\n\n\nWhite\nCheckbox Checked\nYes\n1\nNo\n\n\nMan\nCheckbox Checked\nYes\n1\nNo\n\n\nWoman\nCheckbox Checked\nYes\n1\nNo\n\n\nTrans\nCheckbox Checked\nYes\n1\nNo\n\n\nGender non-conforming/Non-Binary\nCheckbox Checked\nYes\n1\nNo\n\n\nOther (please specify)\nCheckbox Checked\nYes\n1\nNo\n\n\n0\nCheckbox Unchecked\nNo\n0\nNo\n\n\n-99\nIncomplete\nIncomplete\n99\nYes\n\n\nNA\nUnanswered\nNA\nNA\nYes\n\n\n\n\n# APPLY TO COLUMNS K:\nCOLUMNS &lt;-  race_gender_qns_bool\n\n\n# VALUES THAT NEED RECODING\n\nRULES &lt;- c(     \"    1    =&gt;&gt;    Yes    \", \n                \"  Yes    =&gt;&gt;    Yes    \", \n                \"   No    =&gt;&gt;     No    \"     )\n\n\nrules &lt;- parse_rules( RULES )\npattern &lt;- rules[[ \"pattern\" ]]\nreplace &lt;- rules[[ \"replace\" ]]\n\n# MEMISC LABELS AND MISSING VALUE CODES\nvalues  &lt;- c( \"No\", \"Yes\", \"\", NA )\nlabels  &lt;- c( \"No\", \"Yes\", \"Missing in 2022\", \"No Response\" )\nmissing &lt;- c( \"\", NA )\n\n# RECODE VARIABLES\nsurvey_df &lt;-\n  survey_df %&gt;%\n  recode_columns( k=COLUMNS, pattern, replace, values, labels, missing )\n\nExample:\n\n\n\n\n\n\nCEOrace_White — ‘TYPE: boolean’\n\n\n“Race of CEO”\n\n\n\n\n\n\n\n\nStorage mode:\n\n\ncharacter\n\n\n\n\nMeasurement:\n\n\nnominal\n\n\n\n\nMissing values:\n\n\n, NA\n\n\n\n\n\n\n\n\nValues and labels\n\n\nN\n\n\nValid\n\n\nTotal\n\n\n\n\nM\n\n\n\n\n‘Missing in 2022’\n\n\n59\n\n\n\n\n\n\n\n\n10\n\n\n.\n\n\n4\n\n\n\n\nNo\n\n\n\n\n‘No’\n\n\n43\n\n\n10\n\n\n.\n\n\n7\n\n\n7\n\n\n.\n\n\n6\n\n\n\n\nYes\n\n\n\n\n‘Yes’\n\n\n358\n\n\n89\n\n\n.\n\n\n3\n\n\n63\n\n\n.\n\n\n0\n\n\n\n\nNA\n\n\nM\n\n\n‘No Response’\n\n\n54\n\n\n\n\n\n\n\n\n9\n\n\n.\n\n\n5\n\n\n\n\nNA\n\n\nM\n\n\n\n\n54\n\n\n\n\n\n\n\n\n9\n\n\n.\n\n\n5\n\n\n\n\n\n\n\nQUESTION TXT:\n\n\nWhich of the following best describes the race/ethnicity for your organization’s current Chief Executive (i.e., Executive Director or CEO)? (Select all that apply) - Selected Choice - White",
    "crumbs": [
      "YEAR THREE DATA",
      "<span class='chapter-number'>8</span>  <span class='chapter-title'>Reconcile Demographic Variables</span>"
    ]
  },
  {
    "objectID": "32-year3-fix-demographics.html#aggregated-race-variable",
    "href": "32-year3-fix-demographics.html#aggregated-race-variable",
    "title": "8  Reconcile Demographic Variables",
    "section": "14.2 Aggregated Race Variable",
    "text": "14.2 Aggregated Race Variable\n\n\n\n\n\n\n\n\n\n\nOriginal Value\nDescription\nRecode Label\nRecode Value\nCode as Missing ?\n\n\n\n\n1\nAsian/Pacific Islander\nAAPI\n1\nNo\n\n\n1\nBlack/African American\nBlack\n2\nNo\n\n\n1\nLatinx/Hispanic\nHisp\n3\nNo\n\n\n1\nNative American/American Indian\nNativeAm\n4\nNo\n\n\n1\nWhite\nWhite\n5\nNo\n\n\n1\nBi/Multi-racial\nBi\n6\nNo\n\n\n1\nOther (please specify)\nOth\n7\nNo\n\n\n0\nCheckbox Unchecked\nNA\nYes\n\n\n\n\n\n# Create New Race variables\nsurvey_df &lt;- survey_df %&gt;%\n  dplyr::mutate(\n    CEOrace = dplyr::case_when(\n      CEOrace_AAPI == 'Yes' ~ 1,\n      CEOrace_Black == 'Yes' ~ 2,\n      CEOrace_Hisp == 'Yes' ~ 3,\n      CEOrace_NativeAm == 'Yes' ~ 4,\n      CEOrace_White == 'Yes' ~ 5,\n      CEOrace_Oth == 'Yes' ~ 6,\n      CEOrace_Bi == 'Yes' ~ 7,\n      .default = NA\n    ),\n    BChairrace = dplyr::case_when(\n      BChairrace_AAPI == 'Yes' ~ 1,\n      BChairrace_Black == 'Yes' ~ 2,\n      BChairrace_Hisp == 'Yes' ~ 3,\n      BChairrace_NativeAm == 'Yes' ~ 4,\n      BChairrace_White == 'Yes' ~ 5,\n      BChairrace_Oth == 'Yes' ~ 6,\n      BChairrace_Bi == 'Yes' ~ 7,\n      .default = NA\n  ))\n\nrace.categories &lt;- c(\"CEOrace\", \"BChairrace\")\n\n# Create Survey Item\nsurvey_df &lt;- create_survey_item(\n  survey_df, \n  race.categories, \n  recode_vals = c(1, 2, 3, 4, 5, 6, 7), \n  recode_labs = c(\"AAPI\", \"Black\", \"Hispanic\", \"NativeAm\", \"White\", \"Other\",\"Biracial\"), \n  missing_vals = NULL\n)\n\nExample:\n\n\n\n\n\n\nCEOrace\n\n\n\n\n\n\n\n\nStorage mode:\n\n\ndouble\n\n\n\n\nMeasurement:\n\n\nnominal\n\n\n\n\n\n\n\n\nValues and labels\n\n\nN\n\n\nValid\n\n\nTotal\n\n\n\n\n1\n\n\n\n\n‘AAPI’\n\n\n6\n\n\n1\n\n\n.\n\n\n5\n\n\n1\n\n\n.\n\n\n2\n\n\n\n\n2\n\n\n\n\n‘Black’\n\n\n20\n\n\n5\n\n\n.\n\n\n0\n\n\n3\n\n\n.\n\n\n9\n\n\n\n\n3\n\n\n\n\n‘Hispanic’\n\n\n8\n\n\n2\n\n\n.\n\n\n0\n\n\n1\n\n\n.\n\n\n6\n\n\n\n\n4\n\n\n\n\n‘NativeAm’\n\n\n4\n\n\n1\n\n\n.\n\n\n0\n\n\n0\n\n\n.\n\n\n8\n\n\n\n\n5\n\n\n\n\n‘White’\n\n\n354\n\n\n88\n\n\n.\n\n\n7\n\n\n68\n\n\n.\n\n\n9\n\n\n\n\n6\n\n\n\n\n‘Other’\n\n\n7\n\n\n1\n\n\n.\n\n\n8\n\n\n1\n\n\n.\n\n\n4\n\n\n\n\n7\n\n\n\n\n‘Biracial’\n\n\n0\n\n\n0\n\n\n.\n\n\n0\n\n\n0\n\n\n.\n\n\n0\n\n\n\n\nNA\n\n\nM\n\n\n\n\n115\n\n\n\n\n\n\n\n\n22\n\n\n.\n\n\n4",
    "crumbs": [
      "YEAR THREE DATA",
      "<span class='chapter-number'>8</span>  <span class='chapter-title'>Reconcile Demographic Variables</span>"
    ]
  },
  {
    "objectID": "31-year3-recoding-rules.html",
    "href": "31-year3-recoding-rules.html",
    "title": "7  Relabeling Qualtrics Variables",
    "section": "",
    "text": "8 Yes/No Questions\n# APPLY TO COLUMNS K:\nbool_qns &lt;- \n  c( program_change_qns_bool, \n     fundraise_qns_bool, \n     cares_qns_bool, \n     finance_chng_qns_bool, \n     leadership_chng_qns_bool )\n\nCOLUMNS &lt;-  bool_qns\n\n# VALUES THAT NEED RECODING\nRULES &lt;- c(\n  \n           \"  Yes    =&gt;&gt;    1    \", \n           \"  No     =&gt;&gt;    0    \", \n           \"  Unsure =&gt;&gt;    97   \", \n           \"  N/A    =&gt;&gt;    98   \", \n           \"  -99    =&gt;&gt;    99   \"   )\n\nrules &lt;- parse_rules( RULES )          \npattern &lt;- rules[[ \"pattern\" ]]\nreplace &lt;- rules[[ \"replace\" ]]\n\n\n# MEMISC LABELS AND MISSING VALUE CODES\nvalues  &lt;- c( 0, 1, 97, 98, 99 )\nlabels  &lt;- c( \"No\", \"Yes\", \"Unsure\", \"Not Applicable\", \"N/A\" )\nmissing &lt;- c( 97, 98, 99 )\n\n# RECODE VARIABLES \nsurvey_df &lt;- \n  survey_df %&gt;% \n  recode_columns( k=COLUMNS, pattern, replace, values, labels, missing )\nExample:",
    "crumbs": [
      "YEAR THREE DATA",
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Relabeling Qualtrics Variables</span>"
    ]
  },
  {
    "objectID": "31-year3-recoding-rules.html#seek-or-receive-fundraising-questions",
    "href": "31-year3-recoding-rules.html#seek-or-receive-fundraising-questions",
    "title": "7  Relabeling Qualtrics Variables",
    "section": "9.1 Seek or Receive Fundraising Questions",
    "text": "9.1 Seek or Receive Fundraising Questions\nThese checkboxes are ticked by the respondent to indicate if they have sought or received funding from a specific source.\n\n\n\n\n\n\n\n\n\n\nOriginal Value\nDescription\nRecode Label\nRecode Value\nCode as Missing?\n\n\n\n\n1\nCheckbox Checked\nYes\n1\nNo\n\n\nNA\nCheckbox Unchecked\nNo\n0\nNo\n\n\nAll NA\nUnanswered\nNA\nNA\nYes\n\n\n\nALL NA refers to no responses on all questions in this entire question group (i.e. the respondent skipped the section).\n\n# APPLY TO COLUMNS K:\nCOLUMNS &lt;-  fundraise_skrcv_qns_bool\n\n\n# ALL RESPONSES NA IN GROUP:\n# indication that the question\n# was skipped by the respondent\n\nrow.id &lt;- apply( survey_df[ COLUMNS ], \n                 MARGIN = 1, \n                 FUN = function(x) all(is.na(x)) ) \n\n# NA means \"no\"\n\nna_to_zero &lt;- function(x){\n  x[ is.na(x) ] &lt;- 0\n  return(x)\n}\n\nsurvey_df[ COLUMNS ] &lt;- \n  survey_df[ COLUMNS ] %&gt;% \n  lapply( na_to_zero )\n\n# if they do not respond \"yes\" \n# to at least one question then\n# assume they skipped them all\n\nzero_to_na &lt;- function( x, rowid ){\n  x[ rowid ] &lt;- NA\n  return(x)\n}\n\nsurvey_df[ COLUMNS ] &lt;- \n  survey_df[ COLUMNS ] %&gt;% \n  lapply( zero_to_na, row.id )\n\n\n\n# VALUES THAT NEED RECODING\n\nRULES &lt;- c(    \n  \n  \"    1      =&gt;&gt;    1    \", \n  \"   NA      =&gt;&gt;    0    \"    )\n\n\nrules &lt;- parse_rules( RULES )          \npattern &lt;- rules[[ \"pattern\" ]]\nreplace &lt;- rules[[ \"replace\" ]]\n\n# MEMISC LABELS AND MISSING VALUE CODES \nvalues  &lt;- c( \"0\", \"1\" )\nlabels  &lt;- c( \"No\", \"Yes\" )\nmissing &lt;- NA\n\n# RECODE VARIABLES \nsurvey_df &lt;- \n  survey_df %&gt;% \n  recode_columns( k=COLUMNS, pattern, replace, values, labels, missing )\n\nExample:\n\n\n\n\n\n\nFndRaise_LocGvtGrnt_Seek — ‘TYPE: boolean’\n\n\n“Indicates if nonprofit sought a local government grant”\n\n\n\n\n\n\n\n\nStorage mode:\n\n\ncharacter\n\n\n\n\nMeasurement:\n\n\nnominal\n\n\n\n\nMissing values:\n\n\nNA\n\n\n\n\n\n\n\n\nValues and labels\n\n\nN\n\n\nValid\n\n\nTotal\n\n\n\n\n0\n\n\n\n\n‘No’\n\n\n198\n\n\n41\n\n\n.\n\n\n9\n\n\n39\n\n\n.\n\n\n4\n\n\n\n\n1\n\n\n\n\n‘Yes’\n\n\n274\n\n\n58\n\n\n.\n\n\n1\n\n\n54\n\n\n.\n\n\n6\n\n\n\n\nNA\n\n\nM\n\n\n\n\n30\n\n\n\n\n\n\n\n\n6\n\n\n.\n\n\n0\n\n\n\n\n\n\n\nQUESTION TXT:\n\n\nIn the last year (2022), did your organization seek or receive revenue from any of the followi… - Did you SEEK or APPLY for this funding? - Local government grants - (select all that apply)",
    "crumbs": [
      "YEAR THREE DATA",
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Relabeling Qualtrics Variables</span>"
    ]
  },
  {
    "objectID": "31-year3-recoding-rules.html#regulation-checkboxes",
    "href": "31-year3-recoding-rules.html#regulation-checkboxes",
    "title": "7  Relabeling Qualtrics Variables",
    "section": "9.2 Regulation Checkboxes",
    "text": "9.2 Regulation Checkboxes\nThese questions are presented as a checkbox to the user to indicate that a question is not applicable. “Yes” here means “Yes, this question is not applicable”.\n\n\n\n\n\n\n\n\n\n\nOriginal Value\nDescription\nRecode Label\nRecode Value\nCode as Missing ?\n\n\n\n\n1\nCheckbox Checked\nYes\n1\nNo\n\n\nNA\nUnanswered\nNo\n0\nNo\n\n\n22\nCheckbox Checked\nYes\n1\nNo\n\n\n21\nUnchecked Box\nNo\n0\nNo\n\n\n\n\n# APPLY TO COLUMNS K:\n\n# exclude OTHER TXT question\nother &lt;- which( regulation_qns == \"Regulations_Other_TEXT\" )\nCOLUMNS &lt;-  regulation_qns[ - other  ]\n\n\n# \"did not contact any agencies\":\n# ~ NONE CONTACTED\n\ndnc.rows &lt;- survey_df$Regulations == 21 \n\n# all rows NA: \n# question skipped by respondent\n\nna.rows &lt;- is.na( survey_df$Regulations )\n\n\n# NA means \"NO\"\n\nna_to_zero &lt;- function(x){\n  x[ is.na(x) ] &lt;- 0\n  return(x)\n}\n\nsurvey_df[ COLUMNS ] &lt;- \n  survey_df[ COLUMNS ] %&gt;% \n  lapply( na_to_zero )\n\n\n# if they responded \"NONE CONTACTED\" (21) \n# to the first question code\n# the rest as \"NONE CONTACTED\"\n\nzero_to_dnc &lt;- function( x, rowid ){\n  x[ rowid ] &lt;- \"NONE CONTACTED\"\n  return(x)\n}\n\nsurvey_df[ COLUMNS ] &lt;- \n  survey_df[ COLUMNS ] %&gt;% \n  lapply( zero_to_dnc, row.id )\n\n# if the first question was NA \n# code all as missing (\"no response\")\n\nzero_to_noresp &lt;- function( x, rowid ){\n  x[ rowid ] &lt;- \"NO RESPONSE\"\n  return(x)\n}\n\nsurvey_df[ COLUMNS ] &lt;- \n  survey_df[ COLUMNS ] %&gt;% \n  lapply( zero_to_noresp, row.id )\n\n\n# VALUES THAT NEED RECODING\n\nRULES &lt;- c(    \"   22    =&gt;&gt;     1                \",\n               \"   21    =&gt;&gt;     NONE CONTACTED   \",\n               \"   NA    =&gt;&gt;     NO RESPONSE      \", \n               \"    1    =&gt;&gt;     1                \"    )\n\n\nrules &lt;- parse_rules( RULES )          \npattern &lt;- rules[[ \"pattern\" ]]\nreplace &lt;- rules[[ \"replace\" ]]\n\n\n# MEMISC LABELS AND MISSING VALUE CODES \nvalues  &lt;- c( \"0\", \"1\", \"NONE CONTACTED\", \"NO RESPONSE\" )\nlabels  &lt;- c( \"No\", \"Yes\", \"None Contacted\", \"No Response\" )\nmissing &lt;- \"NO RESPONSE\"\n\n# RECODE VARIABLES \nsurvey_df &lt;- \n  survey_df %&gt;% \n  recode_columns( k=COLUMNS, pattern, replace, values, labels, missing )\n\nExample:\n\n\n\n\n\n\nRegulations — ‘TYPE: boolean’\n\n\n“Indicates whether the nonprofit contacted federal, state, or local regulatory agencies in the past 2 years”\n\n\n\n\n\n\n\n\nStorage mode:\n\n\ncharacter\n\n\n\n\nMeasurement:\n\n\nnominal\n\n\n\n\nMissing values:\n\n\nNO RESPONSE\n\n\n\n\n\n\n\n\nValues and labels\n\n\nN\n\n\nValid\n\n\nTotal\n\n\n\n\n0\n\n\n\n\n‘No’\n\n\n53\n\n\n11\n\n\n.\n\n\n2\n\n\n10\n\n\n.\n\n\n6\n\n\n\n\n1\n\n\n\n\n‘Yes’\n\n\n151\n\n\n32\n\n\n.\n\n\n0\n\n\n30\n\n\n.\n\n\n1\n\n\n\n\nNO\n\n\n\n\nRESPONSE M ‘No Response’\n\n\n30\n\n\n\n\n\n\n\n\n6\n\n\n.\n\n\n0\n\n\n\n\nNONE\n\n\n\n\nCONTACTED ‘None Contacted’\n\n\n268\n\n\n56\n\n\n.\n\n\n8\n\n\n53\n\n\n.\n\n\n4\n\n\n\n\n\n\n\nQUESTION TXT:\n\n\nHas your organization contacted federal, state or local regulatory agencies (IRS, State Attorney Generals, Secretaries of State, or other state or local charities regulation officials) in the past 2 years?",
    "crumbs": [
      "YEAR THREE DATA",
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Relabeling Qualtrics Variables</span>"
    ]
  },
  {
    "objectID": "31-year3-recoding-rules.html#staffing-plans",
    "href": "31-year3-recoding-rules.html#staffing-plans",
    "title": "7  Relabeling Qualtrics Variables",
    "section": "9.3 Staffing Plans",
    "text": "9.3 Staffing Plans\nThese questions are presented as a checkbox to the user to indicate that a question is not applicable. “Yes” here means “Yes, this question is not applicable”.\n\n\n\n\n\n\n\n\n\n\nOriginal Value\nDescription\nRecode Label\nRecode Value\nCode as Missing ?\n\n\n\n\n1\nCheckbox Checked\nYes\n1\nNo\n\n\nNA\nUnanswered\nNo\n0\nNo\n\n\n\n\n# APPLY TO COLUMNS K:\nCOLUMNS &lt;-  staffing_plans\n\n\n# ALL RESPONSES NA IN GROUP:\n# indication that the question\n# was skipped by the respondent\n\nrow.id &lt;- apply( survey_df[ COLUMNS ], \n                 MARGIN = 1, \n                 FUN = function(x) all(is.na(x)) ) \n\n# VALUES THAT NEED RECODING\n\nRULES &lt;- c(    \n          \n             \"    1    =&gt;&gt;     1   \", \n             \"   NA    =&gt;&gt;     0   \"   )\n\n\nrules &lt;- parse_rules( RULES )          \npattern &lt;- rules[[ \"pattern\" ]]\nreplace &lt;- rules[[ \"replace\" ]]\n\n# NA means \"no\"\n\nna_to_zero &lt;- function(x){\n  x[ is.na(x) ] &lt;- 0\n  return(x)\n}\n\nsurvey_df[ COLUMNS ] &lt;- \n  survey_df[ COLUMNS ] %&gt;% \n  lapply( na_to_zero )\n\n# if they do not respond \"yes\" \n# to at least one question then\n# assume they skipped them all\n\nzero_to_na &lt;- function( x, rowid ){\n  x[ rowid ] &lt;- NA\n  return(x)\n}\n\nsurvey_df[ COLUMNS ] &lt;- \n  survey_df[ COLUMNS ] %&gt;% \n  lapply( zero_to_na, row.id )\n\n# MEMISC LABELS AND MISSING VALUE CODES \nvalues  &lt;- c( \"0\", \"1\" )\nlabels  &lt;- c( \"No\", \"Yes\" )\nmissing &lt;- NA\n\n# RECODE VARIABLES \nsurvey_df &lt;- \n  survey_df %&gt;% \n  recode_columns( k=COLUMNS, pattern, replace, values, labels, missing )\n\nExample:\n\n\n\n\n\n\nStaffingPlans_HireDifferent — ‘TYPE: boolean’\n\n\n“Indicates whether the nonprofit has plans to hire new staff with different skills than existing staff in the next 12 months”\n\n\n\n\n\n\n\n\nStorage mode:\n\n\ncharacter\n\n\n\n\nMeasurement:\n\n\nnominal\n\n\n\n\nMissing values:\n\n\nNA\n\n\n\n\n\n\n\n\nValues and labels\n\n\nN\n\n\nValid\n\n\nTotal\n\n\n\n\n0\n\n\n\n\n‘No’\n\n\n260\n\n\n60\n\n\n.\n\n\n0\n\n\n51\n\n\n.\n\n\n8\n\n\n\n\n1\n\n\n\n\n‘Yes’\n\n\n173\n\n\n40\n\n\n.\n\n\n0\n\n\n34\n\n\n.\n\n\n5\n\n\n\n\nNA\n\n\nM\n\n\n\n\n69\n\n\n\n\n\n\n\n\n13\n\n\n.\n\n\n7\n\n\n\n\n\n\n\nQUESTION TXT:\n\n\nDoes your organization have plans to change its staffing in the next 12 months? (select all that apply) - Hire new staff with different skills than existing staff",
    "crumbs": [
      "YEAR THREE DATA",
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Relabeling Qualtrics Variables</span>"
    ]
  },
  {
    "objectID": "31-year3-recoding-rules.html#na-checkboxes",
    "href": "31-year3-recoding-rules.html#na-checkboxes",
    "title": "7  Relabeling Qualtrics Variables",
    "section": "9.4 N/A Checkboxes",
    "text": "9.4 N/A Checkboxes\nThese questions are presented as a checkbox to the user to indicate that a question is not applicable. “Yes” here means “Yes, this question is not applicable”.\n\n9.4.1 Staff Forecasts\nWe see three four cases:\n\nAll answered\nOnly answer for 2022 but don’t forecast 2023\nAnswer “does not apply to me”\nAnswer “does apply” but then don’t report numbers\n\nWe create an imputed version of 2023 numbers using 2022 numbers for missing cases (new variable x_2023 is saved as x_2023_imp for “imputed” ).\nReplace “OK” in the not applicable field with “UNSURE” if they report no staff numbers. These will become NA (missing) when the dataset is saved.\n\n\n    Staff_Fulltime_2022 Staff_Fulltime_2023 Staff_Fulltime_NA\n142                 100                 110                 0\n144                   1                   1                 0\n145                 210                 225                 0\n143                   1                  NA                 0\n146                   0                  NA                 0\n141                  NA                  NA                 1\n150                  NA                  NA                 0\n\n\nAfter imputation of 2023 responses (use 2022 values):\n\n\n    Staff_Fulltime_2022 Staff_Fulltime_2023 Staff_Fulltime_NA\n142                 100                 110                 0\n144                   1                   1                 0\n145                 210                 225                 0\n143                   1                   1                 0\n146                   0                   0                 0\n141                  NA                  NA                 1\n150                  NA                  NA                99\n\n\n\nimpute_staff &lt;- function( df, v2022, v2023, vNA ){\n  \n  x.2022 &lt;- df[[ v2022 ]]\n  x.2023 &lt;- df[[ v2023 ]]\n  x.NA   &lt;- df[[ vNA   ]]\n  \n  na.2022 &lt;- is.na( x.2022 )\n  na.2023 &lt;- is.na( x.2023 )\n  both.na &lt;- na.2022 & na.2023\n  \n  # Not applicable is \"unsure\"\n  x.NA[ is.na( x.NA ) ] &lt;- 0\n  x.NA[ x.NA == 0 & both.na ] &lt;- 99\n  \n  # impute missing 2023 values with 2022 values \n  x.2023[ na.2023 ] &lt;- x.2022[ na.2023 ]\n  v2023i &lt;- paste0( v2023, \"_imp\" )\n  \n  df[[ v2023i ]] &lt;- x.2023\n  df[[   vNA ]] &lt;- x.NA\n  \n  return(df)\n}\n\n\nsurvey_df &lt;- \n  survey_df %&gt;% \n  impute_staff( v2022=\"Staff_Fulltime_2022\", \n                v2023=\"Staff_Fulltime_2023\", \n                vNA=\"Staff_Fulltime_NA\" )\n\nsurvey_df &lt;- \n  survey_df %&gt;% \n  impute_staff( v2022=\"Staff_Parttime_2022\", \n                v2023=\"Staff_Parttime_2023\", \n                vNA=\"Staff_Parttime_NA\" )\n\nsurvey_df &lt;- \n  survey_df %&gt;% \n  impute_staff( v2022=\"Staff_Boardmmbr_2022\", \n                v2023=\"Staff_Boardmmbr_2023\", \n                vNA=\"Staff_Boardmmbr_NA\" )\n\nsurvey_df &lt;- \n  survey_df %&gt;% \n  impute_staff( v2022=\"Staff_RegVlntr_2022\", \n                v2023=\"Staff_RegVlntr_2023\", \n                vNA=\"Staff_RegVlntr_NA\" )\n\nsurvey_df &lt;- \n  survey_df %&gt;% \n  impute_staff( v2022=\"Staff_EpsdVltnr_2022\", \n                v2023=\"Staff_EpsdVltnr_2023\", \n                vNA=\"Staff_EpsdVltnr_NA\" )\n\nsurvey_df &lt;- \n  survey_df %&gt;% \n  impute_staff( v2022=\"Staff_AmerVlntr_2022\", \n                v2023=\"Staff_AmerVlntr_2023\", \n                vNA=\"Staff_AmerVlntr_NA\" )\n\nsurvey_df &lt;- \n  survey_df %&gt;% \n  impute_staff( v2022=\"Staff_PdCnslt_2022\", \n                v2023=\"Staff_PdCnslt_2023\", \n                vNA=\"Staff_PdCnslt_NA\" )\n\n\n\n\n\n\n\n\n\n\n\nOriginal Value\nDescription\nRecode Label\nRecode Value\nCode as Missing ?\n\n\n\n\n1\nYes, this question is not applicable\nNot Applicable\n1\nNo\n\n\nNA\nNo, this question applies to me\nOK\n1\nNo\n\n\nAll NA\nN/A response conflicts\nUnsure\n99\nYes\n\n\n\n\n# APPLY TO COLUMNS K:\nCOLUMNS &lt;-  staff_qns_bool\n\n# VALUES THAT NEED RECODING\n\nRULES &lt;- c(    \n          \n             \"    1    =&gt;&gt;      1    \", \n             \"    0    =&gt;&gt;      0    \", \n             \"   99    =&gt;&gt;     99    \"     )\n\n\nrules &lt;- parse_rules( RULES )          \npattern &lt;- rules[[ \"pattern\" ]]\nreplace &lt;- rules[[ \"replace\" ]]\n\n# MEMISC LABELS AND MISSING VALUE CODES \nvalues  &lt;- c( \"0\", \"1\", \"99\" )\nlabels  &lt;- c( \"OK\", \"N/A\", \"UNSURE\" )\nmissing &lt;- \"UNSURE\"\n\n# RECODE VARIABLES \nsurvey_df &lt;- \n  survey_df %&gt;% \n  recode_columns( k=COLUMNS, pattern, replace, values, labels, missing )\n\nExample:\n\n\n\n\n\n\nStaff_Fulltime_NA — ‘TYPE: boolean’\n\n\n“Number of full time staff not applicable”\n\n\n\n\n\n\n\n\nStorage mode:\n\n\ncharacter\n\n\n\n\nMeasurement:\n\n\nnominal\n\n\n\n\nMissing values:\n\n\nUNSURE\n\n\n\n\n\n\n\n\nValues and labels\n\n\nN\n\n\nPercent\n\n\n\n\n0\n\n\n\n\n‘OK’\n\n\n456\n\n\n90\n\n\n.\n\n\n8\n\n\n\n\n1\n\n\n\n\n‘N/A’\n\n\n40\n\n\n8\n\n\n.\n\n\n0\n\n\n\n\n99\n\n\n\n\n‘UNSURE’\n\n\n6\n\n\n1\n\n\n.\n\n\n2\n\n\n\n\n\n\n\nQUESTION TXT:\n\n\nHow many (paid and unpaid) people in your organization will have worke… - Check here if not applicable for your organization - Full-time paid staff (35 or more hours /week) - C\n\n\n\n\n\n\n\n\n\n9.4.2 Reserve Questions\n\n\n\n\n\n\n\n\n\n\nOriginal Value\nDescription\nRecode Label\nRecode Value\nCode as Missing ?\n\n\n\n\n1\nYes, this question is not applicable\nN/A\n1\nNo\n\n\nNA\nThis question applies to me\n0\nOK\nNo\n\n\nAll NA\nN/A response conflicts\nUnsure\n99\nYes\n\n\n\n\n# APPLY TO COLUMNS K:\nCOLUMNS &lt;-  reserve_qns_bool\n\nsurvey_df[ COLUMNS ] &lt;- \n  survey_df[ COLUMNS ] %&gt;% \n  lapply( na_to_zero )\n\n# did not respond to the reserve questions\nno.resp &lt;- is.na( survey_df$Reserves_Est )\nsurvey_df$Reserves_NA_X[ no.resp ] &lt;-  99\n    \n\n# VALUES THAT NEED RECODING\n\nRULES &lt;- c(    \n          \n             \"    1    =&gt;&gt;     1   \", \n             \"    0    =&gt;&gt;     0   \"   )\n\n\nrules &lt;- parse_rules( RULES )          \npattern &lt;- rules[[ \"pattern\" ]]\nreplace &lt;- rules[[ \"replace\" ]]\n\n\n# MEMISC LABELS AND MISSING VALUE CODES \nvalues  &lt;- c( \"0\", \"1\", \"99\" )\nlabels  &lt;- c( \"OK\", \"N/A\", \"Did Not Answer\" )\nmissing &lt;- \"99\"\n\n# RECODE VARIABLES \nsurvey_df &lt;- \n  survey_df %&gt;% \n  recode_columns( k=COLUMNS, pattern, replace, values, labels, missing )\n\nExample:\n\n\n\n\n\n\nReserves_NA_X — ‘TYPE: boolean’\n\n\n“Estimated total operating cash and unrestricted liquid assets in reserve is not applicable”\n\n\n\n\n\n\n\n\nStorage mode:\n\n\ncharacter\n\n\n\n\nMeasurement:\n\n\nnominal\n\n\n\n\nMissing values:\n\n\n99\n\n\n\n\n\n\n\n\nValues and labels\n\n\nN\n\n\nValid\n\n\nTotal\n\n\n\n\n0\n\n\n\n\n‘OK’\n\n\n355\n\n\n95\n\n\n.\n\n\n9\n\n\n70\n\n\n.\n\n\n7\n\n\n\n\n1\n\n\n\n\n‘N/A’\n\n\n15\n\n\n4\n\n\n.\n\n\n1\n\n\n3\n\n\n.\n\n\n0\n\n\n\n\n99\n\n\nM\n\n\n‘Did Not Answer’\n\n\n132\n\n\n\n\n\n\n\n\n26\n\n\n.\n\n\n3\n\n\n\n\n\n\n\nQUESTION TXT:\n\n\nApproximately how much total operating cash and unrestricted liquid assets in reserve did you… - Select here if your organization does not have a reserve fund - Total operating cash and unrestricted liquid assets in reserve - C\n\n\n\n\n\n\n\n\n\n9.4.3 People Served Questions\n\n\n\n\n\n\n\n\n\n\nOriginal Value\nDescription\nRecode Label\nRecode Value\nCode as Missing ?\n\n\n\n\n1\nYes, this question is not applicable\nN/A\n1\nNo\n\n\nNA\nThis question applies to me\n0\nOK\nNo\n\n\nAll NA\nN/A response conflicts\nUnsure\n99\nYes\n\n\n\n\n# APPLY TO COLUMNS K:\nCOLUMNS &lt;-  people_served_qns_bool\n\n\n# ALL RESPONSES NA IN GROUP:\n# indication that the question\n# was skipped by the respondent\n\npeople_qns &lt;- c( \"PplSrv_NumServed\", \"PplSrv_NumWait\" )\n\nrow.id &lt;- apply( survey_df[ people_qns ], \n                 MARGIN = 1, \n                 FUN = function(x){ all(is.na(x)) } ) \n\n\n# NA means \"no\"\n\nna_to_zero &lt;- function(x){\n  x[ is.na(x) ] &lt;- 0\n  return(x)\n}\n\nsurvey_df[ COLUMNS ] &lt;- \n  survey_df[ COLUMNS ] %&gt;% \n  lapply( na_to_zero )\n\n# if they do not respond \"yes\" \n# to at least one question then\n# assume they skipped them all\n\nzero_to_99 &lt;- function( x, rowid ){\n  x[ rowid ] &lt;- 99\n  return(x)\n}\n\nsurvey_df[ COLUMNS ] &lt;- \n  survey_df[ COLUMNS ] %&gt;% \n  lapply( zero_to_99, row.id )\n\n    \n\n# VALUES THAT NEED RECODING\n\nRULES &lt;- c(    \n          \n             \"    1    =&gt;&gt;     1   \", \n             \"    0    =&gt;&gt;     0   \"   )\n\n\nrules &lt;- parse_rules( RULES )          \npattern &lt;- rules[[ \"pattern\" ]]\nreplace &lt;- rules[[ \"replace\" ]]\n\n\n# MEMISC LABELS AND MISSING VALUE CODES \nvalues  &lt;- c( \"0\", \"1\", \"99\" )\nlabels  &lt;- c( \"OK\", \"N/A\", \"Did Not Answer\" )\nmissing &lt;- \"99\"\n\n# RECODE VARIABLES \nsurvey_df &lt;- \n  survey_df %&gt;% \n  recode_columns( k=COLUMNS, pattern, replace, values, labels, missing )\n\nExample:\n\n\n\n\n\n\nPplSrv_NumServed_NA_X — ‘TYPE: boolean’\n\n\n“Number of people served not applicable”\n\n\n\n\n\n\n\n\nStorage mode:\n\n\ncharacter\n\n\n\n\nMeasurement:\n\n\nnominal\n\n\n\n\nMissing values:\n\n\n99\n\n\n\n\n\n\n\n\nValues and labels\n\n\nN\n\n\nValid\n\n\nTotal\n\n\n\n\n0\n\n\n\n\n‘OK’\n\n\n444\n\n\n99\n\n\n.\n\n\n6\n\n\n88\n\n\n.\n\n\n4\n\n\n\n\n1\n\n\n\n\n‘N/A’\n\n\n2\n\n\n0\n\n\n.\n\n\n4\n\n\n0\n\n\n.\n\n\n4\n\n\n\n\n99\n\n\nM\n\n\n‘Did Not Answer’\n\n\n56\n\n\n\n\n\n\n\n\n11\n\n\n.\n\n\n2\n\n\n\n\n\n\n\nQUESTION TXT:\n\n\nApproximately how many people do you estimate your organization served and… - Check here if not applicable for your organization - Number of People Served - N/A",
    "crumbs": [
      "YEAR THREE DATA",
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Relabeling Qualtrics Variables</span>"
    ]
  },
  {
    "objectID": "31-year3-recoding-rules.html#increase---decrease-questions",
    "href": "31-year3-recoding-rules.html#increase---decrease-questions",
    "title": "7  Relabeling Qualtrics Variables",
    "section": "10.1 Increase - Decrease Questions",
    "text": "10.1 Increase - Decrease Questions\nThere 2 questions that ask respondents to define changes via an increase or decrease relative to previous years. They are recoded on an ordinal scale.",
    "crumbs": [
      "YEAR THREE DATA",
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Relabeling Qualtrics Variables</span>"
    ]
  },
  {
    "objectID": "31-year3-recoding-rules.html#changes-in-demand-questions",
    "href": "31-year3-recoding-rules.html#changes-in-demand-questions",
    "title": "7  Relabeling Qualtrics Variables",
    "section": "10.2 Changes in Demand Questions",
    "text": "10.2 Changes in Demand Questions\n\n\n\n\n\n\n\n\n\n\nOriginal Value\nDescription\nRecode Label\nRecode Value\nCode as Missing ?\n\n\n\n\nIncrease\nIncrease\nIncrease\n2\nNo\n\n\nStay the same\nStay the same\nUnchanged\n1\nNo\n\n\nDecrease\nDecrease\nDecrease\n0\nNo\n\n\n-99\nIncomplete\nNo\n99\nYes\n\n\nNA\nUnanswered\nNA\nNA\nYes\n\n\n\n\n# APPLY TO COLUMNS K:\nCOLUMNS &lt;-  demand_fct_qns\n\n# VALUES THAT NEED RECODING\n\nRULES &lt;- c(    \n          \n             \"   0    =&gt;&gt;     0   \",\n             \"   1    =&gt;&gt;     1   \", \n             \"  98    =&gt;&gt;     2   \"     )\n\n\nrules &lt;- parse_rules( RULES )          \npattern &lt;- rules[[ \"pattern\" ]]\nreplace &lt;- rules[[ \"replace\" ]]\n\n# MEMISC LABELS AND MISSING VALUE CODES \nvalues  &lt;- c( 2, 1, 0 )\nlabels  &lt;- c( \"Increase\", \"Unchanged\", \"Decrease\" )\nmissing &lt;- NA\n\n# RECODE VARIABLES \nsurvey_df &lt;- \n  survey_df %&gt;% \n  recode_columns( k=COLUMNS, pattern, replace, values, labels, missing )\n\nExample:\n\n\n\n\n\n\nDmnd_NxtYear — ‘TYPE: factor’\n\n\n“Demand for programs or services next year”\n\n\n\n\n\n\n\n\nStorage mode:\n\n\ncharacter\n\n\n\n\nMeasurement:\n\n\nnominal\n\n\n\n\nMissing values:\n\n\nNA\n\n\n\n\n\n\n\n\nValues and labels\n\n\nN\n\n\nValid\n\n\nTotal\n\n\n\n\n0\n\n\n\n\n‘Decrease’\n\n\n126\n\n\n25\n\n\n.\n\n\n2\n\n\n25\n\n\n.\n\n\n1\n\n\n\n\n1\n\n\n\n\n‘Unchanged’\n\n\n7\n\n\n1\n\n\n.\n\n\n4\n\n\n1\n\n\n.\n\n\n4\n\n\n\n\n2\n\n\n\n\n‘Increase’\n\n\n367\n\n\n73\n\n\n.\n\n\n4\n\n\n73\n\n\n.\n\n\n1\n\n\n\n\nNA\n\n\nM\n\n\n\n\n2\n\n\n\n\n\n\n\n\n0\n\n\n.\n\n\n4\n\n\n\n\n\n\n\nQUESTION TXT:\n\n\nIn the next year, do you anticipate the demand for your programs to decrease, stay the same, or increase?",
    "crumbs": [
      "YEAR THREE DATA",
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Relabeling Qualtrics Variables</span>"
    ]
  },
  {
    "objectID": "31-year3-recoding-rules.html#changes-in-fundraising-questions",
    "href": "31-year3-recoding-rules.html#changes-in-fundraising-questions",
    "title": "7  Relabeling Qualtrics Variables",
    "section": "10.3 Changes in Fundraising Questions",
    "text": "10.3 Changes in Fundraising Questions\n\n\n\n\n\n\n\n\n\n\nOriginal Value\nDescription\nRecode Label\nRecode Value\nCode as Missing ?\n\n\n\n\nIncreased significantly (by more than 10%)\nLargest Increase\nIncrease Significantly\n5\nNo\n\n\nIncreased moderately (by less than 10%)\nSecond Largest Increase\nIncrease Moderately\n4\nNo\n\n\nStayed more or less the same\nThird Largest Increase\nUnchanged\n3\nNo\n\n\nDecreased moderately (by less than 10%)\nFourth Largest Increase\nDecrease Moderately\n2\nNo\n\n\nDecreased significantly (by more than 10%)\nFifth Largest Increase\nDecrease Significantly\n1\nNo\n\n\nUnsure\nUnsure\nUnsure\n99\nMissing\n\n\n-99\nIncomplete\nIncomplete\n98\nYes\n\n\nN/A\nNot Applicable\nNot Applicable\n97\nYes\n\n\nNA\nUnanswered\nNA\nNA\nYes\n\n\n\n\n# APPLY TO COLUMNS K:\nCOLUMNS &lt;-  fundraise_change_qns_fct\n\n# VALUES THAT NEED RECODING\n\nrow.id &lt;- apply( survey_df[ COLUMNS ], \n                 MARGIN = 1, \n                 FUN = function(x) all(is.na(x)) )\n\nRULES &lt;- c(    \n          \n     \"   Increased significantly (by more than 10%)    =&gt;&gt;     5   \",\n     \"      Increased moderately (by less than 10%)    =&gt;&gt;     4   \",\n     \"                 Stayed more or less the same    =&gt;&gt;     3   \",\n     \"      Decreased moderately (by less than 10%)    =&gt;&gt;     2   \",\n     \"   Decreased significantly (by more than 10%)    =&gt;&gt;     1   \",\n     \"                                           98    =&gt;&gt;     0   \",\n     \"                                           99    =&gt;&gt;     X   \"  )\n \nrules &lt;- parse_rules( RULES )          \npattern &lt;- rules[[ \"pattern\" ]]\nreplace &lt;- rules[[ \"replace\" ]]\n\n\nall_na &lt;- function( x, rowid ){\n  x[ rowid ] &lt;- NA\n  return(x)\n}\n\nsurvey_df[ COLUMNS ] &lt;- \n  survey_df[ COLUMNS ] %&gt;% \n  lapply( all_na, row.id )\n\n\n# MEMISC LABELS AND MISSING VALUE CODES \nvalues  &lt;- c( 5, 4, 3, 2, 1, 0, \"X\"  )\nlabels  &lt;- c( \"Increase Significantly\", \"Increase Moderately\", \n              \"Unchanged\", \"Decrease Moderately\", \"Decrease Significantly\", \n              \"Unsure\", \"Not Applicable\" )\nmissing &lt;- c( \"X\" )\n\n# RECODE VARIABLES \nsurvey_df &lt;- \n  survey_df %&gt;% \n  recode_columns( k=COLUMNS, pattern, replace, values, labels, missing )\n\nExample:\n\n\n\n\n\n\nFndRaise_Overall_Chng — ‘TYPE: factor’\n\n\n“Change in overall donations”\n\n\n\n\n\n\n\n\nStorage mode:\n\n\ncharacter\n\n\n\n\nMeasurement:\n\n\nnominal\n\n\n\n\nMissing values:\n\n\nX\n\n\n\n\n\n\n\n\nValues and labels\n\n\nN\n\n\nValid\n\n\nTotal\n\n\n\n\n0\n\n\n\n\n‘Unsure’\n\n\n10\n\n\n2\n\n\n.\n\n\n2\n\n\n2\n\n\n.\n\n\n0\n\n\n\n\n1\n\n\n\n\n‘Decrease Significantly’\n\n\n62\n\n\n13\n\n\n.\n\n\n4\n\n\n12\n\n\n.\n\n\n4\n\n\n\n\n2\n\n\n\n\n‘Decrease Moderately’\n\n\n41\n\n\n8\n\n\n.\n\n\n9\n\n\n8\n\n\n.\n\n\n2\n\n\n\n\n3\n\n\n\n\n‘Unchanged’\n\n\n140\n\n\n30\n\n\n.\n\n\n4\n\n\n27\n\n\n.\n\n\n9\n\n\n\n\n4\n\n\n\n\n‘Increase Moderately’\n\n\n136\n\n\n29\n\n\n.\n\n\n5\n\n\n27\n\n\n.\n\n\n1\n\n\n\n\n5\n\n\n\n\n‘Increase Significantly’\n\n\n72\n\n\n15\n\n\n.\n\n\n6\n\n\n14\n\n\n.\n\n\n3\n\n\n\n\nX\n\n\nM\n\n\n‘Not Applicable’\n\n\n10\n\n\n\n\n\n\n\n\n2\n\n\n.\n\n\n0\n\n\n\n\nNA\n\n\nM\n\n\n\n\n31\n\n\n\n\n\n\n\n\n6\n\n\n.\n\n\n2\n\n\n\n\n\n\n\nQUESTION TXT:\n\n\nTo the best of your knowledge, has each of the following categories of donations to your org… - In 2022 compared to 2021 - Overall donations",
    "crumbs": [
      "YEAR THREE DATA",
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Relabeling Qualtrics Variables</span>"
    ]
  },
  {
    "objectID": "31-year3-recoding-rules.html#volunteer-importance",
    "href": "31-year3-recoding-rules.html#volunteer-importance",
    "title": "7  Relabeling Qualtrics Variables",
    "section": "11.1 Volunteer Importance",
    "text": "11.1 Volunteer Importance\n\n\n\n\n\n\n\n\n\n\nOriginal Value\nDescription\nRecode Label\nRecode Value\nCode as Missing ?\n\n\n\n\nEssential - we depend entirely on volunteers to carry out our mission and goals\nMaximum Importance\nEssential\n5\nNo\n\n\nVery important - we depend on volunteers for a wide range of tasks, but not all\nSecond Most Important\nVery Important\n4\nNo\n\n\nSomewhat important - we depend on volunteers for several key tasks\nThird Most Important\nSomewhat Important\n3\nNo\n\n\nNot very important - we depend on volunteers for only non-essential tasks\nFourth Most Important\nNot Very Important\n2\nNo\n\n\nNot at all important - we could carry out our mission and goals without using volunteers\nFifth Most Important\nNot At All Important\n1\nNo\n\n\nWe do not use volunteers\nSixth Most Important\nNot Used\n0\nNo\n\n\n-99\nIncomplete\nIncomplete\n99\nYes\n\n\nNA\nUnanswered\nNA\nNA\nYes\n\n\n\n\n# APPLY TO COLUMNS K:\nCOLUMNS &lt;-  volimportance_qns_fct\n\n# VALUES THAT NEED RECODING\n\nRULES &lt;- c(    \n\n\"           Essential - we depend entirely on volunteers to carry out our mission and goals    =&gt;&gt;     5   \",\n\"           Very important - we depend on volunteers for a wide range of tasks, but not all    =&gt;&gt;     4   \",\n\"                        Somewhat important - we depend on volunteers for several key tasks    =&gt;&gt;     3   \",\n\"                 Not very important - we depend on volunteers for only non-essential tasks    =&gt;&gt;     2   \",\n\"  Not at all important - we could carry out our mission and goals without using volunteers    =&gt;&gt;     1   \",\n\"                                                                  We do not use volunteers    =&gt;&gt;     0   \",\n\"                                                                                        99    =&gt;&gt;     0   \"    )\n\nrules &lt;- parse_rules( RULES )          \npattern &lt;- rules[[ \"pattern\" ]]\nreplace &lt;- rules[[ \"replace\" ]]\n\n# MEMISC LABELS AND MISSING VALUE CODES \nvalues  &lt;- c( 5, 4, 3, 2, 1, 0 )\nlabels  &lt;- c( \"Essential\", \"Very Important\", \"Somewhat Important\", \n              \"Not Very Important\", \"Not At All Important\", \"Not Used\" )\nmissing &lt;- NA\n\n# RECODE VARIABLES \nsurvey_df &lt;- \n  survey_df %&gt;% \n  recode_columns( k=COLUMNS, pattern, replace, values, labels, missing )\n\nExample:\n\n\n\n\n\n\nVolImportance — ‘TYPE: factor’\n\n\n“Importance of volunteers to organization”\n\n\n\n\n\n\n\n\nStorage mode:\n\n\ncharacter\n\n\n\n\nMeasurement:\n\n\nnominal\n\n\n\n\nMissing values:\n\n\nNA\n\n\n\n\n\n\n\n\nValues and labels\n\n\nN\n\n\nValid\n\n\nTotal\n\n\n\n\n0\n\n\n\n\n‘Not Used’\n\n\n31\n\n\n6\n\n\n.\n\n\n2\n\n\n6\n\n\n.\n\n\n2\n\n\n\n\n1\n\n\n\n\n‘Not At All Important’\n\n\n111\n\n\n22\n\n\n.\n\n\n2\n\n\n22\n\n\n.\n\n\n1\n\n\n\n\n2\n\n\n\n\n‘Not Very Important’\n\n\n134\n\n\n26\n\n\n.\n\n\n7\n\n\n26\n\n\n.\n\n\n7\n\n\n\n\n3\n\n\n\n\n‘Somewhat Important’\n\n\n149\n\n\n29\n\n\n.\n\n\n7\n\n\n29\n\n\n.\n\n\n7\n\n\n\n\n4\n\n\n\n\n‘Very Important’\n\n\n54\n\n\n10\n\n\n.\n\n\n8\n\n\n10\n\n\n.\n\n\n8\n\n\n\n\n5\n\n\n\n\n‘Essential’\n\n\n22\n\n\n4\n\n\n.\n\n\n4\n\n\n4\n\n\n.\n\n\n4\n\n\n\n\nNA\n\n\nM\n\n\n\n\n1\n\n\n\n\n\n\n\n\n0\n\n\n.\n\n\n2\n\n\n\n\n\n\n\nQUESTION TXT:\n\n\nHow important were volunteers – other than board members – to the work your organization conducted in 2021?",
    "crumbs": [
      "YEAR THREE DATA",
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Relabeling Qualtrics Variables</span>"
    ]
  },
  {
    "objectID": "31-year3-recoding-rules.html#donor-importance",
    "href": "31-year3-recoding-rules.html#donor-importance",
    "title": "7  Relabeling Qualtrics Variables",
    "section": "11.2 Donor Importance",
    "text": "11.2 Donor Importance\n\n\n\n\n\n\n\n\n\n\nOriginal Value\nDescription\nRecode Label\nRecode Value\nCode as Missing ?\n\n\n\n\nEssential, we depend entirely on individual donations to carry out our mission and goals\nMaximum Importance\nEssential\n5\nNo\n\n\nVery important, we depend on individual donations for a wide range of activities, but not all\nVery Important\n4\nNo\n\n\n\nImportant, we depend on individual donations for several key activities\nThird Most Important\nSomewhat Important\n3\nNo\n\n\nNot very important, we depend on individual donations for only non-essential activities\nFourth Most Important\nNot Very Important\n2\nNo\n\n\nNot at all important, we could carry out our mission and goals without donations from individuals\nFifth Most Important\nNot At All Important\n1\nNo\n\n\nWe do not receive donations from individuals\nSixth Most Important\nNot Used\n0\nNo\n\n\n-99\nIncomplete\nIncomplete\n99\nYes\n\n\nNA\nUnanswered\nNA\nNA\nYes\n\n\n\n\n# APPLY TO COLUMNS K:\nCOLUMNS &lt;-  donimportance_qns_fct\n\n# VALUES THAT NEED RECODING\n\nRULES &lt;- c(    \n\n  \"          Essential, we depend entirely on individual donations to carry out our mission and goals  =&gt;&gt;  5  \",\n  \"     Very important, we depend on individual donations for a wide range of activities, but not all  =&gt;&gt;  4  \",\n  \"                           Important, we depend on individual donations for several key activities  =&gt;&gt;  3  \",\n  \"           Not very important, we depend on individual donations for only non-essential activities  =&gt;&gt;  2  \",\n  \" Not at all important, we could carry out our mission and goals without donations from individuals  =&gt;&gt;  1  \",\n  \"                                                      We do not receive donations from individuals  =&gt;&gt;  0  \",\n  \"                                                                                                99  =&gt;&gt;  0  \"  )\n\n\nrules &lt;- parse_rules( RULES )          \npattern &lt;- rules[[ \"pattern\" ]]\nreplace &lt;- rules[[ \"replace\" ]]\n\n# MEMISC LABELS AND MISSING VALUE CODES \nvalues  &lt;- c( 5, 4, 3, 2, 1, 0  )\nlabels  &lt;- c( \"Essential\", \"Very Important\", \n              \"Somewhat Important\", \"Not Very Important\", \n              \"Not At All Important\", \"Not Used\" )\nmissing &lt;- NA\n\n# RECODE VARIABLES \nsurvey_df &lt;- \n  survey_df %&gt;% \n  recode_columns( k=COLUMNS, pattern, replace, values, labels, missing )\n\nExample:\n\n\n\n\n\n\nDonImportance — ‘TYPE: factor’\n\n\n“Importance of donors to organization”\n\n\n\n\n\n\n\n\nStorage mode:\n\n\ncharacter\n\n\n\n\nMeasurement:\n\n\nnominal\n\n\n\n\nMissing values:\n\n\nNA\n\n\n\n\n\n\n\n\nValues and labels\n\n\nN\n\n\nValid\n\n\nTotal\n\n\n\n\n0\n\n\n\n\n‘Not Used’\n\n\n12\n\n\n2\n\n\n.\n\n\n4\n\n\n2\n\n\n.\n\n\n4\n\n\n\n\n1\n\n\n\n\n‘Not At All Important’\n\n\n125\n\n\n25\n\n\n.\n\n\n0\n\n\n24\n\n\n.\n\n\n9\n\n\n\n\n2\n\n\n\n\n‘Not Very Important’\n\n\n218\n\n\n43\n\n\n.\n\n\n5\n\n\n43\n\n\n.\n\n\n4\n\n\n\n\n3\n\n\n\n\n‘Somewhat Important’\n\n\n97\n\n\n19\n\n\n.\n\n\n4\n\n\n19\n\n\n.\n\n\n3\n\n\n\n\n4\n\n\n\n\n‘Very Important’\n\n\n33\n\n\n6\n\n\n.\n\n\n6\n\n\n6\n\n\n.\n\n\n6\n\n\n\n\n5\n\n\n\n\n‘Essential’\n\n\n16\n\n\n3\n\n\n.\n\n\n2\n\n\n3\n\n\n.\n\n\n2\n\n\n\n\nNA\n\n\nM\n\n\n\n\n1\n\n\n\n\n\n\n\n\n0\n\n\n.\n\n\n2\n\n\n\n\n\n\n\nQUESTION TXT:\n\n\nHow important were donations from individuals (including direct donations and indirect donations through federated giving programs, United Way, and donor advised funds, or in-kind donations) to the work of your organization in 2021?",
    "crumbs": [
      "YEAR THREE DATA",
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Relabeling Qualtrics Variables</span>"
    ]
  }
]